{"ast":null,"code":"import _createForOfIteratorHelper from \"F:/front/Ebda2ha_Front/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper\";\nimport _inherits from \"F:/front/Ebda2ha_Front/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _createSuper from \"F:/front/Ebda2ha_Front/node_modules/@babel/runtime/helpers/esm/createSuper\";\nimport _toConsumableArray from \"F:/front/Ebda2ha_Front/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _slicedToArray from \"F:/front/Ebda2ha_Front/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport _createClass from \"F:/front/Ebda2ha_Front/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _classCallCheck from \"F:/front/Ebda2ha_Front/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\n\n/**\r\n * @license\r\n * Copyright Google LLC All Rights Reserved.\r\n *\r\n * Use of this source code is governed by an MIT-style license that can be\r\n * found in the LICENSE file at https://angular.io/license\r\n */\nimport { APP_BOOTSTRAP_LISTENER, PLATFORM_ID, NgModule, Injectable, InjectionToken, Inject, inject, NgZone, ɵɵdefineInjectable, ɵɵinject } from '@angular/core';\nimport { DOCUMENT, isPlatformBrowser, isPlatformServer } from '@angular/common';\nimport { Subject, BehaviorSubject, Observable, merge, asapScheduler, of, fromEvent } from 'rxjs';\nimport { filter, debounceTime, map, switchMap, takeUntil, take, tap } from 'rxjs/operators';\n/**\r\n * @fileoverview added by tsickle\r\n * Generated from: core/browser-provider.ts\r\n * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingRequire,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\n\n/**\r\n * Find all of the server-generated stylings, if any, and remove them\r\n * This will be in the form of inline classes and the style block in the\r\n * head of the DOM\r\n * @param {?} _document\r\n * @param {?} platformId\r\n * @return {?}\r\n */\n\nimport * as ɵngcc0 from '@angular/core';\n\nfunction removeStyles(_document, platformId) {\n  return (\n    /**\r\n    * @return {?}\r\n    */\n    function () {\n      if (isPlatformBrowser(platformId)) {\n        /** @type {?} */\n        var elements = Array.from(_document.querySelectorAll(\"[class*=\".concat(CLASS_NAME, \"]\"))); // RegExp constructor should only be used if passing a variable to the constructor.\n        // When using static regular expression it is more performant to use reg exp literal.\n        // This is also needed to provide Safari 9 compatibility, please see\n        // https://stackoverflow.com/questions/37919802 for more discussion.\n\n        /** @type {?} */\n\n        var classRegex = /\\bflex-layout-.+?\\b/g;\n        elements.forEach(\n        /**\r\n        * @param {?} el\r\n        * @return {?}\r\n        */\n        function (el) {\n          el.classList.contains(\"\".concat(CLASS_NAME, \"ssr\")) && el.parentNode ? el.parentNode.removeChild(el) : el.className.replace(classRegex, '');\n        });\n      }\n    }\n  );\n}\n/**\r\n *  Provider to remove SSR styles on the browser\r\n * @type {?}\r\n */\n\n\nvar BROWSER_PROVIDER = {\n  provide:\n  /** @type {?} */\n  APP_BOOTSTRAP_LISTENER,\n  useFactory: removeStyles,\n  deps: [DOCUMENT, PLATFORM_ID],\n  multi: true\n};\n/** @type {?} */\n\nvar CLASS_NAME = 'flex-layout-';\n/**\r\n * @fileoverview added by tsickle\r\n * Generated from: core/module.ts\r\n * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingRequire,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\n\n/**\r\n * *****************************************************************\r\n * Define module for common Angular Layout utilities\r\n * *****************************************************************\r\n */\n\nvar CoreModule = function CoreModule() {\n  _classCallCheck(this, CoreModule);\n};\n\nCoreModule.ɵmod = ɵngcc0.ɵɵdefineNgModule({\n  type: CoreModule\n});\nCoreModule.ɵinj = ɵngcc0.ɵɵdefineInjector({\n  factory: function CoreModule_Factory(t) {\n    return new (t || CoreModule)();\n  },\n  providers: [BROWSER_PROVIDER]\n});\n/*@__PURE__*/\n\n(function () {\n  ɵngcc0.ɵsetClassMetadata(CoreModule, [{\n    type: NgModule,\n    args: [{\n      providers: [BROWSER_PROVIDER]\n    }]\n  }], null, null);\n})();\n/**\r\n * @fileoverview added by tsickle\r\n * Generated from: core/media-change.ts\r\n * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingRequire,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\n\n/**\r\n * Class instances emitted [to observers] for each mql notification\r\n */\n\n\nvar MediaChange = /*#__PURE__*/function () {\n  /**\r\n   * @param {?=} matches whether the mediaQuery is currently activated\r\n   * @param {?=} mediaQuery e.g. (min-width: 600px) and (max-width: 959px)\r\n   * @param {?=} mqAlias e.g. gt-sm, md, gt-lg\r\n   * @param {?=} suffix e.g. GtSM, Md, GtLg\r\n   * @param {?=} priority the priority of activation for the given breakpoint\r\n   */\n  function MediaChange() {\n    var matches = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n    var mediaQuery = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'all';\n    var mqAlias = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : '';\n    var suffix = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : '';\n    var priority = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : 0;\n\n    _classCallCheck(this, MediaChange);\n\n    this.matches = matches;\n    this.mediaQuery = mediaQuery;\n    this.mqAlias = mqAlias;\n    this.suffix = suffix;\n    this.priority = priority;\n    this.property = '';\n  }\n  /**\r\n   * Create an exact copy of the MediaChange\r\n   * @return {?}\r\n   */\n\n\n  _createClass(MediaChange, [{\n    key: \"clone\",\n    value: function clone() {\n      return new MediaChange(this.matches, this.mediaQuery, this.mqAlias, this.suffix);\n    }\n  }]);\n\n  return MediaChange;\n}();\n/**\r\n * @fileoverview added by tsickle\r\n * Generated from: core/stylesheet-map/stylesheet-map.ts\r\n * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingRequire,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\n\n/**\r\n * Utility to emulate a CSS stylesheet\r\n *\r\n * This utility class stores all of the styles for a given HTML element\r\n * as a readonly `stylesheet` map.\r\n */\n\n\nvar StylesheetMap = /*#__PURE__*/function () {\n  function StylesheetMap() {\n    _classCallCheck(this, StylesheetMap);\n\n    this.stylesheet = new Map();\n  }\n  /**\r\n   * Add an individual style to an HTML element\r\n   * @param {?} element\r\n   * @param {?} style\r\n   * @param {?} value\r\n   * @return {?}\r\n   */\n\n\n  _createClass(StylesheetMap, [{\n    key: \"addStyleToElement\",\n    value: function addStyleToElement(element, style, value) {\n      /** @type {?} */\n      var stylesheet = this.stylesheet.get(element);\n\n      if (stylesheet) {\n        stylesheet.set(style, value);\n      } else {\n        this.stylesheet.set(element, new Map([[style, value]]));\n      }\n    }\n    /**\r\n     * Clear the virtual stylesheet\r\n     * @return {?}\r\n     */\n\n  }, {\n    key: \"clearStyles\",\n    value: function clearStyles() {\n      this.stylesheet.clear();\n    }\n    /**\r\n     * Retrieve a given style for an HTML element\r\n     * @param {?} el\r\n     * @param {?} styleName\r\n     * @return {?}\r\n     */\n\n  }, {\n    key: \"getStyleForElement\",\n    value: function getStyleForElement(el, styleName) {\n      /** @type {?} */\n      var styles = this.stylesheet.get(el);\n      /** @type {?} */\n\n      var value = '';\n\n      if (styles) {\n        /** @type {?} */\n        var style = styles.get(styleName);\n\n        if (typeof style === 'number' || typeof style === 'string') {\n          value = style + '';\n        }\n      }\n\n      return value;\n    }\n  }]);\n\n  return StylesheetMap;\n}();\n\nStylesheetMap.ɵfac = function StylesheetMap_Factory(t) {\n  return new (t || StylesheetMap)();\n};\n/** @nocollapse */\n\n\nStylesheetMap.ɵprov = ɵɵdefineInjectable({\n  factory: function StylesheetMap_Factory() {\n    return new StylesheetMap();\n  },\n  token: StylesheetMap,\n  providedIn: \"root\"\n});\n/*@__PURE__*/\n\n(function () {\n  ɵngcc0.ɵsetClassMetadata(StylesheetMap, [{\n    type: Injectable,\n    args: [{\n      providedIn: 'root'\n    }]\n  }], function () {\n    return [];\n  }, null);\n})();\n/**\r\n * @fileoverview added by tsickle\r\n * Generated from: core/stylesheet-map/index.ts\r\n * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingRequire,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\n\n/**\r\n * @fileoverview added by tsickle\r\n * Generated from: core/tokens/library-config.ts\r\n * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingRequire,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\n\n/** @type {?} */\n\n\nvar DEFAULT_CONFIG = {\n  addFlexToParent: true,\n  addOrientationBps: false,\n  disableDefaultBps: false,\n  disableVendorPrefixes: false,\n  serverLoaded: false,\n  useColumnBasisZero: true,\n  printWithBreakpoints: [],\n  mediaTriggerAutoRestore: true,\n  ssrObserveBreakpoints: []\n};\n/** @type {?} */\n\nvar LAYOUT_CONFIG = new InjectionToken('Flex Layout token, config options for the library', {\n  providedIn: 'root',\n  factory:\n  /**\r\n  * @return {?}\r\n  */\n  function factory() {\n    return DEFAULT_CONFIG;\n  }\n});\n/**\r\n * @fileoverview added by tsickle\r\n * Generated from: core/tokens/server-token.ts\r\n * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingRequire,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\n\n/**\r\n * Token that is provided to tell whether the FlexLayoutServerModule\r\n * has been included in the bundle\r\n *\r\n * NOTE: This can be manually provided to disable styles when using SSR\r\n * @type {?}\r\n */\n\nvar SERVER_TOKEN = new InjectionToken('FlexLayoutServerLoaded', {\n  providedIn: 'root',\n  factory:\n  /**\r\n  * @return {?}\r\n  */\n  function factory() {\n    return false;\n  }\n});\n/**\r\n * @fileoverview added by tsickle\r\n * Generated from: core/tokens/breakpoint-token.ts\r\n * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingRequire,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\n\n/** @type {?} */\n\nvar BREAKPOINT = new InjectionToken('Flex Layout token, collect all breakpoints into one provider', {\n  providedIn: 'root',\n  factory:\n  /**\r\n  * @return {?}\r\n  */\n  function factory() {\n    return null;\n  }\n});\n/**\r\n * @fileoverview added by tsickle\r\n * Generated from: core/tokens/index.ts\r\n * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingRequire,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\n\n/**\r\n * @fileoverview added by tsickle\r\n * Generated from: core/add-alias.ts\r\n * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingRequire,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\n\n/**\r\n * For the specified MediaChange, make sure it contains the breakpoint alias\r\n * and suffix (if available).\r\n * @param {?} dest\r\n * @param {?} source\r\n * @return {?}\r\n */\n\nfunction mergeAlias(dest, source) {\n  dest = dest ? dest.clone() : new MediaChange();\n\n  if (source) {\n    dest.mqAlias = source.alias;\n    dest.mediaQuery = source.mediaQuery;\n    dest.suffix =\n    /** @type {?} */\n    source.suffix;\n    dest.priority =\n    /** @type {?} */\n    source.priority;\n  }\n\n  return dest;\n}\n/**\r\n * @fileoverview added by tsickle\r\n * Generated from: utils/layout-validator.ts\r\n * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingRequire,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\n\n/**\r\n * @license\r\n * Copyright Google LLC All Rights Reserved.\r\n *\r\n * Use of this source code is governed by an MIT-style license that can be\r\n * found in the LICENSE file at https://angular.io/license\r\n * @type {?}\r\n */\n\n\nvar INLINE = 'inline';\n/** @type {?} */\n\nvar LAYOUT_VALUES = ['row', 'column', 'row-reverse', 'column-reverse'];\n/**\r\n * Validate the direction|'direction wrap' value and then update the host's inline flexbox styles\r\n * @param {?} value\r\n * @return {?}\r\n */\n\nfunction buildLayoutCSS(value) {\n  var _validateValue = validateValue(value),\n      _validateValue2 = _slicedToArray(_validateValue, 3),\n      direction = _validateValue2[0],\n      wrap = _validateValue2[1],\n      isInline = _validateValue2[2];\n\n  return buildCSS(direction, wrap, isInline);\n}\n/**\r\n * Validate the value to be one of the acceptable value options\r\n * Use default fallback of 'row'\r\n * @param {?} value\r\n * @return {?}\r\n */\n\n\nfunction validateValue(value) {\n  value = value ? value.toLowerCase() : '';\n\n  var _value$split = value.split(' '),\n      _value$split2 = _slicedToArray(_value$split, 3),\n      direction = _value$split2[0],\n      wrap = _value$split2[1],\n      inline = _value$split2[2]; // First value must be the `flex-direction`\n\n\n  if (!LAYOUT_VALUES.find(\n  /**\r\n  * @param {?} x\r\n  * @return {?}\r\n  */\n  function (x) {\n    return x === direction;\n  })) {\n    direction = LAYOUT_VALUES[0];\n  }\n\n  if (wrap === INLINE) {\n    wrap = inline !== INLINE ? inline : '';\n    inline = INLINE;\n  }\n\n  return [direction, validateWrapValue(wrap), !!inline];\n}\n/**\r\n * Convert layout-wrap='<value>' to expected flex-wrap style\r\n * @param {?} value\r\n * @return {?}\r\n */\n\n\nfunction validateWrapValue(value) {\n  if (!!value) {\n    switch (value.toLowerCase()) {\n      case 'reverse':\n      case 'wrap-reverse':\n      case 'reverse-wrap':\n        value = 'wrap-reverse';\n        break;\n\n      case 'no':\n      case 'none':\n      case 'nowrap':\n        value = 'nowrap';\n        break;\n      // All other values fallback to 'wrap'\n\n      default:\n        value = 'wrap';\n        break;\n    }\n  }\n\n  return value;\n}\n/**\r\n * Build the CSS that should be assigned to the element instance\r\n * BUG:\r\n *   1) min-height on a column flex container won’t apply to its flex item children in IE 10-11.\r\n *      Use height instead if possible; height : <xxx>vh;\r\n *\r\n *  This way any padding or border specified on the child elements are\r\n *  laid out and drawn inside that element's specified width and height.\r\n * @param {?} direction\r\n * @param {?=} wrap\r\n * @param {?=} inline\r\n * @return {?}\r\n */\n\n\nfunction buildCSS(direction) {\n  var wrap = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n  var inline = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n  return {\n    'display': inline ? 'inline-flex' : 'flex',\n    'box-sizing': 'border-box',\n    'flex-direction': direction,\n    'flex-wrap': !!wrap ? wrap : null\n  };\n}\n/**\r\n * @fileoverview added by tsickle\r\n * Generated from: core/base/base2.ts\r\n * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingRequire,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\n\n/**\r\n * @abstract\r\n */\n\n\nvar BaseDirective2 = /*#__PURE__*/function () {\n  /**\r\n   * @protected\r\n   * @param {?} elementRef\r\n   * @param {?} styleBuilder\r\n   * @param {?} styler\r\n   * @param {?} marshal\r\n   */\n  function BaseDirective2(elementRef, styleBuilder, styler, marshal) {\n    _classCallCheck(this, BaseDirective2);\n\n    this.elementRef = elementRef;\n    this.styleBuilder = styleBuilder;\n    this.styler = styler;\n    this.marshal = marshal;\n    this.DIRECTIVE_KEY = '';\n    this.inputs = [];\n    /**\r\n     * The most recently used styles for the builder\r\n     */\n\n    this.mru = {};\n    this.destroySubject = new Subject();\n    /**\r\n     * Cache map for style computation\r\n     */\n\n    this.styleCache = new Map();\n  }\n  /**\r\n   * Access to host element's parent DOM node\r\n   * @protected\r\n   * @return {?}\r\n   */\n\n\n  _createClass(BaseDirective2, [{\n    key: \"parentElement\",\n    get: function get() {\n      return this.elementRef.nativeElement.parentElement;\n    }\n    /**\r\n     * Access to the HTMLElement for the directive\r\n     * @protected\r\n     * @return {?}\r\n     */\n\n  }, {\n    key: \"nativeElement\",\n    get: function get() {\n      return this.elementRef.nativeElement;\n    }\n    /**\r\n     * Access to the activated value for the directive\r\n     * @return {?}\r\n     */\n\n  }, {\n    key: \"activatedValue\",\n    get: function get() {\n      return this.marshal.getValue(this.nativeElement, this.DIRECTIVE_KEY);\n    }\n    /**\r\n     * @param {?} value\r\n     * @return {?}\r\n     */\n    ,\n    set: function set(value) {\n      this.marshal.setValue(this.nativeElement, this.DIRECTIVE_KEY, value, this.marshal.activatedAlias);\n    }\n    /**\r\n     * For \\@Input changes\r\n     * @param {?} changes\r\n     * @return {?}\r\n     */\n\n  }, {\n    key: \"ngOnChanges\",\n    value: function ngOnChanges(changes) {\n      var _this = this;\n\n      Object.keys(changes).forEach(\n      /**\r\n      * @param {?} key\r\n      * @return {?}\r\n      */\n      function (key) {\n        if (_this.inputs.indexOf(key) !== -1) {\n          /** @type {?} */\n          var bp = key.split('.').slice(1).join('.');\n          /** @type {?} */\n\n          var val = changes[key].currentValue;\n\n          _this.setValue(val, bp);\n        }\n      });\n    }\n    /**\r\n     * @return {?}\r\n     */\n\n  }, {\n    key: \"ngOnDestroy\",\n    value: function ngOnDestroy() {\n      this.destroySubject.next();\n      this.destroySubject.complete();\n      this.marshal.releaseElement(this.nativeElement);\n    }\n    /**\r\n     * Register with central marshaller service\r\n     * @protected\r\n     * @param {?=} extraTriggers\r\n     * @return {?}\r\n     */\n\n  }, {\n    key: \"init\",\n    value: function init() {\n      var extraTriggers = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n      this.marshal.init(this.elementRef.nativeElement, this.DIRECTIVE_KEY, this.updateWithValue.bind(this), this.clearStyles.bind(this), extraTriggers);\n    }\n    /**\r\n     * Add styles to the element using predefined style builder\r\n     * @protected\r\n     * @param {?} input\r\n     * @param {?=} parent\r\n     * @return {?}\r\n     */\n\n  }, {\n    key: \"addStyles\",\n    value: function addStyles(input, parent) {\n      /** @type {?} */\n      var builder = this.styleBuilder;\n      /** @type {?} */\n\n      var useCache = builder.shouldCache;\n      /** @type {?} */\n\n      var genStyles = this.styleCache.get(input);\n\n      if (!genStyles || !useCache) {\n        genStyles = builder.buildStyles(input, parent);\n\n        if (useCache) {\n          this.styleCache.set(input, genStyles);\n        }\n      }\n\n      this.mru = Object.assign({}, genStyles);\n      this.applyStyleToElement(genStyles);\n      builder.sideEffect(input, genStyles, parent);\n    }\n    /**\r\n     * Remove generated styles from an element using predefined style builder\r\n     * @protected\r\n     * @return {?}\r\n     */\n\n  }, {\n    key: \"clearStyles\",\n    value: function clearStyles() {\n      var _this2 = this;\n\n      Object.keys(this.mru).forEach(\n      /**\r\n      * @param {?} k\r\n      * @return {?}\r\n      */\n      function (k) {\n        _this2.mru[k] = '';\n      });\n      this.applyStyleToElement(this.mru);\n      this.mru = {};\n    }\n    /**\r\n     * Force trigger style updates on DOM element\r\n     * @protected\r\n     * @return {?}\r\n     */\n\n  }, {\n    key: \"triggerUpdate\",\n    value: function triggerUpdate() {\n      this.marshal.triggerUpdate(this.nativeElement, this.DIRECTIVE_KEY);\n    }\n    /**\r\n     * Determine the DOM element's Flexbox flow (flex-direction).\r\n     *\r\n     * Check inline style first then check computed (stylesheet) style.\r\n     * And optionally add the flow value to element's inline style.\r\n     * @protected\r\n     * @param {?} target\r\n     * @param {?=} addIfMissing\r\n     * @return {?}\r\n     */\n\n  }, {\n    key: \"getFlexFlowDirection\",\n    value: function getFlexFlowDirection(target) {\n      var addIfMissing = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n      if (target) {\n        var _this$styler$getFlowD = this.styler.getFlowDirection(target),\n            _this$styler$getFlowD2 = _slicedToArray(_this$styler$getFlowD, 2),\n            value = _this$styler$getFlowD2[0],\n            hasInlineValue = _this$styler$getFlowD2[1];\n\n        if (!hasInlineValue && addIfMissing) {\n          /** @type {?} */\n          var style = buildLayoutCSS(value);\n          /** @type {?} */\n\n          var elements = [target];\n          this.styler.applyStyleToElements(style, elements);\n        }\n\n        return value.trim();\n      }\n\n      return 'row';\n    }\n    /**\r\n     * @protected\r\n     * @param {?} target\r\n     * @return {?}\r\n     */\n\n  }, {\n    key: \"hasWrap\",\n    value: function hasWrap(target) {\n      return this.styler.hasWrap(target);\n    }\n    /**\r\n     * Applies styles given via string pair or object map to the directive element\r\n     * @protected\r\n     * @param {?} style\r\n     * @param {?=} value\r\n     * @param {?=} element\r\n     * @return {?}\r\n     */\n\n  }, {\n    key: \"applyStyleToElement\",\n    value: function applyStyleToElement(style, value) {\n      var element = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : this.nativeElement;\n      this.styler.applyStyleToElement(element, style, value);\n    }\n    /**\r\n     * @protected\r\n     * @param {?} val\r\n     * @param {?} bp\r\n     * @return {?}\r\n     */\n\n  }, {\n    key: \"setValue\",\n    value: function setValue(val, bp) {\n      this.marshal.setValue(this.nativeElement, this.DIRECTIVE_KEY, val, bp);\n    }\n    /**\r\n     * @protected\r\n     * @param {?} input\r\n     * @return {?}\r\n     */\n\n  }, {\n    key: \"updateWithValue\",\n    value: function updateWithValue(input) {\n      if (this.currentValue !== input) {\n        this.addStyles(input);\n        this.currentValue = input;\n      }\n    }\n  }]);\n\n  return BaseDirective2;\n}();\n\nBaseDirective2.ɵfac = function BaseDirective2_Factory(t) {\n  ɵngcc0.ɵɵinvalidFactory();\n};\n\nBaseDirective2.ɵdir = ɵngcc0.ɵɵdefineDirective({\n  type: BaseDirective2,\n  features: [ɵngcc0.ɵɵNgOnChangesFeature]\n});\n/**\r\n * @fileoverview added by tsickle\r\n * Generated from: core/base/index.ts\r\n * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingRequire,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\n\n/**\r\n * @fileoverview added by tsickle\r\n * Generated from: core/breakpoints/data/break-points.ts\r\n * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingRequire,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\n\n/**\r\n * NOTE: Smaller ranges have HIGHER priority since the match is more specific\r\n * @type {?}\r\n */\n\nvar DEFAULT_BREAKPOINTS = [{\n  alias: 'xs',\n  mediaQuery: 'screen and (min-width: 0px) and (max-width: 599.98px)',\n  priority: 1000\n}, {\n  alias: 'sm',\n  mediaQuery: 'screen and (min-width: 600px) and (max-width: 959.98px)',\n  priority: 900\n}, {\n  alias: 'md',\n  mediaQuery: 'screen and (min-width: 960px) and (max-width: 1279.98px)',\n  priority: 800\n}, {\n  alias: 'lg',\n  mediaQuery: 'screen and (min-width: 1280px) and (max-width: 1919.98px)',\n  priority: 700\n}, {\n  alias: 'xl',\n  mediaQuery: 'screen and (min-width: 1920px) and (max-width: 4999.98px)',\n  priority: 600\n}, {\n  alias: 'lt-sm',\n  overlapping: true,\n  mediaQuery: 'screen and (max-width: 599.98px)',\n  priority: 950\n}, {\n  alias: 'lt-md',\n  overlapping: true,\n  mediaQuery: 'screen and (max-width: 959.98px)',\n  priority: 850\n}, {\n  alias: 'lt-lg',\n  overlapping: true,\n  mediaQuery: 'screen and (max-width: 1279.98px)',\n  priority: 750\n}, {\n  alias: 'lt-xl',\n  overlapping: true,\n  priority: 650,\n  mediaQuery: 'screen and (max-width: 1919.98px)'\n}, {\n  alias: 'gt-xs',\n  overlapping: true,\n  mediaQuery: 'screen and (min-width: 600px)',\n  priority: -950\n}, {\n  alias: 'gt-sm',\n  overlapping: true,\n  mediaQuery: 'screen and (min-width: 960px)',\n  priority: -850\n}, {\n  alias: 'gt-md',\n  overlapping: true,\n  mediaQuery: 'screen and (min-width: 1280px)',\n  priority: -750\n}, {\n  alias: 'gt-lg',\n  overlapping: true,\n  mediaQuery: 'screen and (min-width: 1920px)',\n  priority: -650\n}];\n/**\r\n * @fileoverview added by tsickle\r\n * Generated from: core/breakpoints/data/orientation-break-points.ts\r\n * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingRequire,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\n\n/* tslint:disable */\n\n/** @type {?} */\n\nvar HANDSET_PORTRAIT = '(orientation: portrait) and (max-width: 599.98px)';\n/** @type {?} */\n\nvar HANDSET_LANDSCAPE = '(orientation: landscape) and (max-width: 959.98px)';\n/** @type {?} */\n\nvar TABLET_PORTRAIT = '(orientation: portrait) and (min-width: 600px) and (max-width: 839.98px)';\n/** @type {?} */\n\nvar TABLET_LANDSCAPE = '(orientation: landscape) and (min-width: 960px) and (max-width: 1279.98px)';\n/** @type {?} */\n\nvar WEB_PORTRAIT = '(orientation: portrait) and (min-width: 840px)';\n/** @type {?} */\n\nvar WEB_LANDSCAPE = '(orientation: landscape) and (min-width: 1280px)';\n/** @type {?} */\n\nvar ScreenTypes = {\n  'HANDSET': \"\".concat(HANDSET_PORTRAIT, \", \").concat(HANDSET_LANDSCAPE),\n  'TABLET': \"\".concat(TABLET_PORTRAIT, \" , \").concat(TABLET_LANDSCAPE),\n  'WEB': \"\".concat(WEB_PORTRAIT, \", \").concat(WEB_LANDSCAPE, \" \"),\n  'HANDSET_PORTRAIT': \"\".concat(HANDSET_PORTRAIT),\n  'TABLET_PORTRAIT': \"\".concat(TABLET_PORTRAIT, \" \"),\n  'WEB_PORTRAIT': \"\".concat(WEB_PORTRAIT),\n  'HANDSET_LANDSCAPE': \"\".concat(HANDSET_LANDSCAPE),\n  'TABLET_LANDSCAPE': \"\".concat(TABLET_LANDSCAPE),\n  'WEB_LANDSCAPE': \"\".concat(WEB_LANDSCAPE)\n};\n/**\r\n * Extended Breakpoints for handset/tablets with landscape or portrait orientations\r\n * @type {?}\r\n */\n\nvar ORIENTATION_BREAKPOINTS = [{\n  'alias': 'handset',\n  priority: 2000,\n  'mediaQuery': ScreenTypes.HANDSET\n}, {\n  'alias': 'handset.landscape',\n  priority: 2000,\n  'mediaQuery': ScreenTypes.HANDSET_LANDSCAPE\n}, {\n  'alias': 'handset.portrait',\n  priority: 2000,\n  'mediaQuery': ScreenTypes.HANDSET_PORTRAIT\n}, {\n  'alias': 'tablet',\n  priority: 2100,\n  'mediaQuery': ScreenTypes.TABLET\n}, {\n  'alias': 'tablet.landscape',\n  priority: 2100,\n  'mediaQuery': ScreenTypes.TABLET_LANDSCAPE\n}, {\n  'alias': 'tablet.portrait',\n  priority: 2100,\n  'mediaQuery': ScreenTypes.TABLET_PORTRAIT\n}, {\n  'alias': 'web',\n  priority: 2200,\n  'mediaQuery': ScreenTypes.WEB,\n  overlapping: true\n}, {\n  'alias': 'web.landscape',\n  priority: 2200,\n  'mediaQuery': ScreenTypes.WEB_LANDSCAPE,\n  overlapping: true\n}, {\n  'alias': 'web.portrait',\n  priority: 2200,\n  'mediaQuery': ScreenTypes.WEB_PORTRAIT,\n  overlapping: true\n}];\n/**\r\n * @fileoverview added by tsickle\r\n * Generated from: core/breakpoints/break-point.ts\r\n * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingRequire,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\n\n/**\r\n * @fileoverview added by tsickle\r\n * Generated from: utils/object-extend.ts\r\n * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingRequire,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\n\n/**\r\n * Extends an object with the *enumerable* and *own* properties of one or more source objects,\r\n * similar to Object.assign.\r\n *\r\n * @param {?} dest The object which will have properties copied to it.\r\n * @param {...?} sources The source objects from which properties will be copied.\r\n * @return {?}\r\n */\n\nfunction extendObject(dest) {\n  if (dest == null) {\n    throw TypeError('Cannot convert undefined or null to object');\n  }\n\n  for (var _len = arguments.length, sources = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n    sources[_key - 1] = arguments[_key];\n  }\n\n  for (var _i = 0, _sources = sources; _i < _sources.length; _i++) {\n    var source = _sources[_i];\n\n    if (source != null) {\n      for (var key in source) {\n        if (source.hasOwnProperty(key)) {\n          dest[key] = source[key];\n        }\n      }\n    }\n  }\n\n  return dest;\n}\n/**\r\n * @fileoverview added by tsickle\r\n * Generated from: core/breakpoints/breakpoint-tools.ts\r\n * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingRequire,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\n\n/** @type {?} */\n\n\nvar ALIAS_DELIMITERS = /(\\.|-|_)/g;\n/**\r\n * @param {?} part\r\n * @return {?}\r\n */\n\nfunction firstUpperCase(part) {\n  /** @type {?} */\n  var first = part.length > 0 ? part.charAt(0) : '';\n  /** @type {?} */\n\n  var remainder = part.length > 1 ? part.slice(1) : '';\n  return first.toUpperCase() + remainder;\n}\n/**\r\n * Converts snake-case to SnakeCase.\r\n * @param {?} name Text to UpperCamelCase\r\n * @return {?}\r\n */\n\n\nfunction camelCase(name) {\n  return name.replace(ALIAS_DELIMITERS, '|').split('|').map(firstUpperCase).join('');\n}\n/**\r\n * For each breakpoint, ensure that a Suffix is defined;\r\n * fallback to UpperCamelCase the unique Alias value\r\n * @param {?} list\r\n * @return {?}\r\n */\n\n\nfunction validateSuffixes(list) {\n  list.forEach(\n  /**\r\n  * @param {?} bp\r\n  * @return {?}\r\n  */\n  function (bp) {\n    if (!bp.suffix) {\n      bp.suffix = camelCase(bp.alias); // create Suffix value based on alias\n\n      bp.overlapping = !!bp.overlapping; // ensure default value\n    }\n  });\n  return list;\n}\n/**\r\n * Merge a custom breakpoint list with the default list based on unique alias values\r\n *  - Items are added if the alias is not in the default list\r\n *  - Items are merged with the custom override if the alias exists in the default list\r\n * @param {?} defaults\r\n * @param {?=} custom\r\n * @return {?}\r\n */\n\n\nfunction mergeByAlias(defaults) {\n  var custom = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n\n  /** @type {?} */\n  var dict = {};\n  defaults.forEach(\n  /**\r\n  * @param {?} bp\r\n  * @return {?}\r\n  */\n  function (bp) {\n    dict[bp.alias] = bp;\n  }); // Merge custom breakpoints\n\n  custom.forEach(\n  /**\r\n  * @param {?} bp\r\n  * @return {?}\r\n  */\n  function (bp) {\n    if (dict[bp.alias]) {\n      extendObject(dict[bp.alias], bp);\n    } else {\n      dict[bp.alias] = bp;\n    }\n  });\n  return validateSuffixes(Object.keys(dict).map(\n  /**\r\n  * @param {?} k\r\n  * @return {?}\r\n  */\n  function (k) {\n    return dict[k];\n  }));\n}\n/**\r\n * @fileoverview added by tsickle\r\n * Generated from: core/breakpoints/break-points-token.ts\r\n * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingRequire,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\n\n/**\r\n *  Injection token unique to the flex-layout library.\r\n *  Use this token when build a custom provider (see below).\r\n * @type {?}\r\n */\n\n\nvar BREAKPOINTS = new InjectionToken('Token (@angular/flex-layout) Breakpoints', {\n  providedIn: 'root',\n  factory:\n  /**\r\n  * @return {?}\r\n  */\n  function factory() {\n    /** @type {?} */\n    var breakpoints = inject(BREAKPOINT);\n    /** @type {?} */\n\n    var layoutConfig = inject(LAYOUT_CONFIG);\n    /** @type {?} */\n\n    var bpFlattenArray = [].concat.apply([], (breakpoints || []).map(\n    /**\r\n    * @param {?} v\r\n    * @return {?}\r\n    */\n    function (v) {\n      return Array.isArray(v) ? v : [v];\n    }));\n    /** @type {?} */\n\n    var builtIns = (layoutConfig.disableDefaultBps ? [] : DEFAULT_BREAKPOINTS).concat(layoutConfig.addOrientationBps ? ORIENTATION_BREAKPOINTS : []);\n    return mergeByAlias(builtIns, bpFlattenArray);\n  }\n});\n/**\r\n * @fileoverview added by tsickle\r\n * Generated from: core/utils/sort.ts\r\n * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingRequire,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\n\n/**\r\n * HOF to sort the breakpoints by descending priority\r\n * @template T\r\n * @param {?} a\r\n * @param {?} b\r\n * @return {?}\r\n */\n\nfunction sortDescendingPriority(a, b) {\n  /** @type {?} */\n  var priorityA = a ? a.priority || 0 : 0;\n  /** @type {?} */\n\n  var priorityB = b ? b.priority || 0 : 0;\n  return priorityB - priorityA;\n}\n/**\r\n * HOF to sort the breakpoints by ascending priority\r\n * @template T\r\n * @param {?} a\r\n * @param {?} b\r\n * @return {?}\r\n */\n\n\nfunction sortAscendingPriority(a, b) {\n  /** @type {?} */\n  var pA = a.priority || 0;\n  /** @type {?} */\n\n  var pB = b.priority || 0;\n  return pA - pB;\n}\n/**\r\n * @fileoverview added by tsickle\r\n * Generated from: core/breakpoints/break-point-registry.ts\r\n * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingRequire,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\n\n/**\r\n * Registry of 1..n MediaQuery breakpoint ranges\r\n * This is published as a provider and may be overridden from custom, application-specific ranges\r\n *\r\n */\n\n\nvar BreakPointRegistry = /*#__PURE__*/function () {\n  /**\r\n   * @param {?} list\r\n   */\n  function BreakPointRegistry(list) {\n    _classCallCheck(this, BreakPointRegistry);\n\n    /**\r\n     * Memoized BreakPoint Lookups\r\n     */\n    this.findByMap = new Map();\n    this.items = _toConsumableArray(list).sort(sortAscendingPriority);\n  }\n  /**\r\n   * Search breakpoints by alias (e.g. gt-xs)\r\n   * @param {?} alias\r\n   * @return {?}\r\n   */\n\n\n  _createClass(BreakPointRegistry, [{\n    key: \"findByAlias\",\n    value: function findByAlias(alias) {\n      return !alias ? null : this.findWithPredicate(alias,\n      /**\r\n      * @param {?} bp\r\n      * @return {?}\r\n      */\n      function (bp) {\n        return bp.alias == alias;\n      });\n    }\n    /**\r\n     * @param {?} query\r\n     * @return {?}\r\n     */\n\n  }, {\n    key: \"findByQuery\",\n    value: function findByQuery(query) {\n      return this.findWithPredicate(query,\n      /**\r\n      * @param {?} bp\r\n      * @return {?}\r\n      */\n      function (bp) {\n        return bp.mediaQuery == query;\n      });\n    }\n    /**\r\n     * Get all the breakpoints whose ranges could overlapping `normal` ranges;\r\n     * e.g. gt-sm overlaps md, lg, and xl\r\n     * @return {?}\r\n     */\n\n  }, {\n    key: \"overlappings\",\n    get: function get() {\n      return this.items.filter(\n      /**\r\n      * @param {?} it\r\n      * @return {?}\r\n      */\n      function (it) {\n        return it.overlapping == true;\n      });\n    }\n    /**\r\n     * Get list of all registered (non-empty) breakpoint aliases\r\n     * @return {?}\r\n     */\n\n  }, {\n    key: \"aliases\",\n    get: function get() {\n      return this.items.map(\n      /**\r\n      * @param {?} it\r\n      * @return {?}\r\n      */\n      function (it) {\n        return it.alias;\n      });\n    }\n    /**\r\n     * Aliases are mapped to properties using suffixes\r\n     * e.g.  'gt-sm' for property 'layout'  uses suffix 'GtSm'\r\n     * for property layoutGtSM.\r\n     * @return {?}\r\n     */\n\n  }, {\n    key: \"suffixes\",\n    get: function get() {\n      return this.items.map(\n      /**\r\n      * @param {?} it\r\n      * @return {?}\r\n      */\n      function (it) {\n        return !!it.suffix ? it.suffix : '';\n      });\n    }\n    /**\r\n     * Memoized lookup using custom predicate function\r\n     * @private\r\n     * @param {?} key\r\n     * @param {?} searchFn\r\n     * @return {?}\r\n     */\n\n  }, {\n    key: \"findWithPredicate\",\n    value: function findWithPredicate(key, searchFn) {\n      /** @type {?} */\n      var response = this.findByMap.get(key);\n\n      if (!response) {\n        response = this.items.find(searchFn) || null;\n        this.findByMap.set(key, response);\n      }\n\n      return response || null;\n    }\n  }]);\n\n  return BreakPointRegistry;\n}();\n\nBreakPointRegistry.ɵfac = function BreakPointRegistry_Factory(t) {\n  return new (t || BreakPointRegistry)(ɵngcc0.ɵɵinject(BREAKPOINTS));\n};\n/** @nocollapse */\n\n\nBreakPointRegistry.ɵprov = ɵɵdefineInjectable({\n  factory: function BreakPointRegistry_Factory() {\n    return new BreakPointRegistry(ɵɵinject(BREAKPOINTS));\n  },\n  token: BreakPointRegistry,\n  providedIn: \"root\"\n});\n/** @nocollapse */\n\nBreakPointRegistry.ctorParameters = function () {\n  return [{\n    type: Array,\n    decorators: [{\n      type: Inject,\n      args: [BREAKPOINTS]\n    }]\n  }];\n};\n/*@__PURE__*/\n\n\n(function () {\n  ɵngcc0.ɵsetClassMetadata(BreakPointRegistry, [{\n    type: Injectable,\n    args: [{\n      providedIn: 'root'\n    }]\n  }], function () {\n    return [{\n      type: Array,\n      decorators: [{\n        type: Inject,\n        args: [BREAKPOINTS]\n      }]\n    }];\n  }, null);\n})();\n/**\r\n * @fileoverview added by tsickle\r\n * Generated from: core/breakpoints/index.ts\r\n * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingRequire,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\n\n/**\r\n * @fileoverview added by tsickle\r\n * Generated from: core/match-media/match-media.ts\r\n * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingRequire,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\n\n/**\r\n * MediaMonitor configures listeners to mediaQuery changes and publishes an Observable facade to\r\n * convert mediaQuery change callbacks to subscriber notifications. These notifications will be\r\n * performed within the ng Zone to trigger change detections and component updates.\r\n *\r\n * NOTE: both mediaQuery activations and de-activations are announced in notifications\r\n */\n\n\nvar MatchMedia = /*#__PURE__*/function () {\n  /**\r\n   * @param {?} _zone\r\n   * @param {?} _platformId\r\n   * @param {?} _document\r\n   */\n  function MatchMedia(_zone, _platformId, _document) {\n    _classCallCheck(this, MatchMedia);\n\n    this._zone = _zone;\n    this._platformId = _platformId;\n    this._document = _document;\n    /**\r\n     * Initialize source with 'all' so all non-responsive APIs trigger style updates\r\n     */\n\n    this.source = new BehaviorSubject(new MediaChange(true));\n    this.registry = new Map();\n    this.pendingRemoveListenerFns = [];\n    this._observable$ = this.source.asObservable();\n  }\n  /**\r\n   * Publish list of all current activations\r\n   * @return {?}\r\n   */\n\n\n  _createClass(MatchMedia, [{\n    key: \"activations\",\n    get: function get() {\n      /** @type {?} */\n      var results = [];\n      this.registry.forEach(\n      /**\r\n      * @param {?} mql\r\n      * @param {?} key\r\n      * @return {?}\r\n      */\n      function (mql, key) {\n        if (mql.matches) {\n          results.push(key);\n        }\n      });\n      return results;\n    }\n    /**\r\n     * For the specified mediaQuery?\r\n     * @param {?} mediaQuery\r\n     * @return {?}\r\n     */\n\n  }, {\n    key: \"isActive\",\n    value: function isActive(mediaQuery) {\n      /** @type {?} */\n      var mql = this.registry.get(mediaQuery);\n      return !!mql ? mql.matches : this.registerQuery(mediaQuery).some(\n      /**\r\n      * @param {?} m\r\n      * @return {?}\r\n      */\n      function (m) {\n        return m.matches;\n      });\n    }\n    /**\r\n     * External observers can watch for all (or a specific) mql changes.\r\n     * Typically used by the MediaQueryAdaptor; optionally available to components\r\n     * who wish to use the MediaMonitor as mediaMonitor$ observable service.\r\n     *\r\n     * Use deferred registration process to register breakpoints only on subscription\r\n     * This logic also enforces logic to register all mediaQueries BEFORE notify\r\n     * subscribers of notifications.\r\n     * @param {?=} mqList\r\n     * @param {?=} filterOthers\r\n     * @return {?}\r\n     */\n\n  }, {\n    key: \"observe\",\n    value: function observe(mqList) {\n      var _this3 = this;\n\n      var filterOthers = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n      if (mqList && mqList.length) {\n        /** @type {?} */\n        var matchMedia$ = this._observable$.pipe(filter(\n        /**\r\n        * @param {?} change\r\n        * @return {?}\r\n        */\n        function (change) {\n          return !filterOthers ? true : mqList.indexOf(change.mediaQuery) > -1;\n        }));\n        /** @type {?} */\n\n\n        var registration$ = new Observable(\n        /**\r\n        * @param {?} observer\r\n        * @return {?}\r\n        */\n        function (observer) {\n          // tslint:disable-line:max-line-length\n\n          /** @type {?} */\n          var matches = _this3.registerQuery(mqList);\n\n          if (matches.length) {\n            /** @type {?} */\n            var lastChange =\n            /** @type {?} */\n            matches.pop();\n            matches.forEach(\n            /**\r\n            * @param {?} e\r\n            * @return {?}\r\n            */\n            function (e) {\n              observer.next(e);\n            });\n\n            _this3.source.next(lastChange); // last match is cached\n\n          }\n\n          observer.complete();\n        });\n        return merge(registration$, matchMedia$);\n      }\n\n      return this._observable$;\n    }\n    /**\r\n     * Based on the BreakPointRegistry provider, register internal listeners for each unique\r\n     * mediaQuery. Each listener emits specific MediaChange data to observers\r\n     * @param {?} mediaQuery\r\n     * @return {?}\r\n     */\n\n  }, {\n    key: \"registerQuery\",\n    value: function registerQuery(mediaQuery) {\n      var _this4 = this;\n\n      /** @type {?} */\n      var list = Array.isArray(mediaQuery) ? mediaQuery : [mediaQuery];\n      /** @type {?} */\n\n      var matches = [];\n      buildQueryCss(list, this._document);\n      list.forEach(\n      /**\r\n      * @param {?} query\r\n      * @return {?}\r\n      */\n      function (query) {\n        /** @type {?} */\n        var onMQLEvent =\n        /**\r\n        * @param {?} e\r\n        * @return {?}\r\n        */\n        function onMQLEvent(e) {\n          _this4._zone.run(\n          /**\r\n          * @return {?}\r\n          */\n          function () {\n            return _this4.source.next(new MediaChange(e.matches, query));\n          });\n        };\n        /** @type {?} */\n\n\n        var mql = _this4.registry.get(query);\n\n        if (!mql) {\n          mql = _this4.buildMQL(query);\n          mql.addListener(onMQLEvent);\n\n          _this4.pendingRemoveListenerFns.push(\n          /**\r\n          * @return {?}\r\n          */\n          function () {\n            return (\n              /** @type {?} */\n              mql.removeListener(onMQLEvent)\n            );\n          });\n\n          _this4.registry.set(query, mql);\n        }\n\n        if (mql.matches) {\n          matches.push(new MediaChange(true, query));\n        }\n      });\n      return matches;\n    }\n    /**\r\n     * @return {?}\r\n     */\n\n  }, {\n    key: \"ngOnDestroy\",\n    value: function ngOnDestroy() {\n      /** @type {?} */\n      var fn;\n\n      while (fn = this.pendingRemoveListenerFns.pop()) {\n        fn();\n      }\n    }\n    /**\r\n     * Call window.matchMedia() to build a MediaQueryList; which\r\n     * supports 0..n listeners for activation/deactivation\r\n     * @protected\r\n     * @param {?} query\r\n     * @return {?}\r\n     */\n\n  }, {\n    key: \"buildMQL\",\n    value: function buildMQL(query) {\n      return constructMql(query, isPlatformBrowser(this._platformId));\n    }\n  }]);\n\n  return MatchMedia;\n}();\n\nMatchMedia.ɵfac = function MatchMedia_Factory(t) {\n  return new (t || MatchMedia)(ɵngcc0.ɵɵinject(ɵngcc0.NgZone), ɵngcc0.ɵɵinject(PLATFORM_ID), ɵngcc0.ɵɵinject(DOCUMENT));\n};\n/** @nocollapse */\n\n\nMatchMedia.ɵprov = ɵɵdefineInjectable({\n  factory: function MatchMedia_Factory() {\n    return new MatchMedia(ɵɵinject(NgZone), ɵɵinject(PLATFORM_ID), ɵɵinject(DOCUMENT));\n  },\n  token: MatchMedia,\n  providedIn: \"root\"\n});\n/** @nocollapse */\n\nMatchMedia.ctorParameters = function () {\n  return [{\n    type: NgZone\n  }, {\n    type: Object,\n    decorators: [{\n      type: Inject,\n      args: [PLATFORM_ID]\n    }]\n  }, {\n    type: undefined,\n    decorators: [{\n      type: Inject,\n      args: [DOCUMENT]\n    }]\n  }];\n};\n/*@__PURE__*/\n\n\n(function () {\n  ɵngcc0.ɵsetClassMetadata(MatchMedia, [{\n    type: Injectable,\n    args: [{\n      providedIn: 'root'\n    }]\n  }], function () {\n    return [{\n      type: ɵngcc0.NgZone\n    }, {\n      type: Object,\n      decorators: [{\n        type: Inject,\n        args: [PLATFORM_ID]\n      }]\n    }, {\n      type: undefined,\n      decorators: [{\n        type: Inject,\n        args: [DOCUMENT]\n      }]\n    }];\n  }, null);\n})();\n/**\r\n * Private global registry for all dynamically-created, injected style tags\r\n * @see prepare(query)\r\n * @type {?}\r\n */\n\n\nvar ALL_STYLES = {};\n/**\r\n * For Webkit engines that only trigger the MediaQueryList Listener\r\n * when there is at least one CSS selector for the respective media query.\r\n *\r\n * @param {?} mediaQueries\r\n * @param {?} _document\r\n * @return {?}\r\n */\n\nfunction buildQueryCss(mediaQueries, _document) {\n  /** @type {?} */\n  var list = mediaQueries.filter(\n  /**\r\n  * @param {?} it\r\n  * @return {?}\r\n  */\n  function (it) {\n    return !ALL_STYLES[it];\n  });\n\n  if (list.length > 0) {\n    /** @type {?} */\n    var query = list.join(', ');\n\n    try {\n      /** @type {?} */\n      var styleEl = _document.createElement('style');\n\n      styleEl.setAttribute('type', 'text/css');\n\n      if (!\n      /** @type {?} */\n      styleEl.styleSheet) {\n        /** @type {?} */\n        var cssText = \"\\n/*\\n  @angular/flex-layout - workaround for possible browser quirk with mediaQuery listeners\\n  see http://bit.ly/2sd4HMP\\n*/\\n@media \".concat(query, \" {.fx-query-test{ }}\\n\");\n        styleEl.appendChild(_document.createTextNode(cssText));\n      }\n\n      /** @type {?} */\n      _document.head.appendChild(styleEl); // Store in private global registry\n\n\n      list.forEach(\n      /**\r\n      * @param {?} mq\r\n      * @return {?}\r\n      */\n      function (mq) {\n        return ALL_STYLES[mq] = styleEl;\n      });\n    } catch (e) {\n      console.error(e);\n    }\n  }\n}\n/**\r\n * @param {?} query\r\n * @param {?} isBrowser\r\n * @return {?}\r\n */\n\n\nfunction constructMql(query, isBrowser) {\n  /** @type {?} */\n  var canListen = isBrowser && !!\n  /** @type {?} */\n  window.matchMedia('all').addListener;\n  return canListen ?\n  /** @type {?} */\n  window.matchMedia(query) :\n  /** @type {?} */\n  {\n    matches: query === 'all' || query === '',\n    media: query,\n    addListener:\n    /**\r\n    * @return {?}\r\n    */\n    function addListener() {},\n    removeListener:\n    /**\r\n    * @return {?}\r\n    */\n    function removeListener() {},\n    onchange: null,\n\n    /**\r\n     * @return {?}\r\n     */\n    addEventListener: function addEventListener() {},\n\n    /**\r\n     * @return {?}\r\n     */\n    removeEventListener: function removeEventListener() {},\n\n    /**\r\n     * @return {?}\r\n     */\n    dispatchEvent: function dispatchEvent() {\n      return false;\n    }\n  };\n}\n/**\r\n * @fileoverview added by tsickle\r\n * Generated from: core/match-media/mock/mock-match-media.ts\r\n * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingRequire,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\n\n/**\r\n * MockMatchMedia mocks calls to the Window API matchMedia with a build of a simulated\r\n * MockMediaQueryListener. Methods are available to simulate an activation of a mediaQuery\r\n * range and to clearAll mediaQuery listeners.\r\n */\n\n\nvar MockMatchMedia = /*#__PURE__*/function (_MatchMedia) {\n  _inherits(MockMatchMedia, _MatchMedia);\n\n  var _super = _createSuper(MockMatchMedia);\n\n  // Allow fallback to overlapping mediaQueries\n\n  /**\r\n   * @param {?} _zone\r\n   * @param {?} _platformId\r\n   * @param {?} _document\r\n   * @param {?} _breakpoints\r\n   */\n  function MockMatchMedia(_zone, _platformId, _document, _breakpoints) {\n    var _this5;\n\n    _classCallCheck(this, MockMatchMedia);\n\n    _this5 = _super.call(this, _zone, _platformId, _document);\n    _this5._breakpoints = _breakpoints;\n    _this5.autoRegisterQueries = true; // Used for testing BreakPoint registrations\n    // Used for testing BreakPoint registrations\n\n    _this5.useOverlaps = false; // Allow fallback to overlapping mediaQueries\n\n    return _this5;\n  }\n  /**\r\n   * Easy method to clear all listeners for all mediaQueries\r\n   * @return {?}\r\n   */\n\n\n  _createClass(MockMatchMedia, [{\n    key: \"clearAll\",\n    value: function clearAll() {\n      this.registry.forEach(\n      /**\r\n      * @param {?} mql\r\n      * @return {?}\r\n      */\n      function (mql) {\n        /** @type {?} */\n        mql.destroy();\n      });\n      this.registry.clear();\n      this.useOverlaps = false;\n    }\n    /**\r\n     * Feature to support manual, simulated activation of a mediaQuery.\r\n     * @param {?} mediaQuery\r\n     * @param {?=} useOverlaps\r\n     * @return {?}\r\n     */\n\n  }, {\n    key: \"activate\",\n    value: function activate(mediaQuery) {\n      var useOverlaps = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n      useOverlaps = useOverlaps || this.useOverlaps;\n      mediaQuery = this._validateQuery(mediaQuery);\n\n      if (useOverlaps || !this.isActive(mediaQuery)) {\n        this._deactivateAll();\n\n        this._registerMediaQuery(mediaQuery);\n\n        this._activateWithOverlaps(mediaQuery, useOverlaps);\n      }\n\n      return this.hasActivated;\n    }\n    /**\r\n     * Converts an optional mediaQuery alias to a specific, valid mediaQuery\r\n     * @param {?} queryOrAlias\r\n     * @return {?}\r\n     */\n\n  }, {\n    key: \"_validateQuery\",\n    value: function _validateQuery(queryOrAlias) {\n      /** @type {?} */\n      var bp = this._breakpoints.findByAlias(queryOrAlias);\n\n      return bp && bp.mediaQuery || queryOrAlias;\n    }\n    /**\r\n     * Manually onMediaChange any overlapping mediaQueries to simulate\r\n     * similar functionality in the window.matchMedia()\r\n     * @private\r\n     * @param {?} mediaQuery\r\n     * @param {?} useOverlaps\r\n     * @return {?}\r\n     */\n\n  }, {\n    key: \"_activateWithOverlaps\",\n    value: function _activateWithOverlaps(mediaQuery, useOverlaps) {\n      if (useOverlaps) {\n        /** @type {?} */\n        var bp = this._breakpoints.findByQuery(mediaQuery);\n        /** @type {?} */\n\n\n        var alias = bp ? bp.alias : 'unknown'; // Simulate activation of overlapping lt-<XXX> ranges\n\n        switch (alias) {\n          case 'lg':\n            this._activateByAlias(['lt-xl']);\n\n            break;\n\n          case 'md':\n            this._activateByAlias(['lt-xl', 'lt-lg']);\n\n            break;\n\n          case 'sm':\n            this._activateByAlias(['lt-xl', 'lt-lg', 'lt-md']);\n\n            break;\n\n          case 'xs':\n            this._activateByAlias(['lt-xl', 'lt-lg', 'lt-md', 'lt-sm']);\n\n            break;\n        } // Simulate activation of overlapping gt-<xxxx> mediaQuery ranges\n\n\n        switch (alias) {\n          case 'xl':\n            this._activateByAlias(['gt-lg', 'gt-md', 'gt-sm', 'gt-xs']);\n\n            break;\n\n          case 'lg':\n            this._activateByAlias(['gt-md', 'gt-sm', 'gt-xs']);\n\n            break;\n\n          case 'md':\n            this._activateByAlias(['gt-sm', 'gt-xs']);\n\n            break;\n\n          case 'sm':\n            this._activateByAlias(['gt-xs']);\n\n            break;\n        }\n      } // Activate last since the responsiveActivation is watching *this* mediaQuery\n\n\n      return this._activateByQuery(mediaQuery);\n    }\n    /**\r\n     *\r\n     * @private\r\n     * @param {?} aliases\r\n     * @return {?}\r\n     */\n\n  }, {\n    key: \"_activateByAlias\",\n    value: function _activateByAlias(aliases) {\n      var _this6 = this;\n\n      /** @type {?} */\n      var activate =\n      /**\r\n      * @param {?} alias\r\n      * @return {?}\r\n      */\n      function activate(alias) {\n        /** @type {?} */\n        var bp = _this6._breakpoints.findByAlias(alias);\n\n        _this6._activateByQuery(bp ? bp.mediaQuery : alias);\n      };\n\n      aliases.forEach(activate);\n    }\n    /**\r\n     *\r\n     * @private\r\n     * @param {?} mediaQuery\r\n     * @return {?}\r\n     */\n\n  }, {\n    key: \"_activateByQuery\",\n    value: function _activateByQuery(mediaQuery) {\n      if (!this.registry.has(mediaQuery) && this.autoRegisterQueries) {\n        this._registerMediaQuery(mediaQuery);\n      }\n      /** @type {?} */\n\n\n      var mql =\n      /** @type {?} */\n      this.registry.get(mediaQuery);\n\n      if (mql && !this.isActive(mediaQuery)) {\n        this.registry.set(mediaQuery, mql.activate());\n      }\n\n      return this.hasActivated;\n    }\n    /**\r\n     * Deactivate all current MQLs and reset the buffer\r\n     * @private\r\n     * @template THIS\r\n     * @this {THIS}\r\n     * @return {THIS}\r\n     */\n\n  }, {\n    key: \"_deactivateAll\",\n    value: function _deactivateAll() {\n      /** @type {?} */\n      this.registry.forEach(\n      /**\r\n      * @param {?} it\r\n      * @return {?}\r\n      */\n      function (it) {\n        /** @type {?} */\n        it.deactivate();\n      });\n      return (\n        /** @type {?} */\n        this\n      );\n    }\n    /**\r\n     * Insure the mediaQuery is registered with MatchMedia\r\n     * @private\r\n     * @param {?} mediaQuery\r\n     * @return {?}\r\n     */\n\n  }, {\n    key: \"_registerMediaQuery\",\n    value: function _registerMediaQuery(mediaQuery) {\n      if (!this.registry.has(mediaQuery) && this.autoRegisterQueries) {\n        this.registerQuery(mediaQuery);\n      }\n    }\n    /**\r\n     * Call window.matchMedia() to build a MediaQueryList; which\r\n     * supports 0..n listeners for activation/deactivation\r\n     * @protected\r\n     * @param {?} query\r\n     * @return {?}\r\n     */\n\n  }, {\n    key: \"buildMQL\",\n    value: function buildMQL(query) {\n      return new MockMediaQueryList(query);\n    }\n    /**\r\n     * @protected\r\n     * @return {?}\r\n     */\n\n  }, {\n    key: \"hasActivated\",\n    get: function get() {\n      return this.activations.length > 0;\n    }\n  }]);\n\n  return MockMatchMedia;\n}(MatchMedia);\n\nMockMatchMedia.ɵfac = function MockMatchMedia_Factory(t) {\n  return new (t || MockMatchMedia)(ɵngcc0.ɵɵinject(ɵngcc0.NgZone), ɵngcc0.ɵɵinject(PLATFORM_ID), ɵngcc0.ɵɵinject(DOCUMENT), ɵngcc0.ɵɵinject(BreakPointRegistry));\n};\n\nMockMatchMedia.ɵprov = ɵngcc0.ɵɵdefineInjectable({\n  token: MockMatchMedia,\n  factory: MockMatchMedia.ɵfac\n});\n/** @nocollapse */\n\nMockMatchMedia.ctorParameters = function () {\n  return [{\n    type: NgZone\n  }, {\n    type: Object,\n    decorators: [{\n      type: Inject,\n      args: [PLATFORM_ID]\n    }]\n  }, {\n    type: undefined,\n    decorators: [{\n      type: Inject,\n      args: [DOCUMENT]\n    }]\n  }, {\n    type: BreakPointRegistry\n  }];\n};\n/*@__PURE__*/\n\n\n(function () {\n  ɵngcc0.ɵsetClassMetadata(MockMatchMedia, [{\n    type: Injectable\n  }], function () {\n    return [{\n      type: ɵngcc0.NgZone\n    }, {\n      type: Object,\n      decorators: [{\n        type: Inject,\n        args: [PLATFORM_ID]\n      }]\n    }, {\n      type: undefined,\n      decorators: [{\n        type: Inject,\n        args: [DOCUMENT]\n      }]\n    }, {\n      type: BreakPointRegistry\n    }];\n  }, null);\n})();\n/**\r\n * Special internal class to simulate a MediaQueryList and\r\n * - supports manual activation to simulate mediaQuery matching\r\n * - manages listeners\r\n */\n\n\nvar MockMediaQueryList = /*#__PURE__*/function () {\n  /**\r\n   * @param {?} _mediaQuery\r\n   */\n  function MockMediaQueryList(_mediaQuery) {\n    _classCallCheck(this, MockMediaQueryList);\n\n    this._mediaQuery = _mediaQuery;\n    this._isActive = false;\n    this._listeners = [];\n    this.onchange = null;\n  }\n  /**\r\n   * @return {?}\r\n   */\n\n\n  _createClass(MockMediaQueryList, [{\n    key: \"matches\",\n    get: function get() {\n      return this._isActive;\n    }\n    /**\r\n     * @return {?}\r\n     */\n\n  }, {\n    key: \"media\",\n    get: function get() {\n      return this._mediaQuery;\n    }\n    /**\r\n     * Destroy the current list by deactivating the\r\n     * listeners and clearing the internal list\r\n     * @return {?}\r\n     */\n\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      this.deactivate();\n      this._listeners = [];\n    }\n    /**\r\n     * Notify all listeners that 'matches === TRUE'\r\n     * @return {?}\r\n     */\n\n  }, {\n    key: \"activate\",\n    value: function activate() {\n      var _this7 = this;\n\n      if (!this._isActive) {\n        this._isActive = true;\n\n        this._listeners.forEach(\n        /**\r\n        * @param {?} callback\r\n        * @return {?}\r\n        */\n        function (callback) {\n          /** @type {?} */\n          var cb =\n          /** @type {?} */\n          callback;\n          cb.call(_this7,\n          /** @type {?} */\n          {\n            matches: _this7.matches,\n            media: _this7.media\n          });\n        });\n      }\n\n      return this;\n    }\n    /**\r\n     * Notify all listeners that 'matches === false'\r\n     * @return {?}\r\n     */\n\n  }, {\n    key: \"deactivate\",\n    value: function deactivate() {\n      var _this8 = this;\n\n      if (this._isActive) {\n        this._isActive = false;\n\n        this._listeners.forEach(\n        /**\r\n        * @param {?} callback\r\n        * @return {?}\r\n        */\n        function (callback) {\n          /** @type {?} */\n          var cb =\n          /** @type {?} */\n          callback;\n          cb.call(_this8,\n          /** @type {?} */\n          {\n            matches: _this8.matches,\n            media: _this8.media\n          });\n        });\n      }\n\n      return this;\n    }\n    /**\r\n     * Add a listener to our internal list to activate later\r\n     * @param {?} listener\r\n     * @return {?}\r\n     */\n\n  }, {\n    key: \"addListener\",\n    value: function addListener(listener) {\n      if (this._listeners.indexOf(listener) === -1) {\n        this._listeners.push(listener);\n      }\n\n      if (this._isActive) {\n        /** @type {?} */\n        var cb =\n        /** @type {?} */\n        listener;\n        cb.call(this,\n        /** @type {?} */\n        {\n          matches: this.matches,\n          media: this.media\n        });\n      }\n    }\n    /**\r\n     * Don't need to remove listeners in the testing environment\r\n     * @param {?} _\r\n     * @return {?}\r\n     */\n\n  }, {\n    key: \"removeListener\",\n    value: function removeListener(_) {}\n    /**\r\n     * @param {?} _\r\n     * @param {?} __\r\n     * @param {?=} ___\r\n     * @return {?}\r\n     */\n\n  }, {\n    key: \"addEventListener\",\n    value: function addEventListener(_, __, ___) {}\n    /**\r\n     * @param {?} _\r\n     * @param {?} __\r\n     * @param {?=} ___\r\n     * @return {?}\r\n     */\n\n  }, {\n    key: \"removeEventListener\",\n    value: function removeEventListener(_, __, ___) {}\n    /**\r\n     * @param {?} _\r\n     * @return {?}\r\n     */\n\n  }, {\n    key: \"dispatchEvent\",\n    value: function dispatchEvent(_) {\n      return false;\n    }\n  }]);\n\n  return MockMediaQueryList;\n}();\n/**\r\n * Pre-configured provider for MockMatchMedia\r\n * @type {?}\r\n */\n\n\nvar MockMatchMediaProvider = {\n  // tslint:disable-line:variable-name\n  provide: MatchMedia,\n  useClass: MockMatchMedia\n};\n/**\r\n * @fileoverview added by tsickle\r\n * Generated from: core/match-media/index.ts\r\n * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingRequire,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\n\n/**\r\n * @fileoverview added by tsickle\r\n * Generated from: core/media-marshaller/print-hook.ts\r\n * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingRequire,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\n\n/** @type {?} */\n\nvar PRINT = 'print';\n/** @type {?} */\n\nvar BREAKPOINT_PRINT = {\n  alias: PRINT,\n  mediaQuery: PRINT,\n  priority: 1000\n};\n/**\r\n * PrintHook - Use to intercept print MediaQuery activations and force\r\n *             layouts to render with the specified print alias/breakpoint\r\n *\r\n * Used in MediaMarshaller and MediaObserver\r\n */\n\nvar PrintHook = /*#__PURE__*/function () {\n  /**\r\n   * @param {?} breakpoints\r\n   * @param {?} layoutConfig\r\n   * @param {?} _document\r\n   */\n  function PrintHook(breakpoints, layoutConfig, _document) {\n    _classCallCheck(this, PrintHook);\n\n    this.breakpoints = breakpoints;\n    this.layoutConfig = layoutConfig;\n    this._document = _document; // registeredBeforeAfterPrintHooks tracks if we registered the `beforeprint`\n    //  and `afterprint` event listeners.\n\n    this.registeredBeforeAfterPrintHooks = false; // isPrintingBeforeAfterEvent is used to track if we are printing from within\n    // a `beforeprint` event handler. This prevents the typicall `stopPrinting`\n    // form `interceptEvents` so that printing is not stopped while the dialog\n    // is still open. This is an extension of the `isPrinting` property on\n    // browsers which support `beforeprint` and `afterprint` events.\n\n    this.isPrintingBeforeAfterEvent = false;\n    this.beforePrintEventListeners = [];\n    this.afterPrintEventListeners = [];\n    /**\r\n     * Is this service currently in Print-mode ?\r\n     */\n\n    this.isPrinting = false;\n    this.queue = new PrintQueue();\n    this.deactivations = [];\n  }\n  /**\r\n   * Add 'print' mediaQuery: to listen for matchMedia activations\r\n   * @param {?} queries\r\n   * @return {?}\r\n   */\n\n\n  _createClass(PrintHook, [{\n    key: \"withPrintQuery\",\n    value: function withPrintQuery(queries) {\n      return [].concat(_toConsumableArray(queries), [PRINT]);\n    }\n    /**\r\n     * Is the MediaChange event for any 'print' \\@media\r\n     * @param {?} e\r\n     * @return {?}\r\n     */\n\n  }, {\n    key: \"isPrintEvent\",\n    value: function isPrintEvent(e) {\n      return e.mediaQuery.startsWith(PRINT);\n    }\n    /**\r\n     * What is the desired mqAlias to use while printing?\r\n     * @return {?}\r\n     */\n\n  }, {\n    key: \"printAlias\",\n    get: function get() {\n      return this.layoutConfig.printWithBreakpoints || [];\n    }\n    /**\r\n     * Lookup breakpoints associated with print aliases.\r\n     * @return {?}\r\n     */\n\n  }, {\n    key: \"printBreakPoints\",\n    get: function get() {\n      var _this9 = this;\n\n      return (\n        /** @type {?} */\n        this.printAlias.map(\n        /**\r\n        * @param {?} alias\r\n        * @return {?}\r\n        */\n        function (alias) {\n          return _this9.breakpoints.findByAlias(alias);\n        }).filter(\n        /**\r\n        * @param {?} bp\r\n        * @return {?}\r\n        */\n        function (bp) {\n          return bp !== null;\n        })\n      );\n    }\n    /**\r\n     * Lookup breakpoint associated with mediaQuery\r\n     * @param {?} __0\r\n     * @return {?}\r\n     */\n\n  }, {\n    key: \"getEventBreakpoints\",\n    value: function getEventBreakpoints(_ref) {\n      var mediaQuery = _ref.mediaQuery;\n\n      /** @type {?} */\n      var bp = this.breakpoints.findByQuery(mediaQuery);\n      /** @type {?} */\n\n      var list = bp ? [].concat(_toConsumableArray(this.printBreakPoints), [bp]) : this.printBreakPoints;\n      return list.sort(sortDescendingPriority);\n    }\n    /**\r\n     * Update event with printAlias mediaQuery information\r\n     * @param {?} event\r\n     * @return {?}\r\n     */\n\n  }, {\n    key: \"updateEvent\",\n    value: function updateEvent(event) {\n      /** @type {?} */\n      var bp = this.breakpoints.findByQuery(event.mediaQuery);\n\n      if (this.isPrintEvent(event)) {\n        // Reset from 'print' to first (highest priority) print breakpoint\n        bp = this.getEventBreakpoints(event)[0];\n        event.mediaQuery = bp ? bp.mediaQuery : '';\n      }\n\n      return mergeAlias(event, bp);\n    } // registerBeforeAfterPrintHooks registers a `beforeprint` event hook so we can\n    // trigger print styles synchronously and apply proper layout styles.\n    // It is a noop if the hooks have already been registered or if the document's\n    // `defaultView` is not available.\n\n    /**\r\n     * @private\r\n     * @param {?} target\r\n     * @return {?}\r\n     */\n\n  }, {\n    key: \"registerBeforeAfterPrintHooks\",\n    value: function registerBeforeAfterPrintHooks(target) {\n      var _this10 = this;\n\n      // `defaultView` may be null when rendering on the server or in other contexts.\n      if (!this._document.defaultView || this.registeredBeforeAfterPrintHooks) {\n        return;\n      }\n\n      this.registeredBeforeAfterPrintHooks = true;\n      /** @type {?} */\n\n      var beforePrintListener =\n      /**\r\n      * @return {?}\r\n      */\n      function beforePrintListener() {\n        // If we aren't already printing, start printing and update the styles as\n        // if there was a regular print `MediaChange`(from matchMedia).\n        if (!_this10.isPrinting) {\n          _this10.isPrintingBeforeAfterEvent = true;\n\n          _this10.startPrinting(target, _this10.getEventBreakpoints(new MediaChange(true, PRINT)));\n\n          target.updateStyles();\n        }\n      };\n      /** @type {?} */\n\n\n      var afterPrintListener =\n      /**\r\n      * @return {?}\r\n      */\n      function afterPrintListener() {\n        // If we aren't already printing, start printing and update the styles as\n        // if there was a regular print `MediaChange`(from matchMedia).\n        _this10.isPrintingBeforeAfterEvent = false;\n\n        if (_this10.isPrinting) {\n          _this10.stopPrinting(target);\n\n          target.updateStyles();\n        }\n      }; // Could we have teardown logic to remove if there are no print listeners being used?\n\n\n      this._document.defaultView.addEventListener('beforeprint', beforePrintListener);\n\n      this._document.defaultView.addEventListener('afterprint', afterPrintListener);\n\n      this.beforePrintEventListeners.push(beforePrintListener);\n      this.afterPrintEventListeners.push(afterPrintListener);\n    }\n    /**\r\n     * Prepare RxJS filter operator with partial application\r\n     * @param {?} target\r\n     * @return {?} pipeable filter predicate\r\n     */\n\n  }, {\n    key: \"interceptEvents\",\n    value: function interceptEvents(target) {\n      var _this11 = this;\n\n      this.registerBeforeAfterPrintHooks(target);\n      return (\n        /**\r\n        * @param {?} event\r\n        * @return {?}\r\n        */\n        function (event) {\n          if (_this11.isPrintEvent(event)) {\n            if (event.matches && !_this11.isPrinting) {\n              _this11.startPrinting(target, _this11.getEventBreakpoints(event));\n\n              target.updateStyles();\n            } else if (!event.matches && _this11.isPrinting && !_this11.isPrintingBeforeAfterEvent) {\n              _this11.stopPrinting(target);\n\n              target.updateStyles();\n            }\n          } else {\n            _this11.collectActivations(event);\n          }\n        }\n      );\n    }\n    /**\r\n     * Stop mediaChange event propagation in event streams\r\n     * @return {?}\r\n     */\n\n  }, {\n    key: \"blockPropagation\",\n    value: function blockPropagation() {\n      var _this12 = this;\n\n      return (\n        /**\r\n        * @param {?} event\r\n        * @return {?}\r\n        */\n        function (event) {\n          return !(_this12.isPrinting || _this12.isPrintEvent(event));\n        }\n      );\n    }\n    /**\r\n     * Save current activateBreakpoints (for later restore)\r\n     * and substitute only the printAlias breakpoint\r\n     * @protected\r\n     * @param {?} target\r\n     * @param {?} bpList\r\n     * @return {?}\r\n     */\n\n  }, {\n    key: \"startPrinting\",\n    value: function startPrinting(target, bpList) {\n      this.isPrinting = true;\n      target.activatedBreakpoints = this.queue.addPrintBreakpoints(bpList);\n    }\n    /**\r\n     * For any print de-activations, reset the entire print queue\r\n     * @protected\r\n     * @param {?} target\r\n     * @return {?}\r\n     */\n\n  }, {\n    key: \"stopPrinting\",\n    value: function stopPrinting(target) {\n      target.activatedBreakpoints = this.deactivations;\n      this.deactivations = [];\n      this.queue.clear();\n      this.isPrinting = false;\n    }\n    /**\r\n     * To restore pre-Print Activations, we must capture the proper\r\n     * list of breakpoint activations BEFORE print starts. OnBeforePrint()\r\n     * is supported; so 'print' mediaQuery activations are used as a fallback\r\n     * in browsers without `beforeprint` support.\r\n     *\r\n     * >  But activated breakpoints are deactivated BEFORE 'print' activation.\r\n     *\r\n     * Let's capture all de-activations using the following logic:\r\n     *\r\n     *  When not printing:\r\n     *    - clear cache when activating non-print breakpoint\r\n     *    - update cache (and sort) when deactivating\r\n     *\r\n     *  When printing:\r\n     *    - sort and save when starting print\r\n     *    - restore as activatedTargets and clear when stop printing\r\n     * @param {?} event\r\n     * @return {?}\r\n     */\n\n  }, {\n    key: \"collectActivations\",\n    value: function collectActivations(event) {\n      if (!this.isPrinting || this.isPrintingBeforeAfterEvent) {\n        if (!event.matches) {\n          /** @type {?} */\n          var bp = this.breakpoints.findByQuery(event.mediaQuery);\n\n          if (bp) {\n            // Deactivating a breakpoint\n            this.deactivations.push(bp);\n            this.deactivations.sort(sortDescendingPriority);\n          }\n        } else if (!this.isPrintingBeforeAfterEvent) {\n          // Only clear deactivations if we aren't printing from a `beforeprint` event.\n          // Otherwise this will clear before `stopPrinting()` is called to restore\n          // the pre-Print Activations.\n          this.deactivations = [];\n        }\n      }\n    }\n    /**\r\n     * Teardown logic for the service.\r\n     * @return {?}\r\n     */\n\n  }, {\n    key: \"ngOnDestroy\",\n    value: function ngOnDestroy() {\n      var _this13 = this;\n\n      this.beforePrintEventListeners.forEach(\n      /**\r\n      * @param {?} l\r\n      * @return {?}\r\n      */\n      function (l) {\n        return _this13._document.defaultView.removeEventListener('beforeprint', l);\n      });\n      this.afterPrintEventListeners.forEach(\n      /**\r\n      * @param {?} l\r\n      * @return {?}\r\n      */\n      function (l) {\n        return _this13._document.defaultView.removeEventListener('afterprint', l);\n      });\n    }\n  }]);\n\n  return PrintHook;\n}();\n\nPrintHook.ɵfac = function PrintHook_Factory(t) {\n  return new (t || PrintHook)(ɵngcc0.ɵɵinject(BreakPointRegistry), ɵngcc0.ɵɵinject(LAYOUT_CONFIG), ɵngcc0.ɵɵinject(DOCUMENT));\n};\n/** @nocollapse */\n\n\nPrintHook.ɵprov = ɵɵdefineInjectable({\n  factory: function PrintHook_Factory() {\n    return new PrintHook(ɵɵinject(BreakPointRegistry), ɵɵinject(LAYOUT_CONFIG), ɵɵinject(DOCUMENT));\n  },\n  token: PrintHook,\n  providedIn: \"root\"\n});\n/** @nocollapse */\n\nPrintHook.ctorParameters = function () {\n  return [{\n    type: BreakPointRegistry\n  }, {\n    type: undefined,\n    decorators: [{\n      type: Inject,\n      args: [LAYOUT_CONFIG]\n    }]\n  }, {\n    type: undefined,\n    decorators: [{\n      type: Inject,\n      args: [DOCUMENT]\n    }]\n  }];\n};\n/*@__PURE__*/\n\n\n(function () {\n  ɵngcc0.ɵsetClassMetadata(PrintHook, [{\n    type: Injectable,\n    args: [{\n      providedIn: 'root'\n    }]\n  }], function () {\n    return [{\n      type: BreakPointRegistry\n    }, {\n      type: undefined,\n      decorators: [{\n        type: Inject,\n        args: [LAYOUT_CONFIG]\n      }]\n    }, {\n      type: undefined,\n      decorators: [{\n        type: Inject,\n        args: [DOCUMENT]\n      }]\n    }];\n  }, null);\n})(); // ************************************************************************\n// Internal Utility class 'PrintQueue'\n// ************************************************************************\n\n/**\r\n * Utility class to manage print breakpoints + activatedBreakpoints\r\n * with correct sorting WHILE printing\r\n */\n\n\nvar PrintQueue = /*#__PURE__*/function () {\n  function PrintQueue() {\n    _classCallCheck(this, PrintQueue);\n\n    /**\r\n     * Sorted queue with prioritized print breakpoints\r\n     */\n    this.printBreakpoints = [];\n  }\n  /**\r\n   * @param {?} bpList\r\n   * @return {?}\r\n   */\n\n\n  _createClass(PrintQueue, [{\n    key: \"addPrintBreakpoints\",\n    value: function addPrintBreakpoints(bpList) {\n      var _this14 = this;\n\n      bpList.push(BREAKPOINT_PRINT);\n      bpList.sort(sortDescendingPriority);\n      bpList.forEach(\n      /**\r\n      * @param {?} bp\r\n      * @return {?}\r\n      */\n      function (bp) {\n        return _this14.addBreakpoint(bp);\n      });\n      return this.printBreakpoints;\n    }\n    /**\r\n     * Add Print breakpoint to queue\r\n     * @param {?} bp\r\n     * @return {?}\r\n     */\n\n  }, {\n    key: \"addBreakpoint\",\n    value: function addBreakpoint(bp) {\n      if (!!bp) {\n        /** @type {?} */\n        var bpInList = this.printBreakpoints.find(\n        /**\r\n        * @param {?} it\r\n        * @return {?}\r\n        */\n        function (it) {\n          return it.mediaQuery === bp.mediaQuery;\n        });\n\n        if (bpInList === undefined) {\n          // If this is a `printAlias` breakpoint, then append. If a true 'print' breakpoint,\n          // register as highest priority in the queue\n          this.printBreakpoints = isPrintBreakPoint(bp) ? [bp].concat(_toConsumableArray(this.printBreakpoints)) : [].concat(_toConsumableArray(this.printBreakpoints), [bp]);\n        }\n      }\n    }\n    /**\r\n     * Restore original activated breakpoints and clear internal caches\r\n     * @return {?}\r\n     */\n\n  }, {\n    key: \"clear\",\n    value: function clear() {\n      this.printBreakpoints = [];\n    }\n  }]);\n\n  return PrintQueue;\n}(); // ************************************************************************\n// Internal Utility methods\n// ************************************************************************\n\n/**\r\n * Only support intercept queueing if the Breakpoint is a print \\@media query\r\n * @param {?} bp\r\n * @return {?}\r\n */\n\n\nfunction isPrintBreakPoint(bp) {\n  return bp ? bp.mediaQuery.startsWith(PRINT) : false;\n}\n/**\r\n * @fileoverview added by tsickle\r\n * Generated from: core/utils/array.ts\r\n * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingRequire,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\n\n/**\r\n * Wraps the provided value in an array, unless the provided value is an array.\r\n * @template T\r\n * @param {?} value\r\n * @return {?}\r\n */\n\n\nfunction coerceArray(value) {\n  return Array.isArray(value) ? value : [value];\n}\n/**\r\n * @fileoverview added by tsickle\r\n * Generated from: core/media-observer/media-observer.ts\r\n * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingRequire,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\n\n/**\r\n * MediaObserver enables applications to listen for 1..n mediaQuery activations and to determine\r\n * if a mediaQuery is currently activated.\r\n *\r\n * Since a breakpoint change will first deactivate 1...n mediaQueries and then possibly activate\r\n * 1..n mediaQueries, the MediaObserver will debounce notifications and report ALL *activations*\r\n * in 1 event notification. The reported activations will be sorted in descending priority order.\r\n *\r\n * This class uses the BreakPoint Registry to inject alias information into the raw MediaChange\r\n * notification. For custom mediaQuery notifications, alias information will not be injected and\r\n * those fields will be ''.\r\n *\r\n * Note: Developers should note that only mediaChange activations (not de-activations)\r\n *       are announced by the MediaObserver.\r\n *\r\n * \\@usage\r\n *\r\n *  // RxJS\r\n *  import { filter } from 'rxjs/operators';\r\n *  import { MediaObserver } from '\\@angular/flex-layout';\r\n *\r\n * \\@Component({ ... })\r\n *  export class AppComponent {\r\n *    status: string = '';\r\n *\r\n *    constructor(mediaObserver: MediaObserver) {\r\n *      const media$ = mediaObserver.asObservable().pipe(\r\n *        filter((changes: MediaChange[]) => true)   // silly noop filter\r\n *      );\r\n *\r\n *      media$.subscribe((changes: MediaChange[]) => {\r\n *        let status = '';\r\n *        changes.forEach( change => {\r\n *          status += `'${change.mqAlias}' = (${change.mediaQuery}) <br/>` ;\r\n *        });\r\n *        this.status = status;\r\n *     });\r\n *\r\n *    }\r\n *  }\r\n */\n\n\nvar MediaObserver = /*#__PURE__*/function () {\n  /**\r\n   * @param {?} breakpoints\r\n   * @param {?} matchMedia\r\n   * @param {?} hook\r\n   */\n  function MediaObserver(breakpoints, matchMedia, hook) {\n    _classCallCheck(this, MediaObserver);\n\n    this.breakpoints = breakpoints;\n    this.matchMedia = matchMedia;\n    this.hook = hook;\n    /**\r\n     * Filter MediaChange notifications for overlapping breakpoints\r\n     */\n\n    this.filterOverlaps = false;\n    this.destroyed$ = new Subject();\n    this._media$ = this.watchActivations();\n    this.media$ = this._media$.pipe(filter(\n    /**\r\n    * @param {?} changes\r\n    * @return {?}\r\n    */\n    function (changes) {\n      return changes.length > 0;\n    }), map(\n    /**\r\n    * @param {?} changes\r\n    * @return {?}\r\n    */\n    function (changes) {\n      return changes[0];\n    }));\n  }\n  /**\r\n   * Completes the active subject, signalling to all complete for all\r\n   * MediaObserver subscribers\r\n   * @return {?}\r\n   */\n\n\n  _createClass(MediaObserver, [{\n    key: \"ngOnDestroy\",\n    value: function ngOnDestroy() {\n      this.destroyed$.next();\n      this.destroyed$.complete();\n    } // ************************************************\n    // Public Methods\n    // ************************************************\n\n    /**\r\n     * Observe changes to current activation 'list'\r\n     * @return {?}\r\n     */\n\n  }, {\n    key: \"asObservable\",\n    value: function asObservable() {\n      return this._media$;\n    }\n    /**\r\n     * Allow programmatic query to determine if one or more media query/alias match\r\n     * the current viewport size.\r\n     * @param {?} value One or more media queries (or aliases) to check.\r\n     * @return {?} Whether any of the media queries match.\r\n     */\n\n  }, {\n    key: \"isActive\",\n    value: function isActive(value) {\n      var _this15 = this;\n\n      /** @type {?} */\n      var aliases = splitQueries(coerceArray(value));\n      return aliases.some(\n      /**\r\n      * @param {?} alias\r\n      * @return {?}\r\n      */\n      function (alias) {\n        /** @type {?} */\n        var query = toMediaQuery(alias, _this15.breakpoints);\n        return query !== null && _this15.matchMedia.isActive(query);\n      });\n    } // ************************************************\n    // Internal Methods\n    // ************************************************\n\n    /**\r\n     * Register all the mediaQueries registered in the BreakPointRegistry\r\n     * This is needed so subscribers can be auto-notified of all standard, registered\r\n     * mediaQuery activations\r\n     * @private\r\n     * @return {?}\r\n     */\n\n  }, {\n    key: \"watchActivations\",\n    value: function watchActivations() {\n      /** @type {?} */\n      var queries = this.breakpoints.items.map(\n      /**\r\n      * @param {?} bp\r\n      * @return {?}\r\n      */\n      function (bp) {\n        return bp.mediaQuery;\n      });\n      return this.buildObservable(queries);\n    }\n    /**\r\n     * Only pass/announce activations (not de-activations)\r\n     *\r\n     * Since multiple-mediaQueries can be activation in a cycle,\r\n     * gather all current activations into a single list of changes to observers\r\n     *\r\n     * Inject associated (if any) alias information into the MediaChange event\r\n     * - Exclude mediaQuery activations for overlapping mQs. List bounded mQ ranges only\r\n     * - Exclude print activations that do not have an associated mediaQuery\r\n     *\r\n     * NOTE: the raw MediaChange events [from MatchMedia] do not\r\n     *       contain important alias information; as such this info\r\n     *       must be injected into the MediaChange\r\n     * @private\r\n     * @param {?} mqList\r\n     * @return {?}\r\n     */\n\n  }, {\n    key: \"buildObservable\",\n    value: function buildObservable(mqList) {\n      var _this16 = this;\n\n      /** @type {?} */\n      var hasChanges =\n      /**\r\n      * @param {?} changes\r\n      * @return {?}\r\n      */\n      function hasChanges(changes) {\n        /** @type {?} */\n        var isValidQuery =\n        /**\r\n        * @param {?} change\r\n        * @return {?}\r\n        */\n        function isValidQuery(change) {\n          return change.mediaQuery.length > 0;\n        };\n\n        return changes.filter(isValidQuery).length > 0;\n      };\n      /** @type {?} */\n\n\n      var excludeOverlaps =\n      /**\r\n      * @param {?} changes\r\n      * @return {?}\r\n      */\n      function excludeOverlaps(changes) {\n        return !_this16.filterOverlaps ? changes : changes.filter(\n        /**\r\n        * @param {?} change\r\n        * @return {?}\r\n        */\n        function (change) {\n          /** @type {?} */\n          var bp = _this16.breakpoints.findByQuery(change.mediaQuery);\n\n          return !bp ? true : !bp.overlapping;\n        });\n      };\n      /**\r\n       */\n\n\n      return this.matchMedia.observe(this.hook.withPrintQuery(mqList)).pipe(filter(\n      /**\r\n      * @param {?} change\r\n      * @return {?}\r\n      */\n      function (change) {\n        return change.matches;\n      }), debounceTime(0, asapScheduler), switchMap(\n      /**\r\n      * @param {?} _\r\n      * @return {?}\r\n      */\n      function (_) {\n        return of(_this16.findAllActivations());\n      }), map(excludeOverlaps), filter(hasChanges), takeUntil(this.destroyed$));\n    }\n    /**\r\n     * Find all current activations and prepare single list of activations\r\n     * sorted by descending priority.\r\n     * @private\r\n     * @return {?}\r\n     */\n\n  }, {\n    key: \"findAllActivations\",\n    value: function findAllActivations() {\n      var _this17 = this;\n\n      /** @type {?} */\n      var mergeMQAlias =\n      /**\r\n      * @param {?} change\r\n      * @return {?}\r\n      */\n      function mergeMQAlias(change) {\n        /** @type {?} */\n        var bp = _this17.breakpoints.findByQuery(change.mediaQuery);\n\n        return mergeAlias(change, bp);\n      };\n      /** @type {?} */\n\n\n      var replaceWithPrintAlias =\n      /**\r\n      * @param {?} change\r\n      * @return {?}\r\n      */\n      function replaceWithPrintAlias(change) {\n        return _this17.hook.isPrintEvent(change) ? _this17.hook.updateEvent(change) : change;\n      };\n\n      return this.matchMedia.activations.map(\n      /**\r\n      * @param {?} query\r\n      * @return {?}\r\n      */\n      function (query) {\n        return new MediaChange(true, query);\n      }).map(replaceWithPrintAlias).map(mergeMQAlias).sort(sortDescendingPriority);\n    }\n  }]);\n\n  return MediaObserver;\n}();\n\nMediaObserver.ɵfac = function MediaObserver_Factory(t) {\n  return new (t || MediaObserver)(ɵngcc0.ɵɵinject(BreakPointRegistry), ɵngcc0.ɵɵinject(MatchMedia), ɵngcc0.ɵɵinject(PrintHook));\n};\n/** @nocollapse */\n\n\nMediaObserver.ɵprov = ɵɵdefineInjectable({\n  factory: function MediaObserver_Factory() {\n    return new MediaObserver(ɵɵinject(BreakPointRegistry), ɵɵinject(MatchMedia), ɵɵinject(PrintHook));\n  },\n  token: MediaObserver,\n  providedIn: \"root\"\n});\n/** @nocollapse */\n\nMediaObserver.ctorParameters = function () {\n  return [{\n    type: BreakPointRegistry\n  }, {\n    type: MatchMedia\n  }, {\n    type: PrintHook\n  }];\n};\n/*@__PURE__*/\n\n\n(function () {\n  ɵngcc0.ɵsetClassMetadata(MediaObserver, [{\n    type: Injectable,\n    args: [{\n      providedIn: 'root'\n    }]\n  }], function () {\n    return [{\n      type: BreakPointRegistry\n    }, {\n      type: MatchMedia\n    }, {\n      type: PrintHook\n    }];\n  }, null);\n})();\n/**\r\n * Find associated breakpoint (if any)\r\n * @param {?} query\r\n * @param {?} locator\r\n * @return {?}\r\n */\n\n\nfunction toMediaQuery(query, locator) {\n  /** @type {?} */\n  var bp = locator.findByAlias(query) || locator.findByQuery(query);\n  return bp ? bp.mediaQuery : null;\n}\n/**\r\n * Split each query string into separate query strings if two queries are provided as comma\r\n * separated.\r\n * @param {?} queries\r\n * @return {?}\r\n */\n\n\nfunction splitQueries(queries) {\n  return queries.map(\n  /**\r\n  * @param {?} query\r\n  * @return {?}\r\n  */\n  function (query) {\n    return query.split(',');\n  }).reduce(\n  /**\r\n  * @param {?} a1\r\n  * @param {?} a2\r\n  * @return {?}\r\n  */\n  function (a1, a2) {\n    return a1.concat(a2);\n  }).map(\n  /**\r\n  * @param {?} query\r\n  * @return {?}\r\n  */\n  function (query) {\n    return query.trim();\n  });\n}\n/**\r\n * @fileoverview added by tsickle\r\n * Generated from: core/media-observer/index.ts\r\n * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingRequire,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\n\n/**\r\n * @fileoverview added by tsickle\r\n * Generated from: core/media-trigger/media-trigger.ts\r\n * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingRequire,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\n\n/**\r\n * Class\r\n */\n\n\nvar MediaTrigger = /*#__PURE__*/function () {\n  /**\r\n   * @param {?} breakpoints\r\n   * @param {?} matchMedia\r\n   * @param {?} layoutConfig\r\n   * @param {?} _platformId\r\n   * @param {?} _document\r\n   */\n  function MediaTrigger(breakpoints, matchMedia, layoutConfig, _platformId, _document) {\n    _classCallCheck(this, MediaTrigger);\n\n    this.breakpoints = breakpoints;\n    this.matchMedia = matchMedia;\n    this.layoutConfig = layoutConfig;\n    this._platformId = _platformId;\n    this._document = _document;\n    this.hasCachedRegistryMatches = false;\n    this.originalActivations = [];\n    this.originalRegistry = new Map();\n  }\n  /**\r\n   * Manually activate range of breakpoints\r\n   * @param {?} list array of mediaQuery or alias strings\r\n   * @return {?}\r\n   */\n\n\n  _createClass(MediaTrigger, [{\n    key: \"activate\",\n    value: function activate(list) {\n      list = list.map(\n      /**\r\n      * @param {?} it\r\n      * @return {?}\r\n      */\n      function (it) {\n        return it.trim();\n      }); // trim queries\n\n      this.saveActivations();\n      this.deactivateAll();\n      this.setActivations(list);\n      this.prepareAutoRestore();\n    }\n    /**\r\n     * Restore original, 'real' breakpoints and emit events\r\n     * to trigger stream notification\r\n     * @return {?}\r\n     */\n\n  }, {\n    key: \"restore\",\n    value: function restore() {\n      if (this.hasCachedRegistryMatches) {\n        /** @type {?} */\n        var extractQuery =\n        /**\r\n        * @param {?} change\r\n        * @return {?}\r\n        */\n        function extractQuery(change) {\n          return change.mediaQuery;\n        };\n        /** @type {?} */\n\n\n        var list = this.originalActivations.map(extractQuery);\n\n        try {\n          this.deactivateAll();\n          this.restoreRegistryMatches();\n          this.setActivations(list);\n        } finally {\n          this.originalActivations = [];\n\n          if (this.resizeSubscription) {\n            this.resizeSubscription.unsubscribe();\n          }\n        }\n      }\n    } // ************************************************\n    // Internal Methods\n    // ************************************************\n\n    /**\r\n     * Whenever window resizes, immediately auto-restore original\r\n     * activations (if we are simulating activations)\r\n     * @private\r\n     * @return {?}\r\n     */\n\n  }, {\n    key: \"prepareAutoRestore\",\n    value: function prepareAutoRestore() {\n      /** @type {?} */\n      var isBrowser = isPlatformBrowser(this._platformId) && this._document;\n      /** @type {?} */\n\n\n      var enableAutoRestore = isBrowser && this.layoutConfig.mediaTriggerAutoRestore;\n\n      if (enableAutoRestore) {\n        /** @type {?} */\n        var resize$ = fromEvent(window, 'resize').pipe(take(1));\n        this.resizeSubscription = resize$.subscribe(this.restore.bind(this));\n      }\n    }\n    /**\r\n     * Notify all matchMedia subscribers of de-activations\r\n     *\r\n     * Note: we must force 'matches' updates for\r\n     *       future matchMedia::activation lookups\r\n     * @private\r\n     * @return {?}\r\n     */\n\n  }, {\n    key: \"deactivateAll\",\n    value: function deactivateAll() {\n      /** @type {?} */\n      var list = this.currentActivations;\n      this.forceRegistryMatches(list, false);\n      this.simulateMediaChanges(list, false);\n    }\n    /**\r\n     * Cache current activations as sorted, prioritized list of MediaChanges\r\n     * @private\r\n     * @return {?}\r\n     */\n\n  }, {\n    key: \"saveActivations\",\n    value: function saveActivations() {\n      var _this18 = this;\n\n      if (!this.hasCachedRegistryMatches) {\n        /** @type {?} */\n        var toMediaChange =\n        /**\r\n        * @param {?} query\r\n        * @return {?}\r\n        */\n        function toMediaChange(query) {\n          return new MediaChange(true, query);\n        };\n        /** @type {?} */\n\n\n        var mergeMQAlias =\n        /**\r\n        * @param {?} change\r\n        * @return {?}\r\n        */\n        function mergeMQAlias(change) {\n          /** @type {?} */\n          var bp = _this18.breakpoints.findByQuery(change.mediaQuery);\n\n          return mergeAlias(change, bp);\n        };\n\n        this.originalActivations = this.currentActivations.map(toMediaChange).map(mergeMQAlias).sort(sortDescendingPriority);\n        this.cacheRegistryMatches();\n      }\n    }\n    /**\r\n     * Force set manual activations for specified mediaQuery list\r\n     * @private\r\n     * @param {?} list\r\n     * @return {?}\r\n     */\n\n  }, {\n    key: \"setActivations\",\n    value: function setActivations(list) {\n      if (!!this.originalRegistry) {\n        this.forceRegistryMatches(list, true);\n      }\n\n      this.simulateMediaChanges(list);\n    }\n    /**\r\n     * For specified mediaQuery list manually simulate activations or deactivations\r\n     * @private\r\n     * @param {?} queries\r\n     * @param {?=} matches\r\n     * @return {?}\r\n     */\n\n  }, {\n    key: \"simulateMediaChanges\",\n    value: function simulateMediaChanges(queries) {\n      var _this19 = this;\n\n      var matches = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n\n      /** @type {?} */\n      var toMediaQuery =\n      /**\r\n      * @param {?} query\r\n      * @return {?}\r\n      */\n      function toMediaQuery(query) {\n        /** @type {?} */\n        var locator = _this19.breakpoints;\n        /** @type {?} */\n\n        var bp = locator.findByAlias(query) || locator.findByQuery(query);\n        return bp ? bp.mediaQuery : query;\n      };\n      /** @type {?} */\n\n\n      var emitChangeEvent =\n      /**\r\n      * @param {?} query\r\n      * @return {?}\r\n      */\n      function emitChangeEvent(query) {\n        return _this19.emitChangeEvent(matches, query);\n      };\n\n      queries.map(toMediaQuery).forEach(emitChangeEvent);\n    }\n    /**\r\n     * Replace current registry with simulated registry...\r\n     * Note: this is required since MediaQueryList::matches is 'readOnly'\r\n     * @private\r\n     * @param {?} queries\r\n     * @param {?} matches\r\n     * @return {?}\r\n     */\n\n  }, {\n    key: \"forceRegistryMatches\",\n    value: function forceRegistryMatches(queries, matches) {\n      /** @type {?} */\n      var registry = new Map();\n      queries.forEach(\n      /**\r\n      * @param {?} query\r\n      * @return {?}\r\n      */\n      function (query) {\n        registry.set(query,\n        /** @type {?} */\n        {\n          matches: matches\n        });\n      });\n      this.matchMedia.registry = registry;\n    }\n    /**\r\n     * Save current MatchMedia::registry items.\r\n     * @private\r\n     * @return {?}\r\n     */\n\n  }, {\n    key: \"cacheRegistryMatches\",\n    value: function cacheRegistryMatches() {\n      /** @type {?} */\n      var target = this.originalRegistry;\n      target.clear();\n      this.matchMedia.registry.forEach(\n      /**\r\n      * @param {?} value\r\n      * @param {?} key\r\n      * @return {?}\r\n      */\n      function (value, key) {\n        target.set(key, value);\n      });\n      this.hasCachedRegistryMatches = true;\n    }\n    /**\r\n     * Restore original, 'true' registry\r\n     * @private\r\n     * @return {?}\r\n     */\n\n  }, {\n    key: \"restoreRegistryMatches\",\n    value: function restoreRegistryMatches() {\n      /** @type {?} */\n      var target = this.matchMedia.registry;\n      target.clear();\n      this.originalRegistry.forEach(\n      /**\r\n      * @param {?} value\r\n      * @param {?} key\r\n      * @return {?}\r\n      */\n      function (value, key) {\n        target.set(key, value);\n      });\n      this.originalRegistry.clear();\n      this.hasCachedRegistryMatches = false;\n    }\n    /**\r\n     * Manually emit a MediaChange event via the MatchMedia to MediaMarshaller and MediaObserver\r\n     * @private\r\n     * @param {?} matches\r\n     * @param {?} query\r\n     * @return {?}\r\n     */\n\n  }, {\n    key: \"emitChangeEvent\",\n    value: function emitChangeEvent(matches, query) {\n      this.matchMedia.source.next(new MediaChange(matches, query));\n    }\n    /**\r\n     * @private\r\n     * @return {?}\r\n     */\n\n  }, {\n    key: \"currentActivations\",\n    get: function get() {\n      return this.matchMedia.activations;\n    }\n  }]);\n\n  return MediaTrigger;\n}();\n\nMediaTrigger.ɵfac = function MediaTrigger_Factory(t) {\n  return new (t || MediaTrigger)(ɵngcc0.ɵɵinject(BreakPointRegistry), ɵngcc0.ɵɵinject(MatchMedia), ɵngcc0.ɵɵinject(LAYOUT_CONFIG), ɵngcc0.ɵɵinject(PLATFORM_ID), ɵngcc0.ɵɵinject(DOCUMENT));\n};\n/** @nocollapse */\n\n\nMediaTrigger.ɵprov = ɵɵdefineInjectable({\n  factory: function MediaTrigger_Factory() {\n    return new MediaTrigger(ɵɵinject(BreakPointRegistry), ɵɵinject(MatchMedia), ɵɵinject(LAYOUT_CONFIG), ɵɵinject(PLATFORM_ID), ɵɵinject(DOCUMENT));\n  },\n  token: MediaTrigger,\n  providedIn: \"root\"\n});\n/** @nocollapse */\n\nMediaTrigger.ctorParameters = function () {\n  return [{\n    type: BreakPointRegistry\n  }, {\n    type: MatchMedia\n  }, {\n    type: undefined,\n    decorators: [{\n      type: Inject,\n      args: [LAYOUT_CONFIG]\n    }]\n  }, {\n    type: Object,\n    decorators: [{\n      type: Inject,\n      args: [PLATFORM_ID]\n    }]\n  }, {\n    type: undefined,\n    decorators: [{\n      type: Inject,\n      args: [DOCUMENT]\n    }]\n  }];\n};\n/*@__PURE__*/\n\n\n(function () {\n  ɵngcc0.ɵsetClassMetadata(MediaTrigger, [{\n    type: Injectable,\n    args: [{\n      providedIn: 'root'\n    }]\n  }], function () {\n    return [{\n      type: BreakPointRegistry\n    }, {\n      type: MatchMedia\n    }, {\n      type: undefined,\n      decorators: [{\n        type: Inject,\n        args: [LAYOUT_CONFIG]\n      }]\n    }, {\n      type: Object,\n      decorators: [{\n        type: Inject,\n        args: [PLATFORM_ID]\n      }]\n    }, {\n      type: undefined,\n      decorators: [{\n        type: Inject,\n        args: [DOCUMENT]\n      }]\n    }];\n  }, null);\n})();\n/**\r\n * @fileoverview added by tsickle\r\n * Generated from: core/media-trigger/index.ts\r\n * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingRequire,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\n\n/**\r\n * @fileoverview added by tsickle\r\n * Generated from: core/utils/index.ts\r\n * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingRequire,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\n\n/**\r\n * @fileoverview added by tsickle\r\n * Generated from: utils/auto-prefixer.ts\r\n * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingRequire,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\n\n/**\r\n * Applies CSS prefixes to appropriate style keys.\r\n *\r\n * Note: `-ms-`, `-moz` and `-webkit-box` are no longer supported. e.g.\r\n *    {\r\n *      display: -webkit-flex;     NEW - Safari 6.1+. iOS 7.1+, BB10\r\n *      display: flex;             NEW, Spec - Firefox, Chrome, Opera\r\n *      // display: -webkit-box;   OLD - iOS 6-, Safari 3.1-6, BB7\r\n *      // display: -ms-flexbox;   TWEENER - IE 10\r\n *      // display: -moz-flexbox;  OLD - Firefox\r\n *    }\r\n * @param {?} target\r\n * @return {?}\r\n */\n\n\nfunction applyCssPrefixes(target) {\n  for (var key in target) {\n    /** @type {?} */\n    var value = target[key] || '';\n\n    switch (key) {\n      case 'display':\n        if (value === 'flex') {\n          target['display'] = ['-webkit-flex', 'flex'];\n        } else if (value === 'inline-flex') {\n          target['display'] = ['-webkit-inline-flex', 'inline-flex'];\n        } else {\n          target['display'] = value;\n        }\n\n        break;\n\n      case 'align-items':\n      case 'align-self':\n      case 'align-content':\n      case 'flex':\n      case 'flex-basis':\n      case 'flex-flow':\n      case 'flex-grow':\n      case 'flex-shrink':\n      case 'flex-wrap':\n      case 'justify-content':\n        target['-webkit-' + key] = value;\n        break;\n\n      case 'flex-direction':\n        value = value || 'row';\n        target['-webkit-flex-direction'] = value;\n        target['flex-direction'] = value;\n        break;\n\n      case 'order':\n        target['order'] = target['-webkit-' + key] = isNaN(+value) ? '0' : value;\n        break;\n    }\n  }\n\n  return target;\n}\n/**\r\n * @fileoverview added by tsickle\r\n * Generated from: core/style-utils/style-utils.ts\r\n * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingRequire,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\n\n\nvar StyleUtils = /*#__PURE__*/function () {\n  /**\r\n   * @param {?} _serverStylesheet\r\n   * @param {?} _serverModuleLoaded\r\n   * @param {?} _platformId\r\n   * @param {?} layoutConfig\r\n   */\n  function StyleUtils(_serverStylesheet, _serverModuleLoaded, _platformId, layoutConfig) {\n    _classCallCheck(this, StyleUtils);\n\n    this._serverStylesheet = _serverStylesheet;\n    this._serverModuleLoaded = _serverModuleLoaded;\n    this._platformId = _platformId;\n    this.layoutConfig = layoutConfig;\n  }\n  /**\r\n   * Applies styles given via string pair or object map to the directive element\r\n   * @param {?} element\r\n   * @param {?} style\r\n   * @param {?=} value\r\n   * @return {?}\r\n   */\n\n\n  _createClass(StyleUtils, [{\n    key: \"applyStyleToElement\",\n    value: function applyStyleToElement(element, style) {\n      var value = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;\n\n      /** @type {?} */\n      var styles = {};\n\n      if (typeof style === 'string') {\n        styles[style] = value;\n        style = styles;\n      }\n\n      styles = this.layoutConfig.disableVendorPrefixes ? style : applyCssPrefixes(style);\n\n      this._applyMultiValueStyleToElement(styles, element);\n    }\n    /**\r\n     * Applies styles given via string pair or object map to the directive's element\r\n     * @param {?} style\r\n     * @param {?=} elements\r\n     * @return {?}\r\n     */\n\n  }, {\n    key: \"applyStyleToElements\",\n    value: function applyStyleToElements(style) {\n      var _this20 = this;\n\n      var elements = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n\n      /** @type {?} */\n      var styles = this.layoutConfig.disableVendorPrefixes ? style : applyCssPrefixes(style);\n      elements.forEach(\n      /**\r\n      * @param {?} el\r\n      * @return {?}\r\n      */\n      function (el) {\n        _this20._applyMultiValueStyleToElement(styles, el);\n      });\n    }\n    /**\r\n     * Determine the DOM element's Flexbox flow (flex-direction)\r\n     *\r\n     * Check inline style first then check computed (stylesheet) style\r\n     * @param {?} target\r\n     * @return {?}\r\n     */\n\n  }, {\n    key: \"getFlowDirection\",\n    value: function getFlowDirection(target) {\n      /** @type {?} */\n      var query = 'flex-direction';\n      /** @type {?} */\n\n      var value = this.lookupStyle(target, query);\n      /** @type {?} */\n\n      var hasInlineValue = this.lookupInlineStyle(target, query) || isPlatformServer(this._platformId) && this._serverModuleLoaded ? value : '';\n      return [value || 'row', hasInlineValue];\n    }\n    /**\r\n     * @param {?} target\r\n     * @return {?}\r\n     */\n\n  }, {\n    key: \"hasWrap\",\n    value: function hasWrap(target) {\n      /** @type {?} */\n      var query = 'flex-wrap';\n      return this.lookupStyle(target, query) === 'wrap';\n    }\n    /**\r\n     * Find the DOM element's raw attribute value (if any)\r\n     * @param {?} element\r\n     * @param {?} attribute\r\n     * @return {?}\r\n     */\n\n  }, {\n    key: \"lookupAttributeValue\",\n    value: function lookupAttributeValue(element, attribute) {\n      return element.getAttribute(attribute) || '';\n    }\n    /**\r\n     * Find the DOM element's inline style value (if any)\r\n     * @param {?} element\r\n     * @param {?} styleName\r\n     * @return {?}\r\n     */\n\n  }, {\n    key: \"lookupInlineStyle\",\n    value: function lookupInlineStyle(element, styleName) {\n      return isPlatformBrowser(this._platformId) ? element.style.getPropertyValue(styleName) : this._getServerStyle(element, styleName);\n    }\n    /**\r\n     * Determine the inline or inherited CSS style\r\n     * NOTE: platform-server has no implementation for getComputedStyle\r\n     * @param {?} element\r\n     * @param {?} styleName\r\n     * @param {?=} inlineOnly\r\n     * @return {?}\r\n     */\n\n  }, {\n    key: \"lookupStyle\",\n    value: function lookupStyle(element, styleName) {\n      var inlineOnly = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n\n      /** @type {?} */\n      var value = '';\n\n      if (element) {\n        /** @type {?} */\n        var immediateValue = value = this.lookupInlineStyle(element, styleName);\n\n        if (!immediateValue) {\n          if (isPlatformBrowser(this._platformId)) {\n            if (!inlineOnly) {\n              value = getComputedStyle(element).getPropertyValue(styleName);\n            }\n          } else {\n            if (this._serverModuleLoaded) {\n              value = this._serverStylesheet.getStyleForElement(element, styleName);\n            }\n          }\n        }\n      } // Note: 'inline' is the default of all elements, unless UA stylesheet overrides;\n      //       in which case getComputedStyle() should determine a valid value.\n\n\n      return value ? value.trim() : '';\n    }\n    /**\r\n     * Applies the styles to the element. The styles object map may contain an array of values\r\n     * Each value will be added as element style\r\n     * Keys are sorted to add prefixed styles (like -webkit-x) first, before the standard ones\r\n     * @private\r\n     * @param {?} styles\r\n     * @param {?} element\r\n     * @return {?}\r\n     */\n\n  }, {\n    key: \"_applyMultiValueStyleToElement\",\n    value: function _applyMultiValueStyleToElement(styles, element) {\n      var _this21 = this;\n\n      Object.keys(styles).sort().forEach(\n      /**\r\n      * @param {?} key\r\n      * @return {?}\r\n      */\n      function (key) {\n        /** @type {?} */\n        var el = styles[key];\n        /** @type {?} */\n\n        var values = Array.isArray(el) ? el : [el];\n        values.sort();\n\n        var _iterator = _createForOfIteratorHelper(values),\n            _step;\n\n        try {\n          for (_iterator.s(); !(_step = _iterator.n()).done;) {\n            var value = _step.value;\n            value = value ? value + '' : '';\n\n            if (isPlatformBrowser(_this21._platformId) || !_this21._serverModuleLoaded) {\n              isPlatformBrowser(_this21._platformId) ? element.style.setProperty(key, value) : _this21._setServerStyle(element, key, value);\n            } else {\n              _this21._serverStylesheet.addStyleToElement(element, key, value);\n            }\n          }\n        } catch (err) {\n          _iterator.e(err);\n        } finally {\n          _iterator.f();\n        }\n      });\n    }\n    /**\r\n     * @private\r\n     * @param {?} element\r\n     * @param {?} styleName\r\n     * @param {?=} styleValue\r\n     * @return {?}\r\n     */\n\n  }, {\n    key: \"_setServerStyle\",\n    value: function _setServerStyle(element, styleName, styleValue) {\n      styleName = styleName.replace(/([a-z])([A-Z])/g, '$1-$2').toLowerCase();\n      /** @type {?} */\n\n      var styleMap = this._readStyleAttribute(element);\n\n      styleMap[styleName] = styleValue || '';\n\n      this._writeStyleAttribute(element, styleMap);\n    }\n    /**\r\n     * @private\r\n     * @param {?} element\r\n     * @param {?} styleName\r\n     * @return {?}\r\n     */\n\n  }, {\n    key: \"_getServerStyle\",\n    value: function _getServerStyle(element, styleName) {\n      /** @type {?} */\n      var styleMap = this._readStyleAttribute(element);\n\n      return styleMap[styleName] || '';\n    }\n    /**\r\n     * @private\r\n     * @param {?} element\r\n     * @return {?}\r\n     */\n\n  }, {\n    key: \"_readStyleAttribute\",\n    value: function _readStyleAttribute(element) {\n      /** @type {?} */\n      var styleMap = {};\n      /** @type {?} */\n\n      var styleAttribute = element.getAttribute('style');\n\n      if (styleAttribute) {\n        /** @type {?} */\n        var styleList = styleAttribute.split(/;+/g);\n\n        for (var i = 0; i < styleList.length; i++) {\n          /** @type {?} */\n          var style = styleList[i].trim();\n\n          if (style.length > 0) {\n            /** @type {?} */\n            var colonIndex = style.indexOf(':');\n\n            if (colonIndex === -1) {\n              throw new Error(\"Invalid CSS style: \".concat(style));\n            }\n            /** @type {?} */\n\n\n            var name = style.substr(0, colonIndex).trim();\n            styleMap[name] = style.substr(colonIndex + 1).trim();\n          }\n        }\n      }\n\n      return styleMap;\n    }\n    /**\r\n     * @private\r\n     * @param {?} element\r\n     * @param {?} styleMap\r\n     * @return {?}\r\n     */\n\n  }, {\n    key: \"_writeStyleAttribute\",\n    value: function _writeStyleAttribute(element, styleMap) {\n      /** @type {?} */\n      var styleAttrValue = '';\n\n      for (var key in styleMap) {\n        /** @type {?} */\n        var newValue = styleMap[key];\n\n        if (newValue) {\n          styleAttrValue += key + ':' + styleMap[key] + ';';\n        }\n      }\n\n      element.setAttribute('style', styleAttrValue);\n    }\n  }]);\n\n  return StyleUtils;\n}();\n\nStyleUtils.ɵfac = function StyleUtils_Factory(t) {\n  return new (t || StyleUtils)(ɵngcc0.ɵɵinject(StylesheetMap), ɵngcc0.ɵɵinject(SERVER_TOKEN), ɵngcc0.ɵɵinject(PLATFORM_ID), ɵngcc0.ɵɵinject(LAYOUT_CONFIG));\n};\n/** @nocollapse */\n\n\nStyleUtils.ɵprov = ɵɵdefineInjectable({\n  factory: function StyleUtils_Factory() {\n    return new StyleUtils(ɵɵinject(StylesheetMap), ɵɵinject(SERVER_TOKEN), ɵɵinject(PLATFORM_ID), ɵɵinject(LAYOUT_CONFIG));\n  },\n  token: StyleUtils,\n  providedIn: \"root\"\n});\n/** @nocollapse */\n\nStyleUtils.ctorParameters = function () {\n  return [{\n    type: StylesheetMap\n  }, {\n    type: Boolean,\n    decorators: [{\n      type: Inject,\n      args: [SERVER_TOKEN]\n    }]\n  }, {\n    type: Object,\n    decorators: [{\n      type: Inject,\n      args: [PLATFORM_ID]\n    }]\n  }, {\n    type: undefined,\n    decorators: [{\n      type: Inject,\n      args: [LAYOUT_CONFIG]\n    }]\n  }];\n};\n/*@__PURE__*/\n\n\n(function () {\n  ɵngcc0.ɵsetClassMetadata(StyleUtils, [{\n    type: Injectable,\n    args: [{\n      providedIn: 'root'\n    }]\n  }], function () {\n    return [{\n      type: StylesheetMap\n    }, {\n      type: Boolean,\n      decorators: [{\n        type: Inject,\n        args: [SERVER_TOKEN]\n      }]\n    }, {\n      type: Object,\n      decorators: [{\n        type: Inject,\n        args: [PLATFORM_ID]\n      }]\n    }, {\n      type: undefined,\n      decorators: [{\n        type: Inject,\n        args: [LAYOUT_CONFIG]\n      }]\n    }];\n  }, null);\n})();\n/**\r\n * @fileoverview added by tsickle\r\n * Generated from: core/style-builder/style-builder.ts\r\n * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingRequire,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\n\n/**\r\n * A class that encapsulates CSS style generation for common directives\r\n * @abstract\r\n */\n\n\nvar StyleBuilder = /*#__PURE__*/function () {\n  function StyleBuilder() {\n    _classCallCheck(this, StyleBuilder);\n\n    /**\r\n     * Whether to cache the generated output styles\r\n     */\n    this.shouldCache = true;\n  }\n  /**\r\n   * Run a side effect computation given the input string and the computed styles\r\n   * from the build task and the host configuration object\r\n   * NOTE: This should be a no-op unless an algorithm is provided in a subclass\r\n   * @param {?} _input\r\n   * @param {?} _styles\r\n   * @param {?=} _parent\r\n   * @return {?}\r\n   */\n\n\n  _createClass(StyleBuilder, [{\n    key: \"sideEffect\",\n    value: function sideEffect(_input, _styles, _parent) {}\n  }]);\n\n  return StyleBuilder;\n}();\n/**\r\n * @fileoverview added by tsickle\r\n * Generated from: core/basis-validator/basis-validator.ts\r\n * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingRequire,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\n\n/**\r\n * The flex API permits 3 or 1 parts of the value:\r\n *    - `flex-grow flex-shrink flex-basis`, or\r\n *    - `flex-basis`\r\n * @param {?} basis\r\n * @param {?=} grow\r\n * @param {?=} shrink\r\n * @return {?}\r\n */\n\n\nfunction validateBasis(basis) {\n  var grow = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '1';\n  var shrink = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : '1';\n\n  /** @type {?} */\n  var parts = [grow, shrink, basis];\n  /** @type {?} */\n\n  var j = basis.indexOf('calc');\n\n  if (j > 0) {\n    parts[2] = _validateCalcValue(basis.substring(j).trim());\n    /** @type {?} */\n\n    var matches = basis.substr(0, j).trim().split(' ');\n\n    if (matches.length == 2) {\n      parts[0] = matches[0];\n      parts[1] = matches[1];\n    }\n  } else if (j == 0) {\n    parts[2] = _validateCalcValue(basis.trim());\n  } else {\n    /** @type {?} */\n    var _matches = basis.split(' ');\n\n    parts = _matches.length === 3 ? _matches : [grow, shrink, basis];\n  }\n\n  return parts;\n}\n/**\r\n * Calc expressions require whitespace before & after any expression operators\r\n * This is a simple, crude whitespace padding solution.\r\n *   - '3 3 calc(15em + 20px)'\r\n *   - calc(100% / 7 * 2)\r\n *   - 'calc(15em + 20px)'\r\n *   - 'calc(15em+20px)'\r\n *   - '37px'\r\n *   = '43%'\r\n * @param {?} calc\r\n * @return {?}\r\n */\n\n\nfunction _validateCalcValue(calc) {\n  return calc.replace(/[\\s]/g, '').replace(/[\\/\\*\\+\\-]/g, ' $& ');\n}\n/**\r\n * @fileoverview added by tsickle\r\n * Generated from: core/media-marshaller/media-marshaller.ts\r\n * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingRequire,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\n\n/**\r\n * MediaMarshaller - register responsive values from directives and\r\n *                   trigger them based on media query events\r\n */\n\n\nvar MediaMarshaller = /*#__PURE__*/function () {\n  /**\r\n   * @param {?} matchMedia\r\n   * @param {?} breakpoints\r\n   * @param {?} hook\r\n   */\n  function MediaMarshaller(matchMedia, breakpoints, hook) {\n    _classCallCheck(this, MediaMarshaller);\n\n    this.matchMedia = matchMedia;\n    this.breakpoints = breakpoints;\n    this.hook = hook;\n    this.activatedBreakpoints = [];\n    this.elementMap = new Map();\n    this.elementKeyMap = new WeakMap();\n    this.watcherMap = new WeakMap(); // special triggers to update elements\n    // special triggers to update elements\n\n    this.updateMap = new WeakMap(); // callback functions to update styles\n    // callback functions to update styles\n\n    this.clearMap = new WeakMap(); // callback functions to clear styles\n    // callback functions to clear styles\n\n    this.subject = new Subject();\n    this.observeActivations();\n  }\n  /**\r\n   * @return {?}\r\n   */\n\n\n  _createClass(MediaMarshaller, [{\n    key: \"activatedAlias\",\n    get: function get() {\n      return this.activatedBreakpoints[0] ? this.activatedBreakpoints[0].alias : '';\n    }\n    /**\r\n     * Update styles on breakpoint activates or deactivates\r\n     * @param {?} mc\r\n     * @return {?}\r\n     */\n\n  }, {\n    key: \"onMediaChange\",\n    value: function onMediaChange(mc) {\n      /** @type {?} */\n      var bp = this.findByQuery(mc.mediaQuery);\n\n      if (bp) {\n        mc = mergeAlias(mc, bp);\n\n        if (mc.matches && this.activatedBreakpoints.indexOf(bp) === -1) {\n          this.activatedBreakpoints.push(bp);\n          this.activatedBreakpoints.sort(sortDescendingPriority);\n          this.updateStyles();\n        } else if (!mc.matches && this.activatedBreakpoints.indexOf(bp) !== -1) {\n          // Remove the breakpoint when it's deactivated\n          this.activatedBreakpoints.splice(this.activatedBreakpoints.indexOf(bp), 1);\n          this.activatedBreakpoints.sort(sortDescendingPriority);\n          this.updateStyles();\n        }\n      }\n    }\n    /**\r\n     * initialize the marshaller with necessary elements for delegation on an element\r\n     * @param {?} element\r\n     * @param {?} key\r\n     * @param {?=} updateFn optional callback so that custom bp directives don't have to re-provide this\r\n     * @param {?=} clearFn optional callback so that custom bp directives don't have to re-provide this\r\n     * @param {?=} extraTriggers other triggers to force style updates (e.g. layout, directionality, etc)\r\n     * @return {?}\r\n     */\n\n  }, {\n    key: \"init\",\n    value: function init(element, key, updateFn, clearFn) {\n      var extraTriggers = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : [];\n      initBuilderMap(this.updateMap, element, key, updateFn);\n      initBuilderMap(this.clearMap, element, key, clearFn);\n      this.buildElementKeyMap(element, key);\n      this.watchExtraTriggers(element, key, extraTriggers);\n    }\n    /**\r\n     * get the value for an element and key and optionally a given breakpoint\r\n     * @param {?} element\r\n     * @param {?} key\r\n     * @param {?=} bp\r\n     * @return {?}\r\n     */\n\n  }, {\n    key: \"getValue\",\n    value: function getValue(element, key, bp) {\n      /** @type {?} */\n      var bpMap = this.elementMap.get(element);\n\n      if (bpMap) {\n        /** @type {?} */\n        var values = bp !== undefined ? bpMap.get(bp) : this.getActivatedValues(bpMap, key);\n\n        if (values) {\n          return values.get(key);\n        }\n      }\n\n      return undefined;\n    }\n    /**\r\n     * whether the element has values for a given key\r\n     * @param {?} element\r\n     * @param {?} key\r\n     * @return {?}\r\n     */\n\n  }, {\n    key: \"hasValue\",\n    value: function hasValue(element, key) {\n      /** @type {?} */\n      var bpMap = this.elementMap.get(element);\n\n      if (bpMap) {\n        /** @type {?} */\n        var values = this.getActivatedValues(bpMap, key);\n\n        if (values) {\n          return values.get(key) !== undefined || false;\n        }\n      }\n\n      return false;\n    }\n    /**\r\n     * Set the value for an input on a directive\r\n     * @param {?} element the element in question\r\n     * @param {?} key the type of the directive (e.g. flex, layout-gap, etc)\r\n     * @param {?} val the value for the breakpoint\r\n     * @param {?} bp the breakpoint suffix (empty string = default)\r\n     * @return {?}\r\n     */\n\n  }, {\n    key: \"setValue\",\n    value: function setValue(element, key, val, bp) {\n      /** @type {?} */\n      var bpMap = this.elementMap.get(element);\n\n      if (!bpMap) {\n        bpMap = new Map().set(bp, new Map().set(key, val));\n        this.elementMap.set(element, bpMap);\n      } else {\n        /** @type {?} */\n        var values = (bpMap.get(bp) || new Map()).set(key, val);\n        bpMap.set(bp, values);\n        this.elementMap.set(element, bpMap);\n      }\n      /** @type {?} */\n\n\n      var value = this.getValue(element, key);\n\n      if (value !== undefined) {\n        this.updateElement(element, key, value);\n      }\n    }\n    /**\r\n     * Track element value changes for a specific key\r\n     * @param {?} element\r\n     * @param {?} key\r\n     * @return {?}\r\n     */\n\n  }, {\n    key: \"trackValue\",\n    value: function trackValue(element, key) {\n      return this.subject.asObservable().pipe(filter(\n      /**\r\n      * @param {?} v\r\n      * @return {?}\r\n      */\n      function (v) {\n        return v.element === element && v.key === key;\n      }));\n    }\n    /**\r\n     * update all styles for all elements on the current breakpoint\r\n     * @return {?}\r\n     */\n\n  }, {\n    key: \"updateStyles\",\n    value: function updateStyles() {\n      var _this22 = this;\n\n      this.elementMap.forEach(\n      /**\r\n      * @param {?} bpMap\r\n      * @param {?} el\r\n      * @return {?}\r\n      */\n      function (bpMap, el) {\n        /** @type {?} */\n        var keyMap = new Set(\n        /** @type {?} */\n        _this22.elementKeyMap.get(el));\n        /** @type {?} */\n\n        var valueMap = _this22.getActivatedValues(bpMap);\n\n        if (valueMap) {\n          valueMap.forEach(\n          /**\r\n          * @param {?} v\r\n          * @param {?} k\r\n          * @return {?}\r\n          */\n          function (v, k) {\n            _this22.updateElement(el, k, v);\n\n            keyMap.delete(k);\n          });\n        }\n\n        keyMap.forEach(\n        /**\r\n        * @param {?} k\r\n        * @return {?}\r\n        */\n        function (k) {\n          valueMap = _this22.getActivatedValues(bpMap, k);\n\n          if (valueMap) {\n            /** @type {?} */\n            var value = valueMap.get(k);\n\n            _this22.updateElement(el, k, value);\n          } else {\n            _this22.clearElement(el, k);\n          }\n        });\n      });\n    }\n    /**\r\n     * clear the styles for a given element\r\n     * @param {?} element\r\n     * @param {?} key\r\n     * @return {?}\r\n     */\n\n  }, {\n    key: \"clearElement\",\n    value: function clearElement(element, key) {\n      /** @type {?} */\n      var builders = this.clearMap.get(element);\n\n      if (builders) {\n        /** @type {?} */\n        var clearFn =\n        /** @type {?} */\n        builders.get(key);\n\n        if (!!clearFn) {\n          clearFn();\n          this.subject.next({\n            element: element,\n            key: key,\n            value: ''\n          });\n        }\n      }\n    }\n    /**\r\n     * update a given element with the activated values for a given key\r\n     * @param {?} element\r\n     * @param {?} key\r\n     * @param {?} value\r\n     * @return {?}\r\n     */\n\n  }, {\n    key: \"updateElement\",\n    value: function updateElement(element, key, value) {\n      /** @type {?} */\n      var builders = this.updateMap.get(element);\n\n      if (builders) {\n        /** @type {?} */\n        var updateFn =\n        /** @type {?} */\n        builders.get(key);\n\n        if (!!updateFn) {\n          updateFn(value);\n          this.subject.next({\n            element: element,\n            key: key,\n            value: value\n          });\n        }\n      }\n    }\n    /**\r\n     * release all references to a given element\r\n     * @param {?} element\r\n     * @return {?}\r\n     */\n\n  }, {\n    key: \"releaseElement\",\n    value: function releaseElement(element) {\n      /** @type {?} */\n      var watcherMap = this.watcherMap.get(element);\n\n      if (watcherMap) {\n        watcherMap.forEach(\n        /**\r\n        * @param {?} s\r\n        * @return {?}\r\n        */\n        function (s) {\n          return s.unsubscribe();\n        });\n        this.watcherMap.delete(element);\n      }\n      /** @type {?} */\n\n\n      var elementMap = this.elementMap.get(element);\n\n      if (elementMap) {\n        elementMap.forEach(\n        /**\r\n        * @param {?} _\r\n        * @param {?} s\r\n        * @return {?}\r\n        */\n        function (_, s) {\n          return elementMap.delete(s);\n        });\n        this.elementMap.delete(element);\n      }\n    }\n    /**\r\n     * trigger an update for a given element and key (e.g. layout)\r\n     * @param {?} element\r\n     * @param {?=} key\r\n     * @return {?}\r\n     */\n\n  }, {\n    key: \"triggerUpdate\",\n    value: function triggerUpdate(element, key) {\n      var _this23 = this;\n\n      /** @type {?} */\n      var bpMap = this.elementMap.get(element);\n\n      if (bpMap) {\n        /** @type {?} */\n        var valueMap = this.getActivatedValues(bpMap, key);\n\n        if (valueMap) {\n          if (key) {\n            this.updateElement(element, key, valueMap.get(key));\n          } else {\n            valueMap.forEach(\n            /**\r\n            * @param {?} v\r\n            * @param {?} k\r\n            * @return {?}\r\n            */\n            function (v, k) {\n              return _this23.updateElement(element, k, v);\n            });\n          }\n        }\n      }\n    }\n    /**\r\n     * Cross-reference for HTMLElement with directive key\r\n     * @private\r\n     * @param {?} element\r\n     * @param {?} key\r\n     * @return {?}\r\n     */\n\n  }, {\n    key: \"buildElementKeyMap\",\n    value: function buildElementKeyMap(element, key) {\n      /** @type {?} */\n      var keyMap = this.elementKeyMap.get(element);\n\n      if (!keyMap) {\n        keyMap = new Set();\n        this.elementKeyMap.set(element, keyMap);\n      }\n\n      keyMap.add(key);\n    }\n    /**\r\n     * Other triggers that should force style updates:\r\n     * - directionality\r\n     * - layout changes\r\n     * - mutationobserver updates\r\n     * @private\r\n     * @param {?} element\r\n     * @param {?} key\r\n     * @param {?} triggers\r\n     * @return {?}\r\n     */\n\n  }, {\n    key: \"watchExtraTriggers\",\n    value: function watchExtraTriggers(element, key, triggers) {\n      var _this24 = this;\n\n      if (triggers && triggers.length) {\n        /** @type {?} */\n        var watchers = this.watcherMap.get(element);\n\n        if (!watchers) {\n          watchers = new Map();\n          this.watcherMap.set(element, watchers);\n        }\n        /** @type {?} */\n\n\n        var subscription = watchers.get(key);\n\n        if (!subscription) {\n          /** @type {?} */\n          var newSubscription = merge.apply(void 0, _toConsumableArray(triggers)).subscribe(\n          /**\r\n          * @return {?}\r\n          */\n          function () {\n            /** @type {?} */\n            var currentValue = _this24.getValue(element, key);\n\n            _this24.updateElement(element, key, currentValue);\n          });\n          watchers.set(key, newSubscription);\n        }\n      }\n    }\n    /**\r\n     * Breakpoint locator by mediaQuery\r\n     * @private\r\n     * @param {?} query\r\n     * @return {?}\r\n     */\n\n  }, {\n    key: \"findByQuery\",\n    value: function findByQuery(query) {\n      return this.breakpoints.findByQuery(query);\n    }\n    /**\r\n     * get the fallback breakpoint for a given element, starting with the current breakpoint\r\n     * @private\r\n     * @param {?} bpMap\r\n     * @param {?=} key\r\n     * @return {?}\r\n     */\n\n  }, {\n    key: \"getActivatedValues\",\n    value: function getActivatedValues(bpMap, key) {\n      for (var i = 0; i < this.activatedBreakpoints.length; i++) {\n        /** @type {?} */\n        var activatedBp = this.activatedBreakpoints[i];\n        /** @type {?} */\n\n        var valueMap = bpMap.get(activatedBp.alias);\n\n        if (valueMap) {\n          if (key === undefined || valueMap.has(key) && valueMap.get(key) != null) {\n            return valueMap;\n          }\n        }\n      }\n      /** @type {?} */\n\n\n      var lastHope = bpMap.get('');\n      return key === undefined || lastHope && lastHope.has(key) ? lastHope : undefined;\n    }\n    /**\r\n     * Watch for mediaQuery breakpoint activations\r\n     * @private\r\n     * @return {?}\r\n     */\n\n  }, {\n    key: \"observeActivations\",\n    value: function observeActivations() {\n      /** @type {?} */\n      var target =\n      /** @type {?} */\n\n      /** @type {?} */\n      this;\n      /** @type {?} */\n\n      var queries = this.breakpoints.items.map(\n      /**\r\n      * @param {?} bp\r\n      * @return {?}\r\n      */\n      function (bp) {\n        return bp.mediaQuery;\n      });\n      this.matchMedia.observe(this.hook.withPrintQuery(queries)).pipe(tap(this.hook.interceptEvents(target)), filter(this.hook.blockPropagation())).subscribe(this.onMediaChange.bind(this));\n    }\n  }]);\n\n  return MediaMarshaller;\n}();\n\nMediaMarshaller.ɵfac = function MediaMarshaller_Factory(t) {\n  return new (t || MediaMarshaller)(ɵngcc0.ɵɵinject(MatchMedia), ɵngcc0.ɵɵinject(BreakPointRegistry), ɵngcc0.ɵɵinject(PrintHook));\n};\n/** @nocollapse */\n\n\nMediaMarshaller.ɵprov = ɵɵdefineInjectable({\n  factory: function MediaMarshaller_Factory() {\n    return new MediaMarshaller(ɵɵinject(MatchMedia), ɵɵinject(BreakPointRegistry), ɵɵinject(PrintHook));\n  },\n  token: MediaMarshaller,\n  providedIn: \"root\"\n});\n/** @nocollapse */\n\nMediaMarshaller.ctorParameters = function () {\n  return [{\n    type: MatchMedia\n  }, {\n    type: BreakPointRegistry\n  }, {\n    type: PrintHook\n  }];\n};\n/*@__PURE__*/\n\n\n(function () {\n  ɵngcc0.ɵsetClassMetadata(MediaMarshaller, [{\n    type: Injectable,\n    args: [{\n      providedIn: 'root'\n    }]\n  }], function () {\n    return [{\n      type: MatchMedia\n    }, {\n      type: BreakPointRegistry\n    }, {\n      type: PrintHook\n    }];\n  }, null);\n})();\n/**\r\n * @param {?} map\r\n * @param {?} element\r\n * @param {?} key\r\n * @param {?=} input\r\n * @return {?}\r\n */\n\n\nfunction initBuilderMap(map$$1, element, key, input) {\n  if (input !== undefined) {\n    /** @type {?} */\n    var oldMap = map$$1.get(element);\n\n    if (!oldMap) {\n      oldMap = new Map();\n      map$$1.set(element, oldMap);\n    }\n\n    oldMap.set(key, input);\n  }\n}\n/**\r\n * @fileoverview added by tsickle\r\n * Generated from: core/public-api.ts\r\n * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingRequire,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\n\n/**\r\n * @fileoverview added by tsickle\r\n * Generated from: core/index.ts\r\n * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingRequire,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\n\n\nexport { MatchMedia as ɵMatchMedia, MockMatchMedia as ɵMockMatchMedia, MockMatchMediaProvider as ɵMockMatchMediaProvider, CoreModule, removeStyles, BROWSER_PROVIDER, CLASS_NAME, MediaChange, StylesheetMap, DEFAULT_CONFIG, LAYOUT_CONFIG, SERVER_TOKEN, BREAKPOINT, mergeAlias, BaseDirective2, DEFAULT_BREAKPOINTS, ScreenTypes, ORIENTATION_BREAKPOINTS, BreakPointRegistry, BREAKPOINTS, MediaObserver, MediaTrigger, sortDescendingPriority, sortAscendingPriority, coerceArray, StyleUtils, StyleBuilder, validateBasis, MediaMarshaller, BREAKPOINT_PRINT, PrintHook }; //# sourceMappingURL=core.js.map","map":{"version":3,"sources":["F:/front/Ebda2ha_Front/node_modules/@angular/flex-layout/__ivy_ngcc__/esm2015/core.js"],"names":["APP_BOOTSTRAP_LISTENER","PLATFORM_ID","NgModule","Injectable","InjectionToken","Inject","inject","NgZone","ɵɵdefineInjectable","ɵɵinject","DOCUMENT","isPlatformBrowser","isPlatformServer","Subject","BehaviorSubject","Observable","merge","asapScheduler","of","fromEvent","filter","debounceTime","map","switchMap","takeUntil","take","tap","ɵngcc0","removeStyles","_document","platformId","elements","Array","from","querySelectorAll","CLASS_NAME","classRegex","forEach","el","classList","contains","parentNode","removeChild","className","replace","BROWSER_PROVIDER","provide","useFactory","deps","multi","CoreModule","ɵmod","ɵɵdefineNgModule","type","ɵinj","ɵɵdefineInjector","factory","CoreModule_Factory","t","providers","ɵsetClassMetadata","args","MediaChange","matches","mediaQuery","mqAlias","suffix","priority","property","StylesheetMap","stylesheet","Map","element","style","value","get","set","clear","styleName","styles","ɵfac","StylesheetMap_Factory","ɵprov","token","providedIn","DEFAULT_CONFIG","addFlexToParent","addOrientationBps","disableDefaultBps","disableVendorPrefixes","serverLoaded","useColumnBasisZero","printWithBreakpoints","mediaTriggerAutoRestore","ssrObserveBreakpoints","LAYOUT_CONFIG","SERVER_TOKEN","BREAKPOINT","mergeAlias","dest","source","clone","alias","INLINE","LAYOUT_VALUES","buildLayoutCSS","validateValue","direction","wrap","isInline","buildCSS","toLowerCase","split","inline","find","x","validateWrapValue","BaseDirective2","elementRef","styleBuilder","styler","marshal","DIRECTIVE_KEY","inputs","mru","destroySubject","styleCache","nativeElement","parentElement","getValue","setValue","activatedAlias","changes","Object","keys","key","indexOf","bp","slice","join","val","currentValue","next","complete","releaseElement","extraTriggers","init","updateWithValue","bind","clearStyles","input","parent","builder","useCache","shouldCache","genStyles","buildStyles","assign","applyStyleToElement","sideEffect","k","triggerUpdate","target","addIfMissing","getFlowDirection","hasInlineValue","applyStyleToElements","trim","hasWrap","addStyles","BaseDirective2_Factory","ɵɵinvalidFactory","ɵdir","ɵɵdefineDirective","features","ɵɵNgOnChangesFeature","DEFAULT_BREAKPOINTS","overlapping","HANDSET_PORTRAIT","HANDSET_LANDSCAPE","TABLET_PORTRAIT","TABLET_LANDSCAPE","WEB_PORTRAIT","WEB_LANDSCAPE","ScreenTypes","ORIENTATION_BREAKPOINTS","HANDSET","TABLET","WEB","extendObject","TypeError","sources","hasOwnProperty","ALIAS_DELIMITERS","firstUpperCase","part","first","length","charAt","remainder","toUpperCase","camelCase","name","validateSuffixes","list","mergeByAlias","defaults","custom","dict","BREAKPOINTS","breakpoints","layoutConfig","bpFlattenArray","concat","apply","v","isArray","builtIns","sortDescendingPriority","a","b","priorityA","priorityB","sortAscendingPriority","pA","pB","BreakPointRegistry","findByMap","items","sort","findWithPredicate","query","it","searchFn","response","BreakPointRegistry_Factory","ctorParameters","decorators","MatchMedia","_zone","_platformId","registry","pendingRemoveListenerFns","_observable$","asObservable","results","mql","push","registerQuery","some","m","mqList","filterOthers","matchMedia$","pipe","change","registration$","observer","lastChange","pop","e","buildQueryCss","onMQLEvent","run","buildMQL","addListener","removeListener","fn","constructMql","MatchMedia_Factory","undefined","ALL_STYLES","mediaQueries","styleEl","createElement","setAttribute","styleSheet","cssText","appendChild","createTextNode","head","mq","console","error","isBrowser","canListen","window","matchMedia","media","onchange","addEventListener","removeEventListener","dispatchEvent","MockMatchMedia","_breakpoints","autoRegisterQueries","useOverlaps","destroy","_validateQuery","isActive","_deactivateAll","_registerMediaQuery","_activateWithOverlaps","hasActivated","queryOrAlias","findByAlias","findByQuery","_activateByAlias","_activateByQuery","aliases","activate","has","deactivate","MockMediaQueryList","activations","MockMatchMedia_Factory","_mediaQuery","_isActive","_listeners","callback","cb","call","listener","_","__","___","MockMatchMediaProvider","useClass","PRINT","BREAKPOINT_PRINT","PrintHook","registeredBeforeAfterPrintHooks","isPrintingBeforeAfterEvent","beforePrintEventListeners","afterPrintEventListeners","isPrinting","queue","PrintQueue","deactivations","queries","startsWith","printAlias","printBreakPoints","event","isPrintEvent","getEventBreakpoints","defaultView","beforePrintListener","startPrinting","updateStyles","afterPrintListener","stopPrinting","registerBeforeAfterPrintHooks","collectActivations","bpList","activatedBreakpoints","addPrintBreakpoints","l","PrintHook_Factory","printBreakpoints","addBreakpoint","bpInList","isPrintBreakPoint","coerceArray","MediaObserver","hook","filterOverlaps","destroyed$","_media$","watchActivations","media$","splitQueries","toMediaQuery","buildObservable","hasChanges","isValidQuery","excludeOverlaps","observe","withPrintQuery","findAllActivations","mergeMQAlias","replaceWithPrintAlias","updateEvent","MediaObserver_Factory","locator","reduce","a1","a2","MediaTrigger","hasCachedRegistryMatches","originalActivations","originalRegistry","saveActivations","deactivateAll","setActivations","prepareAutoRestore","extractQuery","restoreRegistryMatches","resizeSubscription","unsubscribe","enableAutoRestore","resize$","subscribe","restore","currentActivations","forceRegistryMatches","simulateMediaChanges","toMediaChange","cacheRegistryMatches","emitChangeEvent","MediaTrigger_Factory","applyCssPrefixes","isNaN","StyleUtils","_serverStylesheet","_serverModuleLoaded","_applyMultiValueStyleToElement","lookupStyle","lookupInlineStyle","attribute","getAttribute","getPropertyValue","_getServerStyle","inlineOnly","immediateValue","getComputedStyle","getStyleForElement","values","setProperty","_setServerStyle","addStyleToElement","styleValue","styleMap","_readStyleAttribute","_writeStyleAttribute","styleAttribute","styleList","i","colonIndex","Error","substr","styleAttrValue","newValue","StyleUtils_Factory","Boolean","StyleBuilder","_input","_styles","_parent","validateBasis","basis","grow","shrink","parts","j","_validateCalcValue","substring","calc","MediaMarshaller","elementMap","elementKeyMap","WeakMap","watcherMap","updateMap","clearMap","subject","observeActivations","mc","splice","updateFn","clearFn","initBuilderMap","buildElementKeyMap","watchExtraTriggers","bpMap","getActivatedValues","updateElement","keyMap","Set","valueMap","delete","clearElement","builders","s","add","triggers","watchers","subscription","newSubscription","activatedBp","lastHope","interceptEvents","blockPropagation","onMediaChange","MediaMarshaller_Factory","map$$1","oldMap","ɵMatchMedia","ɵMockMatchMedia","ɵMockMatchMediaProvider"],"mappings":"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","sourcesContent":["/**\r\n * @license\r\n * Copyright Google LLC All Rights Reserved.\r\n *\r\n * Use of this source code is governed by an MIT-style license that can be\r\n * found in the LICENSE file at https://angular.io/license\r\n */\r\nimport { APP_BOOTSTRAP_LISTENER, PLATFORM_ID, NgModule, Injectable, InjectionToken, Inject, inject, NgZone, ɵɵdefineInjectable, ɵɵinject } from '@angular/core';\r\nimport { DOCUMENT, isPlatformBrowser, isPlatformServer } from '@angular/common';\r\nimport { Subject, BehaviorSubject, Observable, merge, asapScheduler, of, fromEvent } from 'rxjs';\r\nimport { filter, debounceTime, map, switchMap, takeUntil, take, tap } from 'rxjs/operators';\r\n\r\n/**\r\n * @fileoverview added by tsickle\r\n * Generated from: core/browser-provider.ts\r\n * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingRequire,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\n/**\r\n * Find all of the server-generated stylings, if any, and remove them\r\n * This will be in the form of inline classes and the style block in the\r\n * head of the DOM\r\n * @param {?} _document\r\n * @param {?} platformId\r\n * @return {?}\r\n */\r\nimport * as ɵngcc0 from '@angular/core';\r\nfunction removeStyles(_document, platformId) {\r\n    return (/**\r\n     * @return {?}\r\n     */\r\n    () => {\r\n        if (isPlatformBrowser(platformId)) {\r\n            /** @type {?} */\r\n            const elements = Array.from(_document.querySelectorAll(`[class*=${CLASS_NAME}]`));\r\n            // RegExp constructor should only be used if passing a variable to the constructor.\r\n            // When using static regular expression it is more performant to use reg exp literal.\r\n            // This is also needed to provide Safari 9 compatibility, please see\r\n            // https://stackoverflow.com/questions/37919802 for more discussion.\r\n            /** @type {?} */\r\n            const classRegex = /\\bflex-layout-.+?\\b/g;\r\n            elements.forEach((/**\r\n             * @param {?} el\r\n             * @return {?}\r\n             */\r\n            el => {\r\n                el.classList.contains(`${CLASS_NAME}ssr`) && el.parentNode ?\r\n                    el.parentNode.removeChild(el) : el.className.replace(classRegex, '');\r\n            }));\r\n        }\r\n    });\r\n}\r\n/**\r\n *  Provider to remove SSR styles on the browser\r\n * @type {?}\r\n */\r\nconst BROWSER_PROVIDER = {\r\n    provide: (/** @type {?} */ (APP_BOOTSTRAP_LISTENER)),\r\n    useFactory: removeStyles,\r\n    deps: [DOCUMENT, PLATFORM_ID],\r\n    multi: true\r\n};\r\n/** @type {?} */\r\nconst CLASS_NAME = 'flex-layout-';\r\n\r\n/**\r\n * @fileoverview added by tsickle\r\n * Generated from: core/module.ts\r\n * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingRequire,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\n/**\r\n * *****************************************************************\r\n * Define module for common Angular Layout utilities\r\n * *****************************************************************\r\n */\r\nclass CoreModule {\r\n}\r\nCoreModule.ɵmod = ɵngcc0.ɵɵdefineNgModule({ type: CoreModule });\r\nCoreModule.ɵinj = ɵngcc0.ɵɵdefineInjector({ factory: function CoreModule_Factory(t) { return new (t || CoreModule)(); }, providers: [BROWSER_PROVIDER] });\r\n/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(CoreModule, [{\r\n        type: NgModule,\r\n        args: [{\r\n                providers: [BROWSER_PROVIDER]\r\n            }]\r\n    }], null, null); })();\r\n\r\n/**\r\n * @fileoverview added by tsickle\r\n * Generated from: core/media-change.ts\r\n * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingRequire,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\n/**\r\n * Class instances emitted [to observers] for each mql notification\r\n */\r\nclass MediaChange {\r\n    /**\r\n     * @param {?=} matches whether the mediaQuery is currently activated\r\n     * @param {?=} mediaQuery e.g. (min-width: 600px) and (max-width: 959px)\r\n     * @param {?=} mqAlias e.g. gt-sm, md, gt-lg\r\n     * @param {?=} suffix e.g. GtSM, Md, GtLg\r\n     * @param {?=} priority the priority of activation for the given breakpoint\r\n     */\r\n    constructor(matches = false, mediaQuery = 'all', mqAlias = '', suffix = '', priority = 0) {\r\n        this.matches = matches;\r\n        this.mediaQuery = mediaQuery;\r\n        this.mqAlias = mqAlias;\r\n        this.suffix = suffix;\r\n        this.priority = priority;\r\n        this.property = '';\r\n    }\r\n    /**\r\n     * Create an exact copy of the MediaChange\r\n     * @return {?}\r\n     */\r\n    clone() {\r\n        return new MediaChange(this.matches, this.mediaQuery, this.mqAlias, this.suffix);\r\n    }\r\n}\r\n\r\n/**\r\n * @fileoverview added by tsickle\r\n * Generated from: core/stylesheet-map/stylesheet-map.ts\r\n * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingRequire,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\n/**\r\n * Utility to emulate a CSS stylesheet\r\n *\r\n * This utility class stores all of the styles for a given HTML element\r\n * as a readonly `stylesheet` map.\r\n */\r\nclass StylesheetMap {\r\n    constructor() {\r\n        this.stylesheet = new Map();\r\n    }\r\n    /**\r\n     * Add an individual style to an HTML element\r\n     * @param {?} element\r\n     * @param {?} style\r\n     * @param {?} value\r\n     * @return {?}\r\n     */\r\n    addStyleToElement(element, style, value) {\r\n        /** @type {?} */\r\n        const stylesheet = this.stylesheet.get(element);\r\n        if (stylesheet) {\r\n            stylesheet.set(style, value);\r\n        }\r\n        else {\r\n            this.stylesheet.set(element, new Map([[style, value]]));\r\n        }\r\n    }\r\n    /**\r\n     * Clear the virtual stylesheet\r\n     * @return {?}\r\n     */\r\n    clearStyles() {\r\n        this.stylesheet.clear();\r\n    }\r\n    /**\r\n     * Retrieve a given style for an HTML element\r\n     * @param {?} el\r\n     * @param {?} styleName\r\n     * @return {?}\r\n     */\r\n    getStyleForElement(el, styleName) {\r\n        /** @type {?} */\r\n        const styles = this.stylesheet.get(el);\r\n        /** @type {?} */\r\n        let value = '';\r\n        if (styles) {\r\n            /** @type {?} */\r\n            const style = styles.get(styleName);\r\n            if (typeof style === 'number' || typeof style === 'string') {\r\n                value = style + '';\r\n            }\r\n        }\r\n        return value;\r\n    }\r\n}\r\nStylesheetMap.ɵfac = function StylesheetMap_Factory(t) { return new (t || StylesheetMap)(); };\r\n/** @nocollapse */ StylesheetMap.ɵprov = ɵɵdefineInjectable({ factory: function StylesheetMap_Factory() { return new StylesheetMap(); }, token: StylesheetMap, providedIn: \"root\" });\r\n/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(StylesheetMap, [{\r\n        type: Injectable,\r\n        args: [{ providedIn: 'root' }]\r\n    }], function () { return []; }, null); })();\r\n\r\n/**\r\n * @fileoverview added by tsickle\r\n * Generated from: core/stylesheet-map/index.ts\r\n * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingRequire,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\n\r\n/**\r\n * @fileoverview added by tsickle\r\n * Generated from: core/tokens/library-config.ts\r\n * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingRequire,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\n/** @type {?} */\r\nconst DEFAULT_CONFIG = {\r\n    addFlexToParent: true,\r\n    addOrientationBps: false,\r\n    disableDefaultBps: false,\r\n    disableVendorPrefixes: false,\r\n    serverLoaded: false,\r\n    useColumnBasisZero: true,\r\n    printWithBreakpoints: [],\r\n    mediaTriggerAutoRestore: true,\r\n    ssrObserveBreakpoints: [],\r\n};\r\n/** @type {?} */\r\nconst LAYOUT_CONFIG = new InjectionToken('Flex Layout token, config options for the library', {\r\n    providedIn: 'root',\r\n    factory: (/**\r\n     * @return {?}\r\n     */\r\n    () => DEFAULT_CONFIG)\r\n});\r\n\r\n/**\r\n * @fileoverview added by tsickle\r\n * Generated from: core/tokens/server-token.ts\r\n * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingRequire,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\n/**\r\n * Token that is provided to tell whether the FlexLayoutServerModule\r\n * has been included in the bundle\r\n *\r\n * NOTE: This can be manually provided to disable styles when using SSR\r\n * @type {?}\r\n */\r\nconst SERVER_TOKEN = new InjectionToken('FlexLayoutServerLoaded', {\r\n    providedIn: 'root',\r\n    factory: (/**\r\n     * @return {?}\r\n     */\r\n    () => false)\r\n});\r\n\r\n/**\r\n * @fileoverview added by tsickle\r\n * Generated from: core/tokens/breakpoint-token.ts\r\n * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingRequire,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\n/** @type {?} */\r\nconst BREAKPOINT = new InjectionToken('Flex Layout token, collect all breakpoints into one provider', {\r\n    providedIn: 'root',\r\n    factory: (/**\r\n     * @return {?}\r\n     */\r\n    () => null)\r\n});\r\n\r\n/**\r\n * @fileoverview added by tsickle\r\n * Generated from: core/tokens/index.ts\r\n * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingRequire,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\n\r\n/**\r\n * @fileoverview added by tsickle\r\n * Generated from: core/add-alias.ts\r\n * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingRequire,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\n/**\r\n * For the specified MediaChange, make sure it contains the breakpoint alias\r\n * and suffix (if available).\r\n * @param {?} dest\r\n * @param {?} source\r\n * @return {?}\r\n */\r\nfunction mergeAlias(dest, source) {\r\n    dest = dest ? dest.clone() : new MediaChange();\r\n    if (source) {\r\n        dest.mqAlias = source.alias;\r\n        dest.mediaQuery = source.mediaQuery;\r\n        dest.suffix = (/** @type {?} */ (source.suffix));\r\n        dest.priority = (/** @type {?} */ (source.priority));\r\n    }\r\n    return dest;\r\n}\r\n\r\n/**\r\n * @fileoverview added by tsickle\r\n * Generated from: utils/layout-validator.ts\r\n * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingRequire,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\n/**\r\n * @license\r\n * Copyright Google LLC All Rights Reserved.\r\n *\r\n * Use of this source code is governed by an MIT-style license that can be\r\n * found in the LICENSE file at https://angular.io/license\r\n * @type {?}\r\n */\r\nconst INLINE = 'inline';\r\n/** @type {?} */\r\nconst LAYOUT_VALUES = ['row', 'column', 'row-reverse', 'column-reverse'];\r\n/**\r\n * Validate the direction|'direction wrap' value and then update the host's inline flexbox styles\r\n * @param {?} value\r\n * @return {?}\r\n */\r\nfunction buildLayoutCSS(value) {\r\n    let [direction, wrap, isInline] = validateValue(value);\r\n    return buildCSS(direction, wrap, isInline);\r\n}\r\n/**\r\n * Validate the value to be one of the acceptable value options\r\n * Use default fallback of 'row'\r\n * @param {?} value\r\n * @return {?}\r\n */\r\nfunction validateValue(value) {\r\n    value = value ? value.toLowerCase() : '';\r\n    let [direction, wrap, inline] = value.split(' ');\r\n    // First value must be the `flex-direction`\r\n    if (!LAYOUT_VALUES.find((/**\r\n     * @param {?} x\r\n     * @return {?}\r\n     */\r\n    x => x === direction))) {\r\n        direction = LAYOUT_VALUES[0];\r\n    }\r\n    if (wrap === INLINE) {\r\n        wrap = (inline !== INLINE) ? inline : '';\r\n        inline = INLINE;\r\n    }\r\n    return [direction, validateWrapValue(wrap), !!inline];\r\n}\r\n/**\r\n * Convert layout-wrap='<value>' to expected flex-wrap style\r\n * @param {?} value\r\n * @return {?}\r\n */\r\nfunction validateWrapValue(value) {\r\n    if (!!value) {\r\n        switch (value.toLowerCase()) {\r\n            case 'reverse':\r\n            case 'wrap-reverse':\r\n            case 'reverse-wrap':\r\n                value = 'wrap-reverse';\r\n                break;\r\n            case 'no':\r\n            case 'none':\r\n            case 'nowrap':\r\n                value = 'nowrap';\r\n                break;\r\n            // All other values fallback to 'wrap'\r\n            default:\r\n                value = 'wrap';\r\n                break;\r\n        }\r\n    }\r\n    return value;\r\n}\r\n/**\r\n * Build the CSS that should be assigned to the element instance\r\n * BUG:\r\n *   1) min-height on a column flex container won’t apply to its flex item children in IE 10-11.\r\n *      Use height instead if possible; height : <xxx>vh;\r\n *\r\n *  This way any padding or border specified on the child elements are\r\n *  laid out and drawn inside that element's specified width and height.\r\n * @param {?} direction\r\n * @param {?=} wrap\r\n * @param {?=} inline\r\n * @return {?}\r\n */\r\nfunction buildCSS(direction, wrap = null, inline = false) {\r\n    return {\r\n        'display': inline ? 'inline-flex' : 'flex',\r\n        'box-sizing': 'border-box',\r\n        'flex-direction': direction,\r\n        'flex-wrap': !!wrap ? wrap : null\r\n    };\r\n}\r\n\r\n/**\r\n * @fileoverview added by tsickle\r\n * Generated from: core/base/base2.ts\r\n * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingRequire,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\n/**\r\n * @abstract\r\n */\r\nclass BaseDirective2 {\r\n    /**\r\n     * @protected\r\n     * @param {?} elementRef\r\n     * @param {?} styleBuilder\r\n     * @param {?} styler\r\n     * @param {?} marshal\r\n     */\r\n    constructor(elementRef, styleBuilder, styler, marshal) {\r\n        this.elementRef = elementRef;\r\n        this.styleBuilder = styleBuilder;\r\n        this.styler = styler;\r\n        this.marshal = marshal;\r\n        this.DIRECTIVE_KEY = '';\r\n        this.inputs = [];\r\n        /**\r\n         * The most recently used styles for the builder\r\n         */\r\n        this.mru = {};\r\n        this.destroySubject = new Subject();\r\n        /**\r\n         * Cache map for style computation\r\n         */\r\n        this.styleCache = new Map();\r\n    }\r\n    /**\r\n     * Access to host element's parent DOM node\r\n     * @protected\r\n     * @return {?}\r\n     */\r\n    get parentElement() {\r\n        return this.elementRef.nativeElement.parentElement;\r\n    }\r\n    /**\r\n     * Access to the HTMLElement for the directive\r\n     * @protected\r\n     * @return {?}\r\n     */\r\n    get nativeElement() {\r\n        return this.elementRef.nativeElement;\r\n    }\r\n    /**\r\n     * Access to the activated value for the directive\r\n     * @return {?}\r\n     */\r\n    get activatedValue() {\r\n        return this.marshal.getValue(this.nativeElement, this.DIRECTIVE_KEY);\r\n    }\r\n    /**\r\n     * @param {?} value\r\n     * @return {?}\r\n     */\r\n    set activatedValue(value) {\r\n        this.marshal.setValue(this.nativeElement, this.DIRECTIVE_KEY, value, this.marshal.activatedAlias);\r\n    }\r\n    /**\r\n     * For \\@Input changes\r\n     * @param {?} changes\r\n     * @return {?}\r\n     */\r\n    ngOnChanges(changes) {\r\n        Object.keys(changes).forEach((/**\r\n         * @param {?} key\r\n         * @return {?}\r\n         */\r\n        key => {\r\n            if (this.inputs.indexOf(key) !== -1) {\r\n                /** @type {?} */\r\n                const bp = key.split('.').slice(1).join('.');\r\n                /** @type {?} */\r\n                const val = changes[key].currentValue;\r\n                this.setValue(val, bp);\r\n            }\r\n        }));\r\n    }\r\n    /**\r\n     * @return {?}\r\n     */\r\n    ngOnDestroy() {\r\n        this.destroySubject.next();\r\n        this.destroySubject.complete();\r\n        this.marshal.releaseElement(this.nativeElement);\r\n    }\r\n    /**\r\n     * Register with central marshaller service\r\n     * @protected\r\n     * @param {?=} extraTriggers\r\n     * @return {?}\r\n     */\r\n    init(extraTriggers = []) {\r\n        this.marshal.init(this.elementRef.nativeElement, this.DIRECTIVE_KEY, this.updateWithValue.bind(this), this.clearStyles.bind(this), extraTriggers);\r\n    }\r\n    /**\r\n     * Add styles to the element using predefined style builder\r\n     * @protected\r\n     * @param {?} input\r\n     * @param {?=} parent\r\n     * @return {?}\r\n     */\r\n    addStyles(input, parent) {\r\n        /** @type {?} */\r\n        const builder = this.styleBuilder;\r\n        /** @type {?} */\r\n        const useCache = builder.shouldCache;\r\n        /** @type {?} */\r\n        let genStyles = this.styleCache.get(input);\r\n        if (!genStyles || !useCache) {\r\n            genStyles = builder.buildStyles(input, parent);\r\n            if (useCache) {\r\n                this.styleCache.set(input, genStyles);\r\n            }\r\n        }\r\n        this.mru = Object.assign({}, genStyles);\r\n        this.applyStyleToElement(genStyles);\r\n        builder.sideEffect(input, genStyles, parent);\r\n    }\r\n    /**\r\n     * Remove generated styles from an element using predefined style builder\r\n     * @protected\r\n     * @return {?}\r\n     */\r\n    clearStyles() {\r\n        Object.keys(this.mru).forEach((/**\r\n         * @param {?} k\r\n         * @return {?}\r\n         */\r\n        k => {\r\n            this.mru[k] = '';\r\n        }));\r\n        this.applyStyleToElement(this.mru);\r\n        this.mru = {};\r\n    }\r\n    /**\r\n     * Force trigger style updates on DOM element\r\n     * @protected\r\n     * @return {?}\r\n     */\r\n    triggerUpdate() {\r\n        this.marshal.triggerUpdate(this.nativeElement, this.DIRECTIVE_KEY);\r\n    }\r\n    /**\r\n     * Determine the DOM element's Flexbox flow (flex-direction).\r\n     *\r\n     * Check inline style first then check computed (stylesheet) style.\r\n     * And optionally add the flow value to element's inline style.\r\n     * @protected\r\n     * @param {?} target\r\n     * @param {?=} addIfMissing\r\n     * @return {?}\r\n     */\r\n    getFlexFlowDirection(target, addIfMissing = false) {\r\n        if (target) {\r\n            const [value, hasInlineValue] = this.styler.getFlowDirection(target);\r\n            if (!hasInlineValue && addIfMissing) {\r\n                /** @type {?} */\r\n                const style = buildLayoutCSS(value);\r\n                /** @type {?} */\r\n                const elements = [target];\r\n                this.styler.applyStyleToElements(style, elements);\r\n            }\r\n            return value.trim();\r\n        }\r\n        return 'row';\r\n    }\r\n    /**\r\n     * @protected\r\n     * @param {?} target\r\n     * @return {?}\r\n     */\r\n    hasWrap(target) {\r\n        return this.styler.hasWrap(target);\r\n    }\r\n    /**\r\n     * Applies styles given via string pair or object map to the directive element\r\n     * @protected\r\n     * @param {?} style\r\n     * @param {?=} value\r\n     * @param {?=} element\r\n     * @return {?}\r\n     */\r\n    applyStyleToElement(style, value, element = this.nativeElement) {\r\n        this.styler.applyStyleToElement(element, style, value);\r\n    }\r\n    /**\r\n     * @protected\r\n     * @param {?} val\r\n     * @param {?} bp\r\n     * @return {?}\r\n     */\r\n    setValue(val, bp) {\r\n        this.marshal.setValue(this.nativeElement, this.DIRECTIVE_KEY, val, bp);\r\n    }\r\n    /**\r\n     * @protected\r\n     * @param {?} input\r\n     * @return {?}\r\n     */\r\n    updateWithValue(input) {\r\n        if (this.currentValue !== input) {\r\n            this.addStyles(input);\r\n            this.currentValue = input;\r\n        }\r\n    }\r\n}\r\nBaseDirective2.ɵfac = function BaseDirective2_Factory(t) { ɵngcc0.ɵɵinvalidFactory(); };\r\nBaseDirective2.ɵdir = ɵngcc0.ɵɵdefineDirective({ type: BaseDirective2, features: [ɵngcc0.ɵɵNgOnChangesFeature] });\r\n\r\n\r\n/**\r\n * @fileoverview added by tsickle\r\n * Generated from: core/base/index.ts\r\n * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingRequire,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\n\r\n/**\r\n * @fileoverview added by tsickle\r\n * Generated from: core/breakpoints/data/break-points.ts\r\n * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingRequire,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\n/**\r\n * NOTE: Smaller ranges have HIGHER priority since the match is more specific\r\n * @type {?}\r\n */\r\nconst DEFAULT_BREAKPOINTS = [\r\n    {\r\n        alias: 'xs',\r\n        mediaQuery: 'screen and (min-width: 0px) and (max-width: 599.98px)',\r\n        priority: 1000,\r\n    },\r\n    {\r\n        alias: 'sm',\r\n        mediaQuery: 'screen and (min-width: 600px) and (max-width: 959.98px)',\r\n        priority: 900,\r\n    },\r\n    {\r\n        alias: 'md',\r\n        mediaQuery: 'screen and (min-width: 960px) and (max-width: 1279.98px)',\r\n        priority: 800,\r\n    },\r\n    {\r\n        alias: 'lg',\r\n        mediaQuery: 'screen and (min-width: 1280px) and (max-width: 1919.98px)',\r\n        priority: 700,\r\n    },\r\n    {\r\n        alias: 'xl',\r\n        mediaQuery: 'screen and (min-width: 1920px) and (max-width: 4999.98px)',\r\n        priority: 600,\r\n    },\r\n    {\r\n        alias: 'lt-sm',\r\n        overlapping: true,\r\n        mediaQuery: 'screen and (max-width: 599.98px)',\r\n        priority: 950,\r\n    },\r\n    {\r\n        alias: 'lt-md',\r\n        overlapping: true,\r\n        mediaQuery: 'screen and (max-width: 959.98px)',\r\n        priority: 850,\r\n    },\r\n    {\r\n        alias: 'lt-lg',\r\n        overlapping: true,\r\n        mediaQuery: 'screen and (max-width: 1279.98px)',\r\n        priority: 750,\r\n    },\r\n    {\r\n        alias: 'lt-xl',\r\n        overlapping: true,\r\n        priority: 650,\r\n        mediaQuery: 'screen and (max-width: 1919.98px)',\r\n    },\r\n    {\r\n        alias: 'gt-xs',\r\n        overlapping: true,\r\n        mediaQuery: 'screen and (min-width: 600px)',\r\n        priority: -950,\r\n    },\r\n    {\r\n        alias: 'gt-sm',\r\n        overlapping: true,\r\n        mediaQuery: 'screen and (min-width: 960px)',\r\n        priority: -850,\r\n    }, {\r\n        alias: 'gt-md',\r\n        overlapping: true,\r\n        mediaQuery: 'screen and (min-width: 1280px)',\r\n        priority: -750,\r\n    },\r\n    {\r\n        alias: 'gt-lg',\r\n        overlapping: true,\r\n        mediaQuery: 'screen and (min-width: 1920px)',\r\n        priority: -650,\r\n    }\r\n];\r\n\r\n/**\r\n * @fileoverview added by tsickle\r\n * Generated from: core/breakpoints/data/orientation-break-points.ts\r\n * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingRequire,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\n\r\n/* tslint:disable */\r\n/** @type {?} */\r\nconst HANDSET_PORTRAIT = '(orientation: portrait) and (max-width: 599.98px)';\r\n/** @type {?} */\r\nconst HANDSET_LANDSCAPE = '(orientation: landscape) and (max-width: 959.98px)';\r\n/** @type {?} */\r\nconst TABLET_PORTRAIT = '(orientation: portrait) and (min-width: 600px) and (max-width: 839.98px)';\r\n/** @type {?} */\r\nconst TABLET_LANDSCAPE = '(orientation: landscape) and (min-width: 960px) and (max-width: 1279.98px)';\r\n/** @type {?} */\r\nconst WEB_PORTRAIT = '(orientation: portrait) and (min-width: 840px)';\r\n/** @type {?} */\r\nconst WEB_LANDSCAPE = '(orientation: landscape) and (min-width: 1280px)';\r\n/** @type {?} */\r\nconst ScreenTypes = {\r\n    'HANDSET': `${HANDSET_PORTRAIT}, ${HANDSET_LANDSCAPE}`,\r\n    'TABLET': `${TABLET_PORTRAIT} , ${TABLET_LANDSCAPE}`,\r\n    'WEB': `${WEB_PORTRAIT}, ${WEB_LANDSCAPE} `,\r\n    'HANDSET_PORTRAIT': `${HANDSET_PORTRAIT}`,\r\n    'TABLET_PORTRAIT': `${TABLET_PORTRAIT} `,\r\n    'WEB_PORTRAIT': `${WEB_PORTRAIT}`,\r\n    'HANDSET_LANDSCAPE': `${HANDSET_LANDSCAPE}`,\r\n    'TABLET_LANDSCAPE': `${TABLET_LANDSCAPE}`,\r\n    'WEB_LANDSCAPE': `${WEB_LANDSCAPE}`\r\n};\r\n/**\r\n * Extended Breakpoints for handset/tablets with landscape or portrait orientations\r\n * @type {?}\r\n */\r\nconst ORIENTATION_BREAKPOINTS = [\r\n    { 'alias': 'handset', priority: 2000, 'mediaQuery': ScreenTypes.HANDSET },\r\n    { 'alias': 'handset.landscape', priority: 2000, 'mediaQuery': ScreenTypes.HANDSET_LANDSCAPE },\r\n    { 'alias': 'handset.portrait', priority: 2000, 'mediaQuery': ScreenTypes.HANDSET_PORTRAIT },\r\n    { 'alias': 'tablet', priority: 2100, 'mediaQuery': ScreenTypes.TABLET },\r\n    { 'alias': 'tablet.landscape', priority: 2100, 'mediaQuery': ScreenTypes.TABLET_LANDSCAPE },\r\n    { 'alias': 'tablet.portrait', priority: 2100, 'mediaQuery': ScreenTypes.TABLET_PORTRAIT },\r\n    { 'alias': 'web', priority: 2200, 'mediaQuery': ScreenTypes.WEB, overlapping: true },\r\n    { 'alias': 'web.landscape', priority: 2200, 'mediaQuery': ScreenTypes.WEB_LANDSCAPE, overlapping: true },\r\n    { 'alias': 'web.portrait', priority: 2200, 'mediaQuery': ScreenTypes.WEB_PORTRAIT, overlapping: true }\r\n];\r\n\r\n/**\r\n * @fileoverview added by tsickle\r\n * Generated from: core/breakpoints/break-point.ts\r\n * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingRequire,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\n\r\n/**\r\n * @fileoverview added by tsickle\r\n * Generated from: utils/object-extend.ts\r\n * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingRequire,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\n\r\n/**\r\n * Extends an object with the *enumerable* and *own* properties of one or more source objects,\r\n * similar to Object.assign.\r\n *\r\n * @param {?} dest The object which will have properties copied to it.\r\n * @param {...?} sources The source objects from which properties will be copied.\r\n * @return {?}\r\n */\r\nfunction extendObject(dest, ...sources) {\r\n    if (dest == null) {\r\n        throw TypeError('Cannot convert undefined or null to object');\r\n    }\r\n    for (let source of sources) {\r\n        if (source != null) {\r\n            for (let key in source) {\r\n                if (source.hasOwnProperty(key)) {\r\n                    dest[key] = source[key];\r\n                }\r\n            }\r\n        }\r\n    }\r\n    return dest;\r\n}\r\n\r\n/**\r\n * @fileoverview added by tsickle\r\n * Generated from: core/breakpoints/breakpoint-tools.ts\r\n * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingRequire,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\n/** @type {?} */\r\nconst ALIAS_DELIMITERS = /(\\.|-|_)/g;\r\n/**\r\n * @param {?} part\r\n * @return {?}\r\n */\r\nfunction firstUpperCase(part) {\r\n    /** @type {?} */\r\n    let first = part.length > 0 ? part.charAt(0) : '';\r\n    /** @type {?} */\r\n    let remainder = (part.length > 1) ? part.slice(1) : '';\r\n    return first.toUpperCase() + remainder;\r\n}\r\n/**\r\n * Converts snake-case to SnakeCase.\r\n * @param {?} name Text to UpperCamelCase\r\n * @return {?}\r\n */\r\nfunction camelCase(name) {\r\n    return name\r\n        .replace(ALIAS_DELIMITERS, '|')\r\n        .split('|')\r\n        .map(firstUpperCase)\r\n        .join('');\r\n}\r\n/**\r\n * For each breakpoint, ensure that a Suffix is defined;\r\n * fallback to UpperCamelCase the unique Alias value\r\n * @param {?} list\r\n * @return {?}\r\n */\r\nfunction validateSuffixes(list) {\r\n    list.forEach((/**\r\n     * @param {?} bp\r\n     * @return {?}\r\n     */\r\n    (bp) => {\r\n        if (!bp.suffix) {\r\n            bp.suffix = camelCase(bp.alias); // create Suffix value based on alias\r\n            bp.overlapping = !!bp.overlapping; // ensure default value\r\n        }\r\n    }));\r\n    return list;\r\n}\r\n/**\r\n * Merge a custom breakpoint list with the default list based on unique alias values\r\n *  - Items are added if the alias is not in the default list\r\n *  - Items are merged with the custom override if the alias exists in the default list\r\n * @param {?} defaults\r\n * @param {?=} custom\r\n * @return {?}\r\n */\r\nfunction mergeByAlias(defaults, custom = []) {\r\n    /** @type {?} */\r\n    const dict = {};\r\n    defaults.forEach((/**\r\n     * @param {?} bp\r\n     * @return {?}\r\n     */\r\n    bp => {\r\n        dict[bp.alias] = bp;\r\n    }));\r\n    // Merge custom breakpoints\r\n    custom.forEach((/**\r\n     * @param {?} bp\r\n     * @return {?}\r\n     */\r\n    (bp) => {\r\n        if (dict[bp.alias]) {\r\n            extendObject(dict[bp.alias], bp);\r\n        }\r\n        else {\r\n            dict[bp.alias] = bp;\r\n        }\r\n    }));\r\n    return validateSuffixes(Object.keys(dict).map((/**\r\n     * @param {?} k\r\n     * @return {?}\r\n     */\r\n    k => dict[k])));\r\n}\r\n\r\n/**\r\n * @fileoverview added by tsickle\r\n * Generated from: core/breakpoints/break-points-token.ts\r\n * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingRequire,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\n/**\r\n *  Injection token unique to the flex-layout library.\r\n *  Use this token when build a custom provider (see below).\r\n * @type {?}\r\n */\r\nconst BREAKPOINTS = new InjectionToken('Token (@angular/flex-layout) Breakpoints', {\r\n    providedIn: 'root',\r\n    factory: (/**\r\n     * @return {?}\r\n     */\r\n    () => {\r\n        /** @type {?} */\r\n        const breakpoints = inject(BREAKPOINT);\r\n        /** @type {?} */\r\n        const layoutConfig = inject(LAYOUT_CONFIG);\r\n        /** @type {?} */\r\n        const bpFlattenArray = [].concat.apply([], (breakpoints || [])\r\n            .map((/**\r\n         * @param {?} v\r\n         * @return {?}\r\n         */\r\n        (v) => Array.isArray(v) ? v : [v])));\r\n        /** @type {?} */\r\n        const builtIns = (layoutConfig.disableDefaultBps ? [] : DEFAULT_BREAKPOINTS)\r\n            .concat(layoutConfig.addOrientationBps ? ORIENTATION_BREAKPOINTS : []);\r\n        return mergeByAlias(builtIns, bpFlattenArray);\r\n    })\r\n});\r\n\r\n/**\r\n * @fileoverview added by tsickle\r\n * Generated from: core/utils/sort.ts\r\n * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingRequire,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\n/**\r\n * HOF to sort the breakpoints by descending priority\r\n * @template T\r\n * @param {?} a\r\n * @param {?} b\r\n * @return {?}\r\n */\r\nfunction sortDescendingPriority(a, b) {\r\n    /** @type {?} */\r\n    const priorityA = a ? a.priority || 0 : 0;\r\n    /** @type {?} */\r\n    const priorityB = b ? b.priority || 0 : 0;\r\n    return priorityB - priorityA;\r\n}\r\n/**\r\n * HOF to sort the breakpoints by ascending priority\r\n * @template T\r\n * @param {?} a\r\n * @param {?} b\r\n * @return {?}\r\n */\r\nfunction sortAscendingPriority(a, b) {\r\n    /** @type {?} */\r\n    const pA = a.priority || 0;\r\n    /** @type {?} */\r\n    const pB = b.priority || 0;\r\n    return pA - pB;\r\n}\r\n\r\n/**\r\n * @fileoverview added by tsickle\r\n * Generated from: core/breakpoints/break-point-registry.ts\r\n * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingRequire,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\n/**\r\n * Registry of 1..n MediaQuery breakpoint ranges\r\n * This is published as a provider and may be overridden from custom, application-specific ranges\r\n *\r\n */\r\nclass BreakPointRegistry {\r\n    /**\r\n     * @param {?} list\r\n     */\r\n    constructor(list) {\r\n        /**\r\n         * Memoized BreakPoint Lookups\r\n         */\r\n        this.findByMap = new Map();\r\n        this.items = [...list].sort(sortAscendingPriority);\r\n    }\r\n    /**\r\n     * Search breakpoints by alias (e.g. gt-xs)\r\n     * @param {?} alias\r\n     * @return {?}\r\n     */\r\n    findByAlias(alias) {\r\n        return !alias ? null : this.findWithPredicate(alias, (/**\r\n         * @param {?} bp\r\n         * @return {?}\r\n         */\r\n        (bp) => bp.alias == alias));\r\n    }\r\n    /**\r\n     * @param {?} query\r\n     * @return {?}\r\n     */\r\n    findByQuery(query) {\r\n        return this.findWithPredicate(query, (/**\r\n         * @param {?} bp\r\n         * @return {?}\r\n         */\r\n        (bp) => bp.mediaQuery == query));\r\n    }\r\n    /**\r\n     * Get all the breakpoints whose ranges could overlapping `normal` ranges;\r\n     * e.g. gt-sm overlaps md, lg, and xl\r\n     * @return {?}\r\n     */\r\n    get overlappings() {\r\n        return this.items.filter((/**\r\n         * @param {?} it\r\n         * @return {?}\r\n         */\r\n        it => it.overlapping == true));\r\n    }\r\n    /**\r\n     * Get list of all registered (non-empty) breakpoint aliases\r\n     * @return {?}\r\n     */\r\n    get aliases() {\r\n        return this.items.map((/**\r\n         * @param {?} it\r\n         * @return {?}\r\n         */\r\n        it => it.alias));\r\n    }\r\n    /**\r\n     * Aliases are mapped to properties using suffixes\r\n     * e.g.  'gt-sm' for property 'layout'  uses suffix 'GtSm'\r\n     * for property layoutGtSM.\r\n     * @return {?}\r\n     */\r\n    get suffixes() {\r\n        return this.items.map((/**\r\n         * @param {?} it\r\n         * @return {?}\r\n         */\r\n        it => !!it.suffix ? it.suffix : ''));\r\n    }\r\n    /**\r\n     * Memoized lookup using custom predicate function\r\n     * @private\r\n     * @param {?} key\r\n     * @param {?} searchFn\r\n     * @return {?}\r\n     */\r\n    findWithPredicate(key, searchFn) {\r\n        /** @type {?} */\r\n        let response = this.findByMap.get(key);\r\n        if (!response) {\r\n            response = this.items.find(searchFn) || null;\r\n            this.findByMap.set(key, response);\r\n        }\r\n        return response || null;\r\n    }\r\n}\r\nBreakPointRegistry.ɵfac = function BreakPointRegistry_Factory(t) { return new (t || BreakPointRegistry)(ɵngcc0.ɵɵinject(BREAKPOINTS)); };\r\n/** @nocollapse */ BreakPointRegistry.ɵprov = ɵɵdefineInjectable({ factory: function BreakPointRegistry_Factory() { return new BreakPointRegistry(ɵɵinject(BREAKPOINTS)); }, token: BreakPointRegistry, providedIn: \"root\" });\r\n/** @nocollapse */\r\nBreakPointRegistry.ctorParameters = () => [\r\n    { type: Array, decorators: [{ type: Inject, args: [BREAKPOINTS,] }] }\r\n];\r\n/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(BreakPointRegistry, [{\r\n        type: Injectable,\r\n        args: [{ providedIn: 'root' }]\r\n    }], function () { return [{ type: Array, decorators: [{\r\n                type: Inject,\r\n                args: [BREAKPOINTS]\r\n            }] }]; }, null); })();\r\n\r\n/**\r\n * @fileoverview added by tsickle\r\n * Generated from: core/breakpoints/index.ts\r\n * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingRequire,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\n\r\n/**\r\n * @fileoverview added by tsickle\r\n * Generated from: core/match-media/match-media.ts\r\n * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingRequire,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\n/**\r\n * MediaMonitor configures listeners to mediaQuery changes and publishes an Observable facade to\r\n * convert mediaQuery change callbacks to subscriber notifications. These notifications will be\r\n * performed within the ng Zone to trigger change detections and component updates.\r\n *\r\n * NOTE: both mediaQuery activations and de-activations are announced in notifications\r\n */\r\nclass MatchMedia {\r\n    /**\r\n     * @param {?} _zone\r\n     * @param {?} _platformId\r\n     * @param {?} _document\r\n     */\r\n    constructor(_zone, _platformId, _document) {\r\n        this._zone = _zone;\r\n        this._platformId = _platformId;\r\n        this._document = _document;\r\n        /**\r\n         * Initialize source with 'all' so all non-responsive APIs trigger style updates\r\n         */\r\n        this.source = new BehaviorSubject(new MediaChange(true));\r\n        this.registry = new Map();\r\n        this.pendingRemoveListenerFns = [];\r\n        this._observable$ = this.source.asObservable();\r\n    }\r\n    /**\r\n     * Publish list of all current activations\r\n     * @return {?}\r\n     */\r\n    get activations() {\r\n        /** @type {?} */\r\n        const results = [];\r\n        this.registry.forEach((/**\r\n         * @param {?} mql\r\n         * @param {?} key\r\n         * @return {?}\r\n         */\r\n        (mql, key) => {\r\n            if (mql.matches) {\r\n                results.push(key);\r\n            }\r\n        }));\r\n        return results;\r\n    }\r\n    /**\r\n     * For the specified mediaQuery?\r\n     * @param {?} mediaQuery\r\n     * @return {?}\r\n     */\r\n    isActive(mediaQuery) {\r\n        /** @type {?} */\r\n        const mql = this.registry.get(mediaQuery);\r\n        return !!mql ? mql.matches : this.registerQuery(mediaQuery).some((/**\r\n         * @param {?} m\r\n         * @return {?}\r\n         */\r\n        m => m.matches));\r\n    }\r\n    /**\r\n     * External observers can watch for all (or a specific) mql changes.\r\n     * Typically used by the MediaQueryAdaptor; optionally available to components\r\n     * who wish to use the MediaMonitor as mediaMonitor$ observable service.\r\n     *\r\n     * Use deferred registration process to register breakpoints only on subscription\r\n     * This logic also enforces logic to register all mediaQueries BEFORE notify\r\n     * subscribers of notifications.\r\n     * @param {?=} mqList\r\n     * @param {?=} filterOthers\r\n     * @return {?}\r\n     */\r\n    observe(mqList, filterOthers = false) {\r\n        if (mqList && mqList.length) {\r\n            /** @type {?} */\r\n            const matchMedia$ = this._observable$.pipe(filter((/**\r\n             * @param {?} change\r\n             * @return {?}\r\n             */\r\n            (change) => !filterOthers ? true : (mqList.indexOf(change.mediaQuery) > -1))));\r\n            /** @type {?} */\r\n            const registration$ = new Observable((/**\r\n             * @param {?} observer\r\n             * @return {?}\r\n             */\r\n            (observer) => {\r\n                // tslint:disable-line:max-line-length\r\n                /** @type {?} */\r\n                const matches = this.registerQuery(mqList);\r\n                if (matches.length) {\r\n                    /** @type {?} */\r\n                    const lastChange = (/** @type {?} */ (matches.pop()));\r\n                    matches.forEach((/**\r\n                     * @param {?} e\r\n                     * @return {?}\r\n                     */\r\n                    (e) => {\r\n                        observer.next(e);\r\n                    }));\r\n                    this.source.next(lastChange); // last match is cached\r\n                }\r\n                observer.complete();\r\n            }));\r\n            return merge(registration$, matchMedia$);\r\n        }\r\n        return this._observable$;\r\n    }\r\n    /**\r\n     * Based on the BreakPointRegistry provider, register internal listeners for each unique\r\n     * mediaQuery. Each listener emits specific MediaChange data to observers\r\n     * @param {?} mediaQuery\r\n     * @return {?}\r\n     */\r\n    registerQuery(mediaQuery) {\r\n        /** @type {?} */\r\n        const list = Array.isArray(mediaQuery) ? mediaQuery : [mediaQuery];\r\n        /** @type {?} */\r\n        const matches = [];\r\n        buildQueryCss(list, this._document);\r\n        list.forEach((/**\r\n         * @param {?} query\r\n         * @return {?}\r\n         */\r\n        (query) => {\r\n            /** @type {?} */\r\n            const onMQLEvent = (/**\r\n             * @param {?} e\r\n             * @return {?}\r\n             */\r\n            (e) => {\r\n                this._zone.run((/**\r\n                 * @return {?}\r\n                 */\r\n                () => this.source.next(new MediaChange(e.matches, query))));\r\n            });\r\n            /** @type {?} */\r\n            let mql = this.registry.get(query);\r\n            if (!mql) {\r\n                mql = this.buildMQL(query);\r\n                mql.addListener(onMQLEvent);\r\n                this.pendingRemoveListenerFns.push((/**\r\n                 * @return {?}\r\n                 */\r\n                () => (/** @type {?} */ (mql)).removeListener(onMQLEvent)));\r\n                this.registry.set(query, mql);\r\n            }\r\n            if (mql.matches) {\r\n                matches.push(new MediaChange(true, query));\r\n            }\r\n        }));\r\n        return matches;\r\n    }\r\n    /**\r\n     * @return {?}\r\n     */\r\n    ngOnDestroy() {\r\n        /** @type {?} */\r\n        let fn;\r\n        while (fn = this.pendingRemoveListenerFns.pop()) {\r\n            fn();\r\n        }\r\n    }\r\n    /**\r\n     * Call window.matchMedia() to build a MediaQueryList; which\r\n     * supports 0..n listeners for activation/deactivation\r\n     * @protected\r\n     * @param {?} query\r\n     * @return {?}\r\n     */\r\n    buildMQL(query) {\r\n        return constructMql(query, isPlatformBrowser(this._platformId));\r\n    }\r\n}\r\nMatchMedia.ɵfac = function MatchMedia_Factory(t) { return new (t || MatchMedia)(ɵngcc0.ɵɵinject(ɵngcc0.NgZone), ɵngcc0.ɵɵinject(PLATFORM_ID), ɵngcc0.ɵɵinject(DOCUMENT)); };\r\n/** @nocollapse */ MatchMedia.ɵprov = ɵɵdefineInjectable({ factory: function MatchMedia_Factory() { return new MatchMedia(ɵɵinject(NgZone), ɵɵinject(PLATFORM_ID), ɵɵinject(DOCUMENT)); }, token: MatchMedia, providedIn: \"root\" });\r\n/** @nocollapse */\r\nMatchMedia.ctorParameters = () => [\r\n    { type: NgZone },\r\n    { type: Object, decorators: [{ type: Inject, args: [PLATFORM_ID,] }] },\r\n    { type: undefined, decorators: [{ type: Inject, args: [DOCUMENT,] }] }\r\n];\r\n/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(MatchMedia, [{\r\n        type: Injectable,\r\n        args: [{ providedIn: 'root' }]\r\n    }], function () { return [{ type: ɵngcc0.NgZone }, { type: Object, decorators: [{\r\n                type: Inject,\r\n                args: [PLATFORM_ID]\r\n            }] }, { type: undefined, decorators: [{\r\n                type: Inject,\r\n                args: [DOCUMENT]\r\n            }] }]; }, null); })();\r\n/**\r\n * Private global registry for all dynamically-created, injected style tags\r\n * @see prepare(query)\r\n * @type {?}\r\n */\r\nconst ALL_STYLES = {};\r\n/**\r\n * For Webkit engines that only trigger the MediaQueryList Listener\r\n * when there is at least one CSS selector for the respective media query.\r\n *\r\n * @param {?} mediaQueries\r\n * @param {?} _document\r\n * @return {?}\r\n */\r\nfunction buildQueryCss(mediaQueries, _document) {\r\n    /** @type {?} */\r\n    const list = mediaQueries.filter((/**\r\n     * @param {?} it\r\n     * @return {?}\r\n     */\r\n    it => !ALL_STYLES[it]));\r\n    if (list.length > 0) {\r\n        /** @type {?} */\r\n        const query = list.join(', ');\r\n        try {\r\n            /** @type {?} */\r\n            const styleEl = _document.createElement('style');\r\n            styleEl.setAttribute('type', 'text/css');\r\n            if (!((/** @type {?} */ (styleEl))).styleSheet) {\r\n                /** @type {?} */\r\n                const cssText = `\r\n/*\r\n  @angular/flex-layout - workaround for possible browser quirk with mediaQuery listeners\r\n  see http://bit.ly/2sd4HMP\r\n*/\r\n@media ${query} {.fx-query-test{ }}\r\n`;\r\n                styleEl.appendChild(_document.createTextNode(cssText));\r\n            }\r\n            (/** @type {?} */ (_document.head)).appendChild(styleEl);\r\n            // Store in private global registry\r\n            list.forEach((/**\r\n             * @param {?} mq\r\n             * @return {?}\r\n             */\r\n            mq => ALL_STYLES[mq] = styleEl));\r\n        }\r\n        catch (e) {\r\n            console.error(e);\r\n        }\r\n    }\r\n}\r\n/**\r\n * @param {?} query\r\n * @param {?} isBrowser\r\n * @return {?}\r\n */\r\nfunction constructMql(query, isBrowser) {\r\n    /** @type {?} */\r\n    const canListen = isBrowser && !!((/** @type {?} */ (window))).matchMedia('all').addListener;\r\n    return canListen ? ((/** @type {?} */ (window))).matchMedia(query) : (/** @type {?} */ ({\r\n        matches: query === 'all' || query === '',\r\n        media: query,\r\n        addListener: (/**\r\n         * @return {?}\r\n         */\r\n        () => {\r\n        }),\r\n        removeListener: (/**\r\n         * @return {?}\r\n         */\r\n        () => {\r\n        }),\r\n        onchange: null,\r\n        /**\r\n         * @return {?}\r\n         */\r\n        addEventListener() {\r\n        },\r\n        /**\r\n         * @return {?}\r\n         */\r\n        removeEventListener() {\r\n        },\r\n        /**\r\n         * @return {?}\r\n         */\r\n        dispatchEvent() {\r\n            return false;\r\n        }\r\n    }));\r\n}\r\n\r\n/**\r\n * @fileoverview added by tsickle\r\n * Generated from: core/match-media/mock/mock-match-media.ts\r\n * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingRequire,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\n/**\r\n * MockMatchMedia mocks calls to the Window API matchMedia with a build of a simulated\r\n * MockMediaQueryListener. Methods are available to simulate an activation of a mediaQuery\r\n * range and to clearAll mediaQuery listeners.\r\n */\r\nclass MockMatchMedia extends MatchMedia {\r\n    // Allow fallback to overlapping mediaQueries\r\n    /**\r\n     * @param {?} _zone\r\n     * @param {?} _platformId\r\n     * @param {?} _document\r\n     * @param {?} _breakpoints\r\n     */\r\n    constructor(_zone, _platformId, _document, _breakpoints) {\r\n        super(_zone, _platformId, _document);\r\n        this._breakpoints = _breakpoints;\r\n        this.autoRegisterQueries = true; // Used for testing BreakPoint registrations\r\n        // Used for testing BreakPoint registrations\r\n        this.useOverlaps = false; // Allow fallback to overlapping mediaQueries\r\n    }\r\n    /**\r\n     * Easy method to clear all listeners for all mediaQueries\r\n     * @return {?}\r\n     */\r\n    clearAll() {\r\n        this.registry.forEach((/**\r\n         * @param {?} mql\r\n         * @return {?}\r\n         */\r\n        (mql) => {\r\n            ((/** @type {?} */ (mql))).destroy();\r\n        }));\r\n        this.registry.clear();\r\n        this.useOverlaps = false;\r\n    }\r\n    /**\r\n     * Feature to support manual, simulated activation of a mediaQuery.\r\n     * @param {?} mediaQuery\r\n     * @param {?=} useOverlaps\r\n     * @return {?}\r\n     */\r\n    activate(mediaQuery, useOverlaps = false) {\r\n        useOverlaps = useOverlaps || this.useOverlaps;\r\n        mediaQuery = this._validateQuery(mediaQuery);\r\n        if (useOverlaps || !this.isActive(mediaQuery)) {\r\n            this._deactivateAll();\r\n            this._registerMediaQuery(mediaQuery);\r\n            this._activateWithOverlaps(mediaQuery, useOverlaps);\r\n        }\r\n        return this.hasActivated;\r\n    }\r\n    /**\r\n     * Converts an optional mediaQuery alias to a specific, valid mediaQuery\r\n     * @param {?} queryOrAlias\r\n     * @return {?}\r\n     */\r\n    _validateQuery(queryOrAlias) {\r\n        /** @type {?} */\r\n        const bp = this._breakpoints.findByAlias(queryOrAlias);\r\n        return (bp && bp.mediaQuery) || queryOrAlias;\r\n    }\r\n    /**\r\n     * Manually onMediaChange any overlapping mediaQueries to simulate\r\n     * similar functionality in the window.matchMedia()\r\n     * @private\r\n     * @param {?} mediaQuery\r\n     * @param {?} useOverlaps\r\n     * @return {?}\r\n     */\r\n    _activateWithOverlaps(mediaQuery, useOverlaps) {\r\n        if (useOverlaps) {\r\n            /** @type {?} */\r\n            const bp = this._breakpoints.findByQuery(mediaQuery);\r\n            /** @type {?} */\r\n            const alias = bp ? bp.alias : 'unknown';\r\n            // Simulate activation of overlapping lt-<XXX> ranges\r\n            switch (alias) {\r\n                case 'lg':\r\n                    this._activateByAlias(['lt-xl']);\r\n                    break;\r\n                case 'md':\r\n                    this._activateByAlias(['lt-xl', 'lt-lg']);\r\n                    break;\r\n                case 'sm':\r\n                    this._activateByAlias(['lt-xl', 'lt-lg', 'lt-md']);\r\n                    break;\r\n                case 'xs':\r\n                    this._activateByAlias(['lt-xl', 'lt-lg', 'lt-md', 'lt-sm']);\r\n                    break;\r\n            }\r\n            // Simulate activation of overlapping gt-<xxxx> mediaQuery ranges\r\n            switch (alias) {\r\n                case 'xl':\r\n                    this._activateByAlias(['gt-lg', 'gt-md', 'gt-sm', 'gt-xs']);\r\n                    break;\r\n                case 'lg':\r\n                    this._activateByAlias(['gt-md', 'gt-sm', 'gt-xs']);\r\n                    break;\r\n                case 'md':\r\n                    this._activateByAlias(['gt-sm', 'gt-xs']);\r\n                    break;\r\n                case 'sm':\r\n                    this._activateByAlias(['gt-xs']);\r\n                    break;\r\n            }\r\n        }\r\n        // Activate last since the responsiveActivation is watching *this* mediaQuery\r\n        return this._activateByQuery(mediaQuery);\r\n    }\r\n    /**\r\n     *\r\n     * @private\r\n     * @param {?} aliases\r\n     * @return {?}\r\n     */\r\n    _activateByAlias(aliases) {\r\n        /** @type {?} */\r\n        const activate = (/**\r\n         * @param {?} alias\r\n         * @return {?}\r\n         */\r\n        (alias) => {\r\n            /** @type {?} */\r\n            const bp = this._breakpoints.findByAlias(alias);\r\n            this._activateByQuery(bp ? bp.mediaQuery : alias);\r\n        });\r\n        aliases.forEach(activate);\r\n    }\r\n    /**\r\n     *\r\n     * @private\r\n     * @param {?} mediaQuery\r\n     * @return {?}\r\n     */\r\n    _activateByQuery(mediaQuery) {\r\n        if (!this.registry.has(mediaQuery) && this.autoRegisterQueries) {\r\n            this._registerMediaQuery(mediaQuery);\r\n        }\r\n        /** @type {?} */\r\n        const mql = (/** @type {?} */ (this.registry.get(mediaQuery)));\r\n        if (mql && !this.isActive(mediaQuery)) {\r\n            this.registry.set(mediaQuery, mql.activate());\r\n        }\r\n        return this.hasActivated;\r\n    }\r\n    /**\r\n     * Deactivate all current MQLs and reset the buffer\r\n     * @private\r\n     * @template THIS\r\n     * @this {THIS}\r\n     * @return {THIS}\r\n     */\r\n    _deactivateAll() {\r\n        (/** @type {?} */ (this)).registry.forEach((/**\r\n         * @param {?} it\r\n         * @return {?}\r\n         */\r\n        (it) => {\r\n            ((/** @type {?} */ (it))).deactivate();\r\n        }));\r\n        return (/** @type {?} */ (this));\r\n    }\r\n    /**\r\n     * Insure the mediaQuery is registered with MatchMedia\r\n     * @private\r\n     * @param {?} mediaQuery\r\n     * @return {?}\r\n     */\r\n    _registerMediaQuery(mediaQuery) {\r\n        if (!this.registry.has(mediaQuery) && this.autoRegisterQueries) {\r\n            this.registerQuery(mediaQuery);\r\n        }\r\n    }\r\n    /**\r\n     * Call window.matchMedia() to build a MediaQueryList; which\r\n     * supports 0..n listeners for activation/deactivation\r\n     * @protected\r\n     * @param {?} query\r\n     * @return {?}\r\n     */\r\n    buildMQL(query) {\r\n        return new MockMediaQueryList(query);\r\n    }\r\n    /**\r\n     * @protected\r\n     * @return {?}\r\n     */\r\n    get hasActivated() {\r\n        return this.activations.length > 0;\r\n    }\r\n}\r\nMockMatchMedia.ɵfac = function MockMatchMedia_Factory(t) { return new (t || MockMatchMedia)(ɵngcc0.ɵɵinject(ɵngcc0.NgZone), ɵngcc0.ɵɵinject(PLATFORM_ID), ɵngcc0.ɵɵinject(DOCUMENT), ɵngcc0.ɵɵinject(BreakPointRegistry)); };\r\nMockMatchMedia.ɵprov = ɵngcc0.ɵɵdefineInjectable({ token: MockMatchMedia, factory: MockMatchMedia.ɵfac });\r\n/** @nocollapse */\r\nMockMatchMedia.ctorParameters = () => [\r\n    { type: NgZone },\r\n    { type: Object, decorators: [{ type: Inject, args: [PLATFORM_ID,] }] },\r\n    { type: undefined, decorators: [{ type: Inject, args: [DOCUMENT,] }] },\r\n    { type: BreakPointRegistry }\r\n];\r\n/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(MockMatchMedia, [{\r\n        type: Injectable\r\n    }], function () { return [{ type: ɵngcc0.NgZone }, { type: Object, decorators: [{\r\n                type: Inject,\r\n                args: [PLATFORM_ID]\r\n            }] }, { type: undefined, decorators: [{\r\n                type: Inject,\r\n                args: [DOCUMENT]\r\n            }] }, { type: BreakPointRegistry }]; }, null); })();\r\n/**\r\n * Special internal class to simulate a MediaQueryList and\r\n * - supports manual activation to simulate mediaQuery matching\r\n * - manages listeners\r\n */\r\nclass MockMediaQueryList {\r\n    /**\r\n     * @param {?} _mediaQuery\r\n     */\r\n    constructor(_mediaQuery) {\r\n        this._mediaQuery = _mediaQuery;\r\n        this._isActive = false;\r\n        this._listeners = [];\r\n        this.onchange = null;\r\n    }\r\n    /**\r\n     * @return {?}\r\n     */\r\n    get matches() {\r\n        return this._isActive;\r\n    }\r\n    /**\r\n     * @return {?}\r\n     */\r\n    get media() {\r\n        return this._mediaQuery;\r\n    }\r\n    /**\r\n     * Destroy the current list by deactivating the\r\n     * listeners and clearing the internal list\r\n     * @return {?}\r\n     */\r\n    destroy() {\r\n        this.deactivate();\r\n        this._listeners = [];\r\n    }\r\n    /**\r\n     * Notify all listeners that 'matches === TRUE'\r\n     * @return {?}\r\n     */\r\n    activate() {\r\n        if (!this._isActive) {\r\n            this._isActive = true;\r\n            this._listeners.forEach((/**\r\n             * @param {?} callback\r\n             * @return {?}\r\n             */\r\n            (callback) => {\r\n                /** @type {?} */\r\n                const cb = (/** @type {?} */ (callback));\r\n                cb.call(this, (/** @type {?} */ ({ matches: this.matches, media: this.media })));\r\n            }));\r\n        }\r\n        return this;\r\n    }\r\n    /**\r\n     * Notify all listeners that 'matches === false'\r\n     * @return {?}\r\n     */\r\n    deactivate() {\r\n        if (this._isActive) {\r\n            this._isActive = false;\r\n            this._listeners.forEach((/**\r\n             * @param {?} callback\r\n             * @return {?}\r\n             */\r\n            (callback) => {\r\n                /** @type {?} */\r\n                const cb = (/** @type {?} */ (callback));\r\n                cb.call(this, (/** @type {?} */ ({ matches: this.matches, media: this.media })));\r\n            }));\r\n        }\r\n        return this;\r\n    }\r\n    /**\r\n     * Add a listener to our internal list to activate later\r\n     * @param {?} listener\r\n     * @return {?}\r\n     */\r\n    addListener(listener) {\r\n        if (this._listeners.indexOf(listener) === -1) {\r\n            this._listeners.push(listener);\r\n        }\r\n        if (this._isActive) {\r\n            /** @type {?} */\r\n            const cb = (/** @type {?} */ (listener));\r\n            cb.call(this, (/** @type {?} */ ({ matches: this.matches, media: this.media })));\r\n        }\r\n    }\r\n    /**\r\n     * Don't need to remove listeners in the testing environment\r\n     * @param {?} _\r\n     * @return {?}\r\n     */\r\n    removeListener(_) {\r\n    }\r\n    /**\r\n     * @param {?} _\r\n     * @param {?} __\r\n     * @param {?=} ___\r\n     * @return {?}\r\n     */\r\n    addEventListener(_, __, ___) {\r\n    }\r\n    /**\r\n     * @param {?} _\r\n     * @param {?} __\r\n     * @param {?=} ___\r\n     * @return {?}\r\n     */\r\n    removeEventListener(_, __, ___) {\r\n    }\r\n    /**\r\n     * @param {?} _\r\n     * @return {?}\r\n     */\r\n    dispatchEvent(_) {\r\n        return false;\r\n    }\r\n}\r\n/**\r\n * Pre-configured provider for MockMatchMedia\r\n * @type {?}\r\n */\r\nconst MockMatchMediaProvider = {\r\n    // tslint:disable-line:variable-name\r\n    provide: MatchMedia,\r\n    useClass: MockMatchMedia\r\n};\r\n\r\n/**\r\n * @fileoverview added by tsickle\r\n * Generated from: core/match-media/index.ts\r\n * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingRequire,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\n\r\n/**\r\n * @fileoverview added by tsickle\r\n * Generated from: core/media-marshaller/print-hook.ts\r\n * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingRequire,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\n/** @type {?} */\r\nconst PRINT = 'print';\r\n/** @type {?} */\r\nconst BREAKPOINT_PRINT = {\r\n    alias: PRINT,\r\n    mediaQuery: PRINT,\r\n    priority: 1000\r\n};\r\n/**\r\n * PrintHook - Use to intercept print MediaQuery activations and force\r\n *             layouts to render with the specified print alias/breakpoint\r\n *\r\n * Used in MediaMarshaller and MediaObserver\r\n */\r\nclass PrintHook {\r\n    /**\r\n     * @param {?} breakpoints\r\n     * @param {?} layoutConfig\r\n     * @param {?} _document\r\n     */\r\n    constructor(breakpoints, layoutConfig, _document) {\r\n        this.breakpoints = breakpoints;\r\n        this.layoutConfig = layoutConfig;\r\n        this._document = _document;\r\n        // registeredBeforeAfterPrintHooks tracks if we registered the `beforeprint`\r\n        //  and `afterprint` event listeners.\r\n        this.registeredBeforeAfterPrintHooks = false;\r\n        // isPrintingBeforeAfterEvent is used to track if we are printing from within\r\n        // a `beforeprint` event handler. This prevents the typicall `stopPrinting`\r\n        // form `interceptEvents` so that printing is not stopped while the dialog\r\n        // is still open. This is an extension of the `isPrinting` property on\r\n        // browsers which support `beforeprint` and `afterprint` events.\r\n        this.isPrintingBeforeAfterEvent = false;\r\n        this.beforePrintEventListeners = [];\r\n        this.afterPrintEventListeners = [];\r\n        /**\r\n         * Is this service currently in Print-mode ?\r\n         */\r\n        this.isPrinting = false;\r\n        this.queue = new PrintQueue();\r\n        this.deactivations = [];\r\n    }\r\n    /**\r\n     * Add 'print' mediaQuery: to listen for matchMedia activations\r\n     * @param {?} queries\r\n     * @return {?}\r\n     */\r\n    withPrintQuery(queries) {\r\n        return [...queries, PRINT];\r\n    }\r\n    /**\r\n     * Is the MediaChange event for any 'print' \\@media\r\n     * @param {?} e\r\n     * @return {?}\r\n     */\r\n    isPrintEvent(e) {\r\n        return e.mediaQuery.startsWith(PRINT);\r\n    }\r\n    /**\r\n     * What is the desired mqAlias to use while printing?\r\n     * @return {?}\r\n     */\r\n    get printAlias() {\r\n        return this.layoutConfig.printWithBreakpoints || [];\r\n    }\r\n    /**\r\n     * Lookup breakpoints associated with print aliases.\r\n     * @return {?}\r\n     */\r\n    get printBreakPoints() {\r\n        return (/** @type {?} */ (this.printAlias\r\n            .map((/**\r\n         * @param {?} alias\r\n         * @return {?}\r\n         */\r\n        alias => this.breakpoints.findByAlias(alias)))\r\n            .filter((/**\r\n         * @param {?} bp\r\n         * @return {?}\r\n         */\r\n        bp => bp !== null))));\r\n    }\r\n    /**\r\n     * Lookup breakpoint associated with mediaQuery\r\n     * @param {?} __0\r\n     * @return {?}\r\n     */\r\n    getEventBreakpoints({ mediaQuery }) {\r\n        /** @type {?} */\r\n        const bp = this.breakpoints.findByQuery(mediaQuery);\r\n        /** @type {?} */\r\n        const list = bp ? [...this.printBreakPoints, bp] : this.printBreakPoints;\r\n        return list.sort(sortDescendingPriority);\r\n    }\r\n    /**\r\n     * Update event with printAlias mediaQuery information\r\n     * @param {?} event\r\n     * @return {?}\r\n     */\r\n    updateEvent(event) {\r\n        /** @type {?} */\r\n        let bp = this.breakpoints.findByQuery(event.mediaQuery);\r\n        if (this.isPrintEvent(event)) {\r\n            // Reset from 'print' to first (highest priority) print breakpoint\r\n            bp = this.getEventBreakpoints(event)[0];\r\n            event.mediaQuery = bp ? bp.mediaQuery : '';\r\n        }\r\n        return mergeAlias(event, bp);\r\n    }\r\n    // registerBeforeAfterPrintHooks registers a `beforeprint` event hook so we can\r\n    // trigger print styles synchronously and apply proper layout styles.\r\n    // It is a noop if the hooks have already been registered or if the document's\r\n    // `defaultView` is not available.\r\n    /**\r\n     * @private\r\n     * @param {?} target\r\n     * @return {?}\r\n     */\r\n    registerBeforeAfterPrintHooks(target) {\r\n        // `defaultView` may be null when rendering on the server or in other contexts.\r\n        if (!this._document.defaultView || this.registeredBeforeAfterPrintHooks) {\r\n            return;\r\n        }\r\n        this.registeredBeforeAfterPrintHooks = true;\r\n        /** @type {?} */\r\n        const beforePrintListener = (/**\r\n         * @return {?}\r\n         */\r\n        () => {\r\n            // If we aren't already printing, start printing and update the styles as\r\n            // if there was a regular print `MediaChange`(from matchMedia).\r\n            if (!this.isPrinting) {\r\n                this.isPrintingBeforeAfterEvent = true;\r\n                this.startPrinting(target, this.getEventBreakpoints(new MediaChange(true, PRINT)));\r\n                target.updateStyles();\r\n            }\r\n        });\r\n        /** @type {?} */\r\n        const afterPrintListener = (/**\r\n         * @return {?}\r\n         */\r\n        () => {\r\n            // If we aren't already printing, start printing and update the styles as\r\n            // if there was a regular print `MediaChange`(from matchMedia).\r\n            this.isPrintingBeforeAfterEvent = false;\r\n            if (this.isPrinting) {\r\n                this.stopPrinting(target);\r\n                target.updateStyles();\r\n            }\r\n        });\r\n        // Could we have teardown logic to remove if there are no print listeners being used?\r\n        this._document.defaultView.addEventListener('beforeprint', beforePrintListener);\r\n        this._document.defaultView.addEventListener('afterprint', afterPrintListener);\r\n        this.beforePrintEventListeners.push(beforePrintListener);\r\n        this.afterPrintEventListeners.push(afterPrintListener);\r\n    }\r\n    /**\r\n     * Prepare RxJS filter operator with partial application\r\n     * @param {?} target\r\n     * @return {?} pipeable filter predicate\r\n     */\r\n    interceptEvents(target) {\r\n        this.registerBeforeAfterPrintHooks(target);\r\n        return (/**\r\n         * @param {?} event\r\n         * @return {?}\r\n         */\r\n        (event) => {\r\n            if (this.isPrintEvent(event)) {\r\n                if (event.matches && !this.isPrinting) {\r\n                    this.startPrinting(target, this.getEventBreakpoints(event));\r\n                    target.updateStyles();\r\n                }\r\n                else if (!event.matches && this.isPrinting && !this.isPrintingBeforeAfterEvent) {\r\n                    this.stopPrinting(target);\r\n                    target.updateStyles();\r\n                }\r\n            }\r\n            else {\r\n                this.collectActivations(event);\r\n            }\r\n        });\r\n    }\r\n    /**\r\n     * Stop mediaChange event propagation in event streams\r\n     * @return {?}\r\n     */\r\n    blockPropagation() {\r\n        return (/**\r\n         * @param {?} event\r\n         * @return {?}\r\n         */\r\n        (event) => {\r\n            return !(this.isPrinting || this.isPrintEvent(event));\r\n        });\r\n    }\r\n    /**\r\n     * Save current activateBreakpoints (for later restore)\r\n     * and substitute only the printAlias breakpoint\r\n     * @protected\r\n     * @param {?} target\r\n     * @param {?} bpList\r\n     * @return {?}\r\n     */\r\n    startPrinting(target, bpList) {\r\n        this.isPrinting = true;\r\n        target.activatedBreakpoints = this.queue.addPrintBreakpoints(bpList);\r\n    }\r\n    /**\r\n     * For any print de-activations, reset the entire print queue\r\n     * @protected\r\n     * @param {?} target\r\n     * @return {?}\r\n     */\r\n    stopPrinting(target) {\r\n        target.activatedBreakpoints = this.deactivations;\r\n        this.deactivations = [];\r\n        this.queue.clear();\r\n        this.isPrinting = false;\r\n    }\r\n    /**\r\n     * To restore pre-Print Activations, we must capture the proper\r\n     * list of breakpoint activations BEFORE print starts. OnBeforePrint()\r\n     * is supported; so 'print' mediaQuery activations are used as a fallback\r\n     * in browsers without `beforeprint` support.\r\n     *\r\n     * >  But activated breakpoints are deactivated BEFORE 'print' activation.\r\n     *\r\n     * Let's capture all de-activations using the following logic:\r\n     *\r\n     *  When not printing:\r\n     *    - clear cache when activating non-print breakpoint\r\n     *    - update cache (and sort) when deactivating\r\n     *\r\n     *  When printing:\r\n     *    - sort and save when starting print\r\n     *    - restore as activatedTargets and clear when stop printing\r\n     * @param {?} event\r\n     * @return {?}\r\n     */\r\n    collectActivations(event) {\r\n        if (!this.isPrinting || this.isPrintingBeforeAfterEvent) {\r\n            if (!event.matches) {\r\n                /** @type {?} */\r\n                const bp = this.breakpoints.findByQuery(event.mediaQuery);\r\n                if (bp) { // Deactivating a breakpoint\r\n                    this.deactivations.push(bp);\r\n                    this.deactivations.sort(sortDescendingPriority);\r\n                }\r\n            }\r\n            else if (!this.isPrintingBeforeAfterEvent) {\r\n                // Only clear deactivations if we aren't printing from a `beforeprint` event.\r\n                // Otherwise this will clear before `stopPrinting()` is called to restore\r\n                // the pre-Print Activations.\r\n                this.deactivations = [];\r\n            }\r\n        }\r\n    }\r\n    /**\r\n     * Teardown logic for the service.\r\n     * @return {?}\r\n     */\r\n    ngOnDestroy() {\r\n        this.beforePrintEventListeners.forEach((/**\r\n         * @param {?} l\r\n         * @return {?}\r\n         */\r\n        l => this._document.defaultView.removeEventListener('beforeprint', l)));\r\n        this.afterPrintEventListeners.forEach((/**\r\n         * @param {?} l\r\n         * @return {?}\r\n         */\r\n        l => this._document.defaultView.removeEventListener('afterprint', l)));\r\n    }\r\n}\r\nPrintHook.ɵfac = function PrintHook_Factory(t) { return new (t || PrintHook)(ɵngcc0.ɵɵinject(BreakPointRegistry), ɵngcc0.ɵɵinject(LAYOUT_CONFIG), ɵngcc0.ɵɵinject(DOCUMENT)); };\r\n/** @nocollapse */ PrintHook.ɵprov = ɵɵdefineInjectable({ factory: function PrintHook_Factory() { return new PrintHook(ɵɵinject(BreakPointRegistry), ɵɵinject(LAYOUT_CONFIG), ɵɵinject(DOCUMENT)); }, token: PrintHook, providedIn: \"root\" });\r\n/** @nocollapse */\r\nPrintHook.ctorParameters = () => [\r\n    { type: BreakPointRegistry },\r\n    { type: undefined, decorators: [{ type: Inject, args: [LAYOUT_CONFIG,] }] },\r\n    { type: undefined, decorators: [{ type: Inject, args: [DOCUMENT,] }] }\r\n];\r\n/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(PrintHook, [{\r\n        type: Injectable,\r\n        args: [{ providedIn: 'root' }]\r\n    }], function () { return [{ type: BreakPointRegistry }, { type: undefined, decorators: [{\r\n                type: Inject,\r\n                args: [LAYOUT_CONFIG]\r\n            }] }, { type: undefined, decorators: [{\r\n                type: Inject,\r\n                args: [DOCUMENT]\r\n            }] }]; }, null); })();\r\n// ************************************************************************\r\n// Internal Utility class 'PrintQueue'\r\n// ************************************************************************\r\n/**\r\n * Utility class to manage print breakpoints + activatedBreakpoints\r\n * with correct sorting WHILE printing\r\n */\r\nclass PrintQueue {\r\n    constructor() {\r\n        /**\r\n         * Sorted queue with prioritized print breakpoints\r\n         */\r\n        this.printBreakpoints = [];\r\n    }\r\n    /**\r\n     * @param {?} bpList\r\n     * @return {?}\r\n     */\r\n    addPrintBreakpoints(bpList) {\r\n        bpList.push(BREAKPOINT_PRINT);\r\n        bpList.sort(sortDescendingPriority);\r\n        bpList.forEach((/**\r\n         * @param {?} bp\r\n         * @return {?}\r\n         */\r\n        bp => this.addBreakpoint(bp)));\r\n        return this.printBreakpoints;\r\n    }\r\n    /**\r\n     * Add Print breakpoint to queue\r\n     * @param {?} bp\r\n     * @return {?}\r\n     */\r\n    addBreakpoint(bp) {\r\n        if (!!bp) {\r\n            /** @type {?} */\r\n            const bpInList = this.printBreakpoints.find((/**\r\n             * @param {?} it\r\n             * @return {?}\r\n             */\r\n            it => it.mediaQuery === bp.mediaQuery));\r\n            if (bpInList === undefined) {\r\n                // If this is a `printAlias` breakpoint, then append. If a true 'print' breakpoint,\r\n                // register as highest priority in the queue\r\n                this.printBreakpoints = isPrintBreakPoint(bp) ? [bp, ...this.printBreakpoints]\r\n                    : [...this.printBreakpoints, bp];\r\n            }\r\n        }\r\n    }\r\n    /**\r\n     * Restore original activated breakpoints and clear internal caches\r\n     * @return {?}\r\n     */\r\n    clear() {\r\n        this.printBreakpoints = [];\r\n    }\r\n}\r\n// ************************************************************************\r\n// Internal Utility methods\r\n// ************************************************************************\r\n/**\r\n * Only support intercept queueing if the Breakpoint is a print \\@media query\r\n * @param {?} bp\r\n * @return {?}\r\n */\r\nfunction isPrintBreakPoint(bp) {\r\n    return bp ? bp.mediaQuery.startsWith(PRINT) : false;\r\n}\r\n\r\n/**\r\n * @fileoverview added by tsickle\r\n * Generated from: core/utils/array.ts\r\n * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingRequire,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\n\r\n/**\r\n * Wraps the provided value in an array, unless the provided value is an array.\r\n * @template T\r\n * @param {?} value\r\n * @return {?}\r\n */\r\nfunction coerceArray(value) {\r\n    return Array.isArray(value) ? value : [value];\r\n}\r\n\r\n/**\r\n * @fileoverview added by tsickle\r\n * Generated from: core/media-observer/media-observer.ts\r\n * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingRequire,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\n/**\r\n * MediaObserver enables applications to listen for 1..n mediaQuery activations and to determine\r\n * if a mediaQuery is currently activated.\r\n *\r\n * Since a breakpoint change will first deactivate 1...n mediaQueries and then possibly activate\r\n * 1..n mediaQueries, the MediaObserver will debounce notifications and report ALL *activations*\r\n * in 1 event notification. The reported activations will be sorted in descending priority order.\r\n *\r\n * This class uses the BreakPoint Registry to inject alias information into the raw MediaChange\r\n * notification. For custom mediaQuery notifications, alias information will not be injected and\r\n * those fields will be ''.\r\n *\r\n * Note: Developers should note that only mediaChange activations (not de-activations)\r\n *       are announced by the MediaObserver.\r\n *\r\n * \\@usage\r\n *\r\n *  // RxJS\r\n *  import { filter } from 'rxjs/operators';\r\n *  import { MediaObserver } from '\\@angular/flex-layout';\r\n *\r\n * \\@Component({ ... })\r\n *  export class AppComponent {\r\n *    status: string = '';\r\n *\r\n *    constructor(mediaObserver: MediaObserver) {\r\n *      const media$ = mediaObserver.asObservable().pipe(\r\n *        filter((changes: MediaChange[]) => true)   // silly noop filter\r\n *      );\r\n *\r\n *      media$.subscribe((changes: MediaChange[]) => {\r\n *        let status = '';\r\n *        changes.forEach( change => {\r\n *          status += `'${change.mqAlias}' = (${change.mediaQuery}) <br/>` ;\r\n *        });\r\n *        this.status = status;\r\n *     });\r\n *\r\n *    }\r\n *  }\r\n */\r\nclass MediaObserver {\r\n    /**\r\n     * @param {?} breakpoints\r\n     * @param {?} matchMedia\r\n     * @param {?} hook\r\n     */\r\n    constructor(breakpoints, matchMedia, hook) {\r\n        this.breakpoints = breakpoints;\r\n        this.matchMedia = matchMedia;\r\n        this.hook = hook;\r\n        /**\r\n         * Filter MediaChange notifications for overlapping breakpoints\r\n         */\r\n        this.filterOverlaps = false;\r\n        this.destroyed$ = new Subject();\r\n        this._media$ = this.watchActivations();\r\n        this.media$ = this._media$.pipe(filter((/**\r\n         * @param {?} changes\r\n         * @return {?}\r\n         */\r\n        (changes) => changes.length > 0)), map((/**\r\n         * @param {?} changes\r\n         * @return {?}\r\n         */\r\n        (changes) => changes[0])));\r\n    }\r\n    /**\r\n     * Completes the active subject, signalling to all complete for all\r\n     * MediaObserver subscribers\r\n     * @return {?}\r\n     */\r\n    ngOnDestroy() {\r\n        this.destroyed$.next();\r\n        this.destroyed$.complete();\r\n    }\r\n    // ************************************************\r\n    // Public Methods\r\n    // ************************************************\r\n    /**\r\n     * Observe changes to current activation 'list'\r\n     * @return {?}\r\n     */\r\n    asObservable() {\r\n        return this._media$;\r\n    }\r\n    /**\r\n     * Allow programmatic query to determine if one or more media query/alias match\r\n     * the current viewport size.\r\n     * @param {?} value One or more media queries (or aliases) to check.\r\n     * @return {?} Whether any of the media queries match.\r\n     */\r\n    isActive(value) {\r\n        /** @type {?} */\r\n        const aliases = splitQueries(coerceArray(value));\r\n        return aliases.some((/**\r\n         * @param {?} alias\r\n         * @return {?}\r\n         */\r\n        alias => {\r\n            /** @type {?} */\r\n            const query = toMediaQuery(alias, this.breakpoints);\r\n            return query !== null && this.matchMedia.isActive(query);\r\n        }));\r\n    }\r\n    // ************************************************\r\n    // Internal Methods\r\n    // ************************************************\r\n    /**\r\n     * Register all the mediaQueries registered in the BreakPointRegistry\r\n     * This is needed so subscribers can be auto-notified of all standard, registered\r\n     * mediaQuery activations\r\n     * @private\r\n     * @return {?}\r\n     */\r\n    watchActivations() {\r\n        /** @type {?} */\r\n        const queries = this.breakpoints.items.map((/**\r\n         * @param {?} bp\r\n         * @return {?}\r\n         */\r\n        bp => bp.mediaQuery));\r\n        return this.buildObservable(queries);\r\n    }\r\n    /**\r\n     * Only pass/announce activations (not de-activations)\r\n     *\r\n     * Since multiple-mediaQueries can be activation in a cycle,\r\n     * gather all current activations into a single list of changes to observers\r\n     *\r\n     * Inject associated (if any) alias information into the MediaChange event\r\n     * - Exclude mediaQuery activations for overlapping mQs. List bounded mQ ranges only\r\n     * - Exclude print activations that do not have an associated mediaQuery\r\n     *\r\n     * NOTE: the raw MediaChange events [from MatchMedia] do not\r\n     *       contain important alias information; as such this info\r\n     *       must be injected into the MediaChange\r\n     * @private\r\n     * @param {?} mqList\r\n     * @return {?}\r\n     */\r\n    buildObservable(mqList) {\r\n        /** @type {?} */\r\n        const hasChanges = (/**\r\n         * @param {?} changes\r\n         * @return {?}\r\n         */\r\n        (changes) => {\r\n            /** @type {?} */\r\n            const isValidQuery = (/**\r\n             * @param {?} change\r\n             * @return {?}\r\n             */\r\n            (change) => (change.mediaQuery.length > 0));\r\n            return (changes.filter(isValidQuery).length > 0);\r\n        });\r\n        /** @type {?} */\r\n        const excludeOverlaps = (/**\r\n         * @param {?} changes\r\n         * @return {?}\r\n         */\r\n        (changes) => {\r\n            return !this.filterOverlaps ? changes : changes.filter((/**\r\n             * @param {?} change\r\n             * @return {?}\r\n             */\r\n            change => {\r\n                /** @type {?} */\r\n                const bp = this.breakpoints.findByQuery(change.mediaQuery);\r\n                return !bp ? true : !bp.overlapping;\r\n            }));\r\n        });\r\n        /**\r\n         */\r\n        return this.matchMedia\r\n            .observe(this.hook.withPrintQuery(mqList))\r\n            .pipe(filter((/**\r\n         * @param {?} change\r\n         * @return {?}\r\n         */\r\n        (change) => change.matches)), debounceTime(0, asapScheduler), switchMap((/**\r\n         * @param {?} _\r\n         * @return {?}\r\n         */\r\n        _ => of(this.findAllActivations()))), map(excludeOverlaps), filter(hasChanges), takeUntil(this.destroyed$));\r\n    }\r\n    /**\r\n     * Find all current activations and prepare single list of activations\r\n     * sorted by descending priority.\r\n     * @private\r\n     * @return {?}\r\n     */\r\n    findAllActivations() {\r\n        /** @type {?} */\r\n        const mergeMQAlias = (/**\r\n         * @param {?} change\r\n         * @return {?}\r\n         */\r\n        (change) => {\r\n            /** @type {?} */\r\n            let bp = this.breakpoints.findByQuery(change.mediaQuery);\r\n            return mergeAlias(change, bp);\r\n        });\r\n        /** @type {?} */\r\n        const replaceWithPrintAlias = (/**\r\n         * @param {?} change\r\n         * @return {?}\r\n         */\r\n        (change) => {\r\n            return this.hook.isPrintEvent(change) ? this.hook.updateEvent(change) : change;\r\n        });\r\n        return this.matchMedia\r\n            .activations\r\n            .map((/**\r\n         * @param {?} query\r\n         * @return {?}\r\n         */\r\n        query => new MediaChange(true, query)))\r\n            .map(replaceWithPrintAlias)\r\n            .map(mergeMQAlias)\r\n            .sort(sortDescendingPriority);\r\n    }\r\n}\r\nMediaObserver.ɵfac = function MediaObserver_Factory(t) { return new (t || MediaObserver)(ɵngcc0.ɵɵinject(BreakPointRegistry), ɵngcc0.ɵɵinject(MatchMedia), ɵngcc0.ɵɵinject(PrintHook)); };\r\n/** @nocollapse */ MediaObserver.ɵprov = ɵɵdefineInjectable({ factory: function MediaObserver_Factory() { return new MediaObserver(ɵɵinject(BreakPointRegistry), ɵɵinject(MatchMedia), ɵɵinject(PrintHook)); }, token: MediaObserver, providedIn: \"root\" });\r\n/** @nocollapse */\r\nMediaObserver.ctorParameters = () => [\r\n    { type: BreakPointRegistry },\r\n    { type: MatchMedia },\r\n    { type: PrintHook }\r\n];\r\n/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(MediaObserver, [{\r\n        type: Injectable,\r\n        args: [{ providedIn: 'root' }]\r\n    }], function () { return [{ type: BreakPointRegistry }, { type: MatchMedia }, { type: PrintHook }]; }, null); })();\r\n/**\r\n * Find associated breakpoint (if any)\r\n * @param {?} query\r\n * @param {?} locator\r\n * @return {?}\r\n */\r\nfunction toMediaQuery(query, locator) {\r\n    /** @type {?} */\r\n    const bp = locator.findByAlias(query) || locator.findByQuery(query);\r\n    return bp ? bp.mediaQuery : null;\r\n}\r\n/**\r\n * Split each query string into separate query strings if two queries are provided as comma\r\n * separated.\r\n * @param {?} queries\r\n * @return {?}\r\n */\r\nfunction splitQueries(queries) {\r\n    return queries.map((/**\r\n     * @param {?} query\r\n     * @return {?}\r\n     */\r\n    (query) => query.split(',')))\r\n        .reduce((/**\r\n     * @param {?} a1\r\n     * @param {?} a2\r\n     * @return {?}\r\n     */\r\n    (a1, a2) => a1.concat(a2)))\r\n        .map((/**\r\n     * @param {?} query\r\n     * @return {?}\r\n     */\r\n    query => query.trim()));\r\n}\r\n\r\n/**\r\n * @fileoverview added by tsickle\r\n * Generated from: core/media-observer/index.ts\r\n * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingRequire,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\n\r\n/**\r\n * @fileoverview added by tsickle\r\n * Generated from: core/media-trigger/media-trigger.ts\r\n * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingRequire,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\n/**\r\n * Class\r\n */\r\nclass MediaTrigger {\r\n    /**\r\n     * @param {?} breakpoints\r\n     * @param {?} matchMedia\r\n     * @param {?} layoutConfig\r\n     * @param {?} _platformId\r\n     * @param {?} _document\r\n     */\r\n    constructor(breakpoints, matchMedia, layoutConfig, _platformId, _document) {\r\n        this.breakpoints = breakpoints;\r\n        this.matchMedia = matchMedia;\r\n        this.layoutConfig = layoutConfig;\r\n        this._platformId = _platformId;\r\n        this._document = _document;\r\n        this.hasCachedRegistryMatches = false;\r\n        this.originalActivations = [];\r\n        this.originalRegistry = new Map();\r\n    }\r\n    /**\r\n     * Manually activate range of breakpoints\r\n     * @param {?} list array of mediaQuery or alias strings\r\n     * @return {?}\r\n     */\r\n    activate(list) {\r\n        list = list.map((/**\r\n         * @param {?} it\r\n         * @return {?}\r\n         */\r\n        it => it.trim())); // trim queries\r\n        this.saveActivations();\r\n        this.deactivateAll();\r\n        this.setActivations(list);\r\n        this.prepareAutoRestore();\r\n    }\r\n    /**\r\n     * Restore original, 'real' breakpoints and emit events\r\n     * to trigger stream notification\r\n     * @return {?}\r\n     */\r\n    restore() {\r\n        if (this.hasCachedRegistryMatches) {\r\n            /** @type {?} */\r\n            const extractQuery = (/**\r\n             * @param {?} change\r\n             * @return {?}\r\n             */\r\n            (change) => change.mediaQuery);\r\n            /** @type {?} */\r\n            const list = this.originalActivations.map(extractQuery);\r\n            try {\r\n                this.deactivateAll();\r\n                this.restoreRegistryMatches();\r\n                this.setActivations(list);\r\n            }\r\n            finally {\r\n                this.originalActivations = [];\r\n                if (this.resizeSubscription) {\r\n                    this.resizeSubscription.unsubscribe();\r\n                }\r\n            }\r\n        }\r\n    }\r\n    // ************************************************\r\n    // Internal Methods\r\n    // ************************************************\r\n    /**\r\n     * Whenever window resizes, immediately auto-restore original\r\n     * activations (if we are simulating activations)\r\n     * @private\r\n     * @return {?}\r\n     */\r\n    prepareAutoRestore() {\r\n        /** @type {?} */\r\n        const isBrowser = isPlatformBrowser(this._platformId) && this._document;\r\n        /** @type {?} */\r\n        const enableAutoRestore = isBrowser && this.layoutConfig.mediaTriggerAutoRestore;\r\n        if (enableAutoRestore) {\r\n            /** @type {?} */\r\n            const resize$ = fromEvent(window, 'resize').pipe(take(1));\r\n            this.resizeSubscription = resize$.subscribe(this.restore.bind(this));\r\n        }\r\n    }\r\n    /**\r\n     * Notify all matchMedia subscribers of de-activations\r\n     *\r\n     * Note: we must force 'matches' updates for\r\n     *       future matchMedia::activation lookups\r\n     * @private\r\n     * @return {?}\r\n     */\r\n    deactivateAll() {\r\n        /** @type {?} */\r\n        const list = this.currentActivations;\r\n        this.forceRegistryMatches(list, false);\r\n        this.simulateMediaChanges(list, false);\r\n    }\r\n    /**\r\n     * Cache current activations as sorted, prioritized list of MediaChanges\r\n     * @private\r\n     * @return {?}\r\n     */\r\n    saveActivations() {\r\n        if (!this.hasCachedRegistryMatches) {\r\n            /** @type {?} */\r\n            const toMediaChange = (/**\r\n             * @param {?} query\r\n             * @return {?}\r\n             */\r\n            (query) => new MediaChange(true, query));\r\n            /** @type {?} */\r\n            const mergeMQAlias = (/**\r\n             * @param {?} change\r\n             * @return {?}\r\n             */\r\n            (change) => {\r\n                /** @type {?} */\r\n                const bp = this.breakpoints.findByQuery(change.mediaQuery);\r\n                return mergeAlias(change, bp);\r\n            });\r\n            this.originalActivations = this.currentActivations\r\n                .map(toMediaChange)\r\n                .map(mergeMQAlias)\r\n                .sort(sortDescendingPriority);\r\n            this.cacheRegistryMatches();\r\n        }\r\n    }\r\n    /**\r\n     * Force set manual activations for specified mediaQuery list\r\n     * @private\r\n     * @param {?} list\r\n     * @return {?}\r\n     */\r\n    setActivations(list) {\r\n        if (!!this.originalRegistry) {\r\n            this.forceRegistryMatches(list, true);\r\n        }\r\n        this.simulateMediaChanges(list);\r\n    }\r\n    /**\r\n     * For specified mediaQuery list manually simulate activations or deactivations\r\n     * @private\r\n     * @param {?} queries\r\n     * @param {?=} matches\r\n     * @return {?}\r\n     */\r\n    simulateMediaChanges(queries, matches = true) {\r\n        /** @type {?} */\r\n        const toMediaQuery = (/**\r\n         * @param {?} query\r\n         * @return {?}\r\n         */\r\n        (query) => {\r\n            /** @type {?} */\r\n            const locator = this.breakpoints;\r\n            /** @type {?} */\r\n            const bp = locator.findByAlias(query) || locator.findByQuery(query);\r\n            return bp ? bp.mediaQuery : query;\r\n        });\r\n        /** @type {?} */\r\n        const emitChangeEvent = (/**\r\n         * @param {?} query\r\n         * @return {?}\r\n         */\r\n        (query) => this.emitChangeEvent(matches, query));\r\n        queries.map(toMediaQuery).forEach(emitChangeEvent);\r\n    }\r\n    /**\r\n     * Replace current registry with simulated registry...\r\n     * Note: this is required since MediaQueryList::matches is 'readOnly'\r\n     * @private\r\n     * @param {?} queries\r\n     * @param {?} matches\r\n     * @return {?}\r\n     */\r\n    forceRegistryMatches(queries, matches) {\r\n        /** @type {?} */\r\n        const registry = new Map();\r\n        queries.forEach((/**\r\n         * @param {?} query\r\n         * @return {?}\r\n         */\r\n        query => {\r\n            registry.set(query, (/** @type {?} */ ({ matches })));\r\n        }));\r\n        this.matchMedia.registry = registry;\r\n    }\r\n    /**\r\n     * Save current MatchMedia::registry items.\r\n     * @private\r\n     * @return {?}\r\n     */\r\n    cacheRegistryMatches() {\r\n        /** @type {?} */\r\n        const target = this.originalRegistry;\r\n        target.clear();\r\n        this.matchMedia.registry.forEach((/**\r\n         * @param {?} value\r\n         * @param {?} key\r\n         * @return {?}\r\n         */\r\n        (value, key) => {\r\n            target.set(key, value);\r\n        }));\r\n        this.hasCachedRegistryMatches = true;\r\n    }\r\n    /**\r\n     * Restore original, 'true' registry\r\n     * @private\r\n     * @return {?}\r\n     */\r\n    restoreRegistryMatches() {\r\n        /** @type {?} */\r\n        const target = this.matchMedia.registry;\r\n        target.clear();\r\n        this.originalRegistry.forEach((/**\r\n         * @param {?} value\r\n         * @param {?} key\r\n         * @return {?}\r\n         */\r\n        (value, key) => {\r\n            target.set(key, value);\r\n        }));\r\n        this.originalRegistry.clear();\r\n        this.hasCachedRegistryMatches = false;\r\n    }\r\n    /**\r\n     * Manually emit a MediaChange event via the MatchMedia to MediaMarshaller and MediaObserver\r\n     * @private\r\n     * @param {?} matches\r\n     * @param {?} query\r\n     * @return {?}\r\n     */\r\n    emitChangeEvent(matches, query) {\r\n        this.matchMedia.source.next(new MediaChange(matches, query));\r\n    }\r\n    /**\r\n     * @private\r\n     * @return {?}\r\n     */\r\n    get currentActivations() {\r\n        return this.matchMedia.activations;\r\n    }\r\n}\r\nMediaTrigger.ɵfac = function MediaTrigger_Factory(t) { return new (t || MediaTrigger)(ɵngcc0.ɵɵinject(BreakPointRegistry), ɵngcc0.ɵɵinject(MatchMedia), ɵngcc0.ɵɵinject(LAYOUT_CONFIG), ɵngcc0.ɵɵinject(PLATFORM_ID), ɵngcc0.ɵɵinject(DOCUMENT)); };\r\n/** @nocollapse */ MediaTrigger.ɵprov = ɵɵdefineInjectable({ factory: function MediaTrigger_Factory() { return new MediaTrigger(ɵɵinject(BreakPointRegistry), ɵɵinject(MatchMedia), ɵɵinject(LAYOUT_CONFIG), ɵɵinject(PLATFORM_ID), ɵɵinject(DOCUMENT)); }, token: MediaTrigger, providedIn: \"root\" });\r\n/** @nocollapse */\r\nMediaTrigger.ctorParameters = () => [\r\n    { type: BreakPointRegistry },\r\n    { type: MatchMedia },\r\n    { type: undefined, decorators: [{ type: Inject, args: [LAYOUT_CONFIG,] }] },\r\n    { type: Object, decorators: [{ type: Inject, args: [PLATFORM_ID,] }] },\r\n    { type: undefined, decorators: [{ type: Inject, args: [DOCUMENT,] }] }\r\n];\r\n/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(MediaTrigger, [{\r\n        type: Injectable,\r\n        args: [{ providedIn: 'root' }]\r\n    }], function () { return [{ type: BreakPointRegistry }, { type: MatchMedia }, { type: undefined, decorators: [{\r\n                type: Inject,\r\n                args: [LAYOUT_CONFIG]\r\n            }] }, { type: Object, decorators: [{\r\n                type: Inject,\r\n                args: [PLATFORM_ID]\r\n            }] }, { type: undefined, decorators: [{\r\n                type: Inject,\r\n                args: [DOCUMENT]\r\n            }] }]; }, null); })();\r\n\r\n/**\r\n * @fileoverview added by tsickle\r\n * Generated from: core/media-trigger/index.ts\r\n * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingRequire,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\n\r\n/**\r\n * @fileoverview added by tsickle\r\n * Generated from: core/utils/index.ts\r\n * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingRequire,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\n\r\n/**\r\n * @fileoverview added by tsickle\r\n * Generated from: utils/auto-prefixer.ts\r\n * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingRequire,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\n\r\n/**\r\n * Applies CSS prefixes to appropriate style keys.\r\n *\r\n * Note: `-ms-`, `-moz` and `-webkit-box` are no longer supported. e.g.\r\n *    {\r\n *      display: -webkit-flex;     NEW - Safari 6.1+. iOS 7.1+, BB10\r\n *      display: flex;             NEW, Spec - Firefox, Chrome, Opera\r\n *      // display: -webkit-box;   OLD - iOS 6-, Safari 3.1-6, BB7\r\n *      // display: -ms-flexbox;   TWEENER - IE 10\r\n *      // display: -moz-flexbox;  OLD - Firefox\r\n *    }\r\n * @param {?} target\r\n * @return {?}\r\n */\r\nfunction applyCssPrefixes(target) {\r\n    for (let key in target) {\r\n        /** @type {?} */\r\n        let value = target[key] || '';\r\n        switch (key) {\r\n            case 'display':\r\n                if (value === 'flex') {\r\n                    target['display'] = [\r\n                        '-webkit-flex',\r\n                        'flex'\r\n                    ];\r\n                }\r\n                else if (value === 'inline-flex') {\r\n                    target['display'] = [\r\n                        '-webkit-inline-flex',\r\n                        'inline-flex'\r\n                    ];\r\n                }\r\n                else {\r\n                    target['display'] = value;\r\n                }\r\n                break;\r\n            case 'align-items':\r\n            case 'align-self':\r\n            case 'align-content':\r\n            case 'flex':\r\n            case 'flex-basis':\r\n            case 'flex-flow':\r\n            case 'flex-grow':\r\n            case 'flex-shrink':\r\n            case 'flex-wrap':\r\n            case 'justify-content':\r\n                target['-webkit-' + key] = value;\r\n                break;\r\n            case 'flex-direction':\r\n                value = value || 'row';\r\n                target['-webkit-flex-direction'] = value;\r\n                target['flex-direction'] = value;\r\n                break;\r\n            case 'order':\r\n                target['order'] = target['-webkit-' + key] = isNaN(+value) ? '0' : value;\r\n                break;\r\n        }\r\n    }\r\n    return target;\r\n}\r\n\r\n/**\r\n * @fileoverview added by tsickle\r\n * Generated from: core/style-utils/style-utils.ts\r\n * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingRequire,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\nclass StyleUtils {\r\n    /**\r\n     * @param {?} _serverStylesheet\r\n     * @param {?} _serverModuleLoaded\r\n     * @param {?} _platformId\r\n     * @param {?} layoutConfig\r\n     */\r\n    constructor(_serverStylesheet, _serverModuleLoaded, _platformId, layoutConfig) {\r\n        this._serverStylesheet = _serverStylesheet;\r\n        this._serverModuleLoaded = _serverModuleLoaded;\r\n        this._platformId = _platformId;\r\n        this.layoutConfig = layoutConfig;\r\n    }\r\n    /**\r\n     * Applies styles given via string pair or object map to the directive element\r\n     * @param {?} element\r\n     * @param {?} style\r\n     * @param {?=} value\r\n     * @return {?}\r\n     */\r\n    applyStyleToElement(element, style, value = null) {\r\n        /** @type {?} */\r\n        let styles = {};\r\n        if (typeof style === 'string') {\r\n            styles[style] = value;\r\n            style = styles;\r\n        }\r\n        styles = this.layoutConfig.disableVendorPrefixes ? style : applyCssPrefixes(style);\r\n        this._applyMultiValueStyleToElement(styles, element);\r\n    }\r\n    /**\r\n     * Applies styles given via string pair or object map to the directive's element\r\n     * @param {?} style\r\n     * @param {?=} elements\r\n     * @return {?}\r\n     */\r\n    applyStyleToElements(style, elements = []) {\r\n        /** @type {?} */\r\n        const styles = this.layoutConfig.disableVendorPrefixes ? style : applyCssPrefixes(style);\r\n        elements.forEach((/**\r\n         * @param {?} el\r\n         * @return {?}\r\n         */\r\n        el => {\r\n            this._applyMultiValueStyleToElement(styles, el);\r\n        }));\r\n    }\r\n    /**\r\n     * Determine the DOM element's Flexbox flow (flex-direction)\r\n     *\r\n     * Check inline style first then check computed (stylesheet) style\r\n     * @param {?} target\r\n     * @return {?}\r\n     */\r\n    getFlowDirection(target) {\r\n        /** @type {?} */\r\n        const query = 'flex-direction';\r\n        /** @type {?} */\r\n        let value = this.lookupStyle(target, query);\r\n        /** @type {?} */\r\n        const hasInlineValue = this.lookupInlineStyle(target, query) ||\r\n            (isPlatformServer(this._platformId) && this._serverModuleLoaded) ? value : '';\r\n        return [value || 'row', hasInlineValue];\r\n    }\r\n    /**\r\n     * @param {?} target\r\n     * @return {?}\r\n     */\r\n    hasWrap(target) {\r\n        /** @type {?} */\r\n        const query = 'flex-wrap';\r\n        return this.lookupStyle(target, query) === 'wrap';\r\n    }\r\n    /**\r\n     * Find the DOM element's raw attribute value (if any)\r\n     * @param {?} element\r\n     * @param {?} attribute\r\n     * @return {?}\r\n     */\r\n    lookupAttributeValue(element, attribute) {\r\n        return element.getAttribute(attribute) || '';\r\n    }\r\n    /**\r\n     * Find the DOM element's inline style value (if any)\r\n     * @param {?} element\r\n     * @param {?} styleName\r\n     * @return {?}\r\n     */\r\n    lookupInlineStyle(element, styleName) {\r\n        return isPlatformBrowser(this._platformId) ?\r\n            element.style.getPropertyValue(styleName) : this._getServerStyle(element, styleName);\r\n    }\r\n    /**\r\n     * Determine the inline or inherited CSS style\r\n     * NOTE: platform-server has no implementation for getComputedStyle\r\n     * @param {?} element\r\n     * @param {?} styleName\r\n     * @param {?=} inlineOnly\r\n     * @return {?}\r\n     */\r\n    lookupStyle(element, styleName, inlineOnly = false) {\r\n        /** @type {?} */\r\n        let value = '';\r\n        if (element) {\r\n            /** @type {?} */\r\n            let immediateValue = value = this.lookupInlineStyle(element, styleName);\r\n            if (!immediateValue) {\r\n                if (isPlatformBrowser(this._platformId)) {\r\n                    if (!inlineOnly) {\r\n                        value = getComputedStyle(element).getPropertyValue(styleName);\r\n                    }\r\n                }\r\n                else {\r\n                    if (this._serverModuleLoaded) {\r\n                        value = this._serverStylesheet.getStyleForElement(element, styleName);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        // Note: 'inline' is the default of all elements, unless UA stylesheet overrides;\r\n        //       in which case getComputedStyle() should determine a valid value.\r\n        return value ? value.trim() : '';\r\n    }\r\n    /**\r\n     * Applies the styles to the element. The styles object map may contain an array of values\r\n     * Each value will be added as element style\r\n     * Keys are sorted to add prefixed styles (like -webkit-x) first, before the standard ones\r\n     * @private\r\n     * @param {?} styles\r\n     * @param {?} element\r\n     * @return {?}\r\n     */\r\n    _applyMultiValueStyleToElement(styles, element) {\r\n        Object.keys(styles).sort().forEach((/**\r\n         * @param {?} key\r\n         * @return {?}\r\n         */\r\n        key => {\r\n            /** @type {?} */\r\n            const el = styles[key];\r\n            /** @type {?} */\r\n            const values = Array.isArray(el) ? el : [el];\r\n            values.sort();\r\n            for (let value of values) {\r\n                value = value ? value + '' : '';\r\n                if (isPlatformBrowser(this._platformId) || !this._serverModuleLoaded) {\r\n                    isPlatformBrowser(this._platformId) ?\r\n                        element.style.setProperty(key, value) : this._setServerStyle(element, key, value);\r\n                }\r\n                else {\r\n                    this._serverStylesheet.addStyleToElement(element, key, value);\r\n                }\r\n            }\r\n        }));\r\n    }\r\n    /**\r\n     * @private\r\n     * @param {?} element\r\n     * @param {?} styleName\r\n     * @param {?=} styleValue\r\n     * @return {?}\r\n     */\r\n    _setServerStyle(element, styleName, styleValue) {\r\n        styleName = styleName.replace(/([a-z])([A-Z])/g, '$1-$2').toLowerCase();\r\n        /** @type {?} */\r\n        const styleMap = this._readStyleAttribute(element);\r\n        styleMap[styleName] = styleValue || '';\r\n        this._writeStyleAttribute(element, styleMap);\r\n    }\r\n    /**\r\n     * @private\r\n     * @param {?} element\r\n     * @param {?} styleName\r\n     * @return {?}\r\n     */\r\n    _getServerStyle(element, styleName) {\r\n        /** @type {?} */\r\n        const styleMap = this._readStyleAttribute(element);\r\n        return styleMap[styleName] || '';\r\n    }\r\n    /**\r\n     * @private\r\n     * @param {?} element\r\n     * @return {?}\r\n     */\r\n    _readStyleAttribute(element) {\r\n        /** @type {?} */\r\n        const styleMap = {};\r\n        /** @type {?} */\r\n        const styleAttribute = element.getAttribute('style');\r\n        if (styleAttribute) {\r\n            /** @type {?} */\r\n            const styleList = styleAttribute.split(/;+/g);\r\n            for (let i = 0; i < styleList.length; i++) {\r\n                /** @type {?} */\r\n                const style = styleList[i].trim();\r\n                if (style.length > 0) {\r\n                    /** @type {?} */\r\n                    const colonIndex = style.indexOf(':');\r\n                    if (colonIndex === -1) {\r\n                        throw new Error(`Invalid CSS style: ${style}`);\r\n                    }\r\n                    /** @type {?} */\r\n                    const name = style.substr(0, colonIndex).trim();\r\n                    styleMap[name] = style.substr(colonIndex + 1).trim();\r\n                }\r\n            }\r\n        }\r\n        return styleMap;\r\n    }\r\n    /**\r\n     * @private\r\n     * @param {?} element\r\n     * @param {?} styleMap\r\n     * @return {?}\r\n     */\r\n    _writeStyleAttribute(element, styleMap) {\r\n        /** @type {?} */\r\n        let styleAttrValue = '';\r\n        for (const key in styleMap) {\r\n            /** @type {?} */\r\n            const newValue = styleMap[key];\r\n            if (newValue) {\r\n                styleAttrValue += key + ':' + styleMap[key] + ';';\r\n            }\r\n        }\r\n        element.setAttribute('style', styleAttrValue);\r\n    }\r\n}\r\nStyleUtils.ɵfac = function StyleUtils_Factory(t) { return new (t || StyleUtils)(ɵngcc0.ɵɵinject(StylesheetMap), ɵngcc0.ɵɵinject(SERVER_TOKEN), ɵngcc0.ɵɵinject(PLATFORM_ID), ɵngcc0.ɵɵinject(LAYOUT_CONFIG)); };\r\n/** @nocollapse */ StyleUtils.ɵprov = ɵɵdefineInjectable({ factory: function StyleUtils_Factory() { return new StyleUtils(ɵɵinject(StylesheetMap), ɵɵinject(SERVER_TOKEN), ɵɵinject(PLATFORM_ID), ɵɵinject(LAYOUT_CONFIG)); }, token: StyleUtils, providedIn: \"root\" });\r\n/** @nocollapse */\r\nStyleUtils.ctorParameters = () => [\r\n    { type: StylesheetMap },\r\n    { type: Boolean, decorators: [{ type: Inject, args: [SERVER_TOKEN,] }] },\r\n    { type: Object, decorators: [{ type: Inject, args: [PLATFORM_ID,] }] },\r\n    { type: undefined, decorators: [{ type: Inject, args: [LAYOUT_CONFIG,] }] }\r\n];\r\n/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(StyleUtils, [{\r\n        type: Injectable,\r\n        args: [{ providedIn: 'root' }]\r\n    }], function () { return [{ type: StylesheetMap }, { type: Boolean, decorators: [{\r\n                type: Inject,\r\n                args: [SERVER_TOKEN]\r\n            }] }, { type: Object, decorators: [{\r\n                type: Inject,\r\n                args: [PLATFORM_ID]\r\n            }] }, { type: undefined, decorators: [{\r\n                type: Inject,\r\n                args: [LAYOUT_CONFIG]\r\n            }] }]; }, null); })();\r\n\r\n/**\r\n * @fileoverview added by tsickle\r\n * Generated from: core/style-builder/style-builder.ts\r\n * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingRequire,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\n/**\r\n * A class that encapsulates CSS style generation for common directives\r\n * @abstract\r\n */\r\nclass StyleBuilder {\r\n    constructor() {\r\n        /**\r\n         * Whether to cache the generated output styles\r\n         */\r\n        this.shouldCache = true;\r\n    }\r\n    /**\r\n     * Run a side effect computation given the input string and the computed styles\r\n     * from the build task and the host configuration object\r\n     * NOTE: This should be a no-op unless an algorithm is provided in a subclass\r\n     * @param {?} _input\r\n     * @param {?} _styles\r\n     * @param {?=} _parent\r\n     * @return {?}\r\n     */\r\n    sideEffect(_input, _styles, _parent) {\r\n    }\r\n}\r\n\r\n/**\r\n * @fileoverview added by tsickle\r\n * Generated from: core/basis-validator/basis-validator.ts\r\n * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingRequire,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\n\r\n/**\r\n * The flex API permits 3 or 1 parts of the value:\r\n *    - `flex-grow flex-shrink flex-basis`, or\r\n *    - `flex-basis`\r\n * @param {?} basis\r\n * @param {?=} grow\r\n * @param {?=} shrink\r\n * @return {?}\r\n */\r\nfunction validateBasis(basis, grow = '1', shrink = '1') {\r\n    /** @type {?} */\r\n    let parts = [grow, shrink, basis];\r\n    /** @type {?} */\r\n    let j = basis.indexOf('calc');\r\n    if (j > 0) {\r\n        parts[2] = _validateCalcValue(basis.substring(j).trim());\r\n        /** @type {?} */\r\n        let matches = basis.substr(0, j).trim().split(' ');\r\n        if (matches.length == 2) {\r\n            parts[0] = matches[0];\r\n            parts[1] = matches[1];\r\n        }\r\n    }\r\n    else if (j == 0) {\r\n        parts[2] = _validateCalcValue(basis.trim());\r\n    }\r\n    else {\r\n        /** @type {?} */\r\n        let matches = basis.split(' ');\r\n        parts = (matches.length === 3) ? matches : [\r\n            grow, shrink, basis\r\n        ];\r\n    }\r\n    return parts;\r\n}\r\n/**\r\n * Calc expressions require whitespace before & after any expression operators\r\n * This is a simple, crude whitespace padding solution.\r\n *   - '3 3 calc(15em + 20px)'\r\n *   - calc(100% / 7 * 2)\r\n *   - 'calc(15em + 20px)'\r\n *   - 'calc(15em+20px)'\r\n *   - '37px'\r\n *   = '43%'\r\n * @param {?} calc\r\n * @return {?}\r\n */\r\nfunction _validateCalcValue(calc) {\r\n    return calc.replace(/[\\s]/g, '').replace(/[\\/\\*\\+\\-]/g, ' $& ');\r\n}\r\n\r\n/**\r\n * @fileoverview added by tsickle\r\n * Generated from: core/media-marshaller/media-marshaller.ts\r\n * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingRequire,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\n/**\r\n * MediaMarshaller - register responsive values from directives and\r\n *                   trigger them based on media query events\r\n */\r\nclass MediaMarshaller {\r\n    /**\r\n     * @param {?} matchMedia\r\n     * @param {?} breakpoints\r\n     * @param {?} hook\r\n     */\r\n    constructor(matchMedia, breakpoints, hook) {\r\n        this.matchMedia = matchMedia;\r\n        this.breakpoints = breakpoints;\r\n        this.hook = hook;\r\n        this.activatedBreakpoints = [];\r\n        this.elementMap = new Map();\r\n        this.elementKeyMap = new WeakMap();\r\n        this.watcherMap = new WeakMap(); // special triggers to update elements\r\n        // special triggers to update elements\r\n        this.updateMap = new WeakMap(); // callback functions to update styles\r\n        // callback functions to update styles\r\n        this.clearMap = new WeakMap(); // callback functions to clear styles\r\n        // callback functions to clear styles\r\n        this.subject = new Subject();\r\n        this.observeActivations();\r\n    }\r\n    /**\r\n     * @return {?}\r\n     */\r\n    get activatedAlias() {\r\n        return this.activatedBreakpoints[0] ? this.activatedBreakpoints[0].alias : '';\r\n    }\r\n    /**\r\n     * Update styles on breakpoint activates or deactivates\r\n     * @param {?} mc\r\n     * @return {?}\r\n     */\r\n    onMediaChange(mc) {\r\n        /** @type {?} */\r\n        const bp = this.findByQuery(mc.mediaQuery);\r\n        if (bp) {\r\n            mc = mergeAlias(mc, bp);\r\n            if (mc.matches && this.activatedBreakpoints.indexOf(bp) === -1) {\r\n                this.activatedBreakpoints.push(bp);\r\n                this.activatedBreakpoints.sort(sortDescendingPriority);\r\n                this.updateStyles();\r\n            }\r\n            else if (!mc.matches && this.activatedBreakpoints.indexOf(bp) !== -1) {\r\n                // Remove the breakpoint when it's deactivated\r\n                this.activatedBreakpoints.splice(this.activatedBreakpoints.indexOf(bp), 1);\r\n                this.activatedBreakpoints.sort(sortDescendingPriority);\r\n                this.updateStyles();\r\n            }\r\n        }\r\n    }\r\n    /**\r\n     * initialize the marshaller with necessary elements for delegation on an element\r\n     * @param {?} element\r\n     * @param {?} key\r\n     * @param {?=} updateFn optional callback so that custom bp directives don't have to re-provide this\r\n     * @param {?=} clearFn optional callback so that custom bp directives don't have to re-provide this\r\n     * @param {?=} extraTriggers other triggers to force style updates (e.g. layout, directionality, etc)\r\n     * @return {?}\r\n     */\r\n    init(element, key, updateFn, clearFn, extraTriggers = []) {\r\n        initBuilderMap(this.updateMap, element, key, updateFn);\r\n        initBuilderMap(this.clearMap, element, key, clearFn);\r\n        this.buildElementKeyMap(element, key);\r\n        this.watchExtraTriggers(element, key, extraTriggers);\r\n    }\r\n    /**\r\n     * get the value for an element and key and optionally a given breakpoint\r\n     * @param {?} element\r\n     * @param {?} key\r\n     * @param {?=} bp\r\n     * @return {?}\r\n     */\r\n    getValue(element, key, bp) {\r\n        /** @type {?} */\r\n        const bpMap = this.elementMap.get(element);\r\n        if (bpMap) {\r\n            /** @type {?} */\r\n            const values = bp !== undefined ? bpMap.get(bp) : this.getActivatedValues(bpMap, key);\r\n            if (values) {\r\n                return values.get(key);\r\n            }\r\n        }\r\n        return undefined;\r\n    }\r\n    /**\r\n     * whether the element has values for a given key\r\n     * @param {?} element\r\n     * @param {?} key\r\n     * @return {?}\r\n     */\r\n    hasValue(element, key) {\r\n        /** @type {?} */\r\n        const bpMap = this.elementMap.get(element);\r\n        if (bpMap) {\r\n            /** @type {?} */\r\n            const values = this.getActivatedValues(bpMap, key);\r\n            if (values) {\r\n                return values.get(key) !== undefined || false;\r\n            }\r\n        }\r\n        return false;\r\n    }\r\n    /**\r\n     * Set the value for an input on a directive\r\n     * @param {?} element the element in question\r\n     * @param {?} key the type of the directive (e.g. flex, layout-gap, etc)\r\n     * @param {?} val the value for the breakpoint\r\n     * @param {?} bp the breakpoint suffix (empty string = default)\r\n     * @return {?}\r\n     */\r\n    setValue(element, key, val, bp) {\r\n        /** @type {?} */\r\n        let bpMap = this.elementMap.get(element);\r\n        if (!bpMap) {\r\n            bpMap = new Map().set(bp, new Map().set(key, val));\r\n            this.elementMap.set(element, bpMap);\r\n        }\r\n        else {\r\n            /** @type {?} */\r\n            const values = (bpMap.get(bp) || new Map()).set(key, val);\r\n            bpMap.set(bp, values);\r\n            this.elementMap.set(element, bpMap);\r\n        }\r\n        /** @type {?} */\r\n        const value = this.getValue(element, key);\r\n        if (value !== undefined) {\r\n            this.updateElement(element, key, value);\r\n        }\r\n    }\r\n    /**\r\n     * Track element value changes for a specific key\r\n     * @param {?} element\r\n     * @param {?} key\r\n     * @return {?}\r\n     */\r\n    trackValue(element, key) {\r\n        return this.subject\r\n            .asObservable()\r\n            .pipe(filter((/**\r\n         * @param {?} v\r\n         * @return {?}\r\n         */\r\n        v => v.element === element && v.key === key)));\r\n    }\r\n    /**\r\n     * update all styles for all elements on the current breakpoint\r\n     * @return {?}\r\n     */\r\n    updateStyles() {\r\n        this.elementMap.forEach((/**\r\n         * @param {?} bpMap\r\n         * @param {?} el\r\n         * @return {?}\r\n         */\r\n        (bpMap, el) => {\r\n            /** @type {?} */\r\n            const keyMap = new Set((/** @type {?} */ (this.elementKeyMap.get(el))));\r\n            /** @type {?} */\r\n            let valueMap = this.getActivatedValues(bpMap);\r\n            if (valueMap) {\r\n                valueMap.forEach((/**\r\n                 * @param {?} v\r\n                 * @param {?} k\r\n                 * @return {?}\r\n                 */\r\n                (v, k) => {\r\n                    this.updateElement(el, k, v);\r\n                    keyMap.delete(k);\r\n                }));\r\n            }\r\n            keyMap.forEach((/**\r\n             * @param {?} k\r\n             * @return {?}\r\n             */\r\n            k => {\r\n                valueMap = this.getActivatedValues(bpMap, k);\r\n                if (valueMap) {\r\n                    /** @type {?} */\r\n                    const value = valueMap.get(k);\r\n                    this.updateElement(el, k, value);\r\n                }\r\n                else {\r\n                    this.clearElement(el, k);\r\n                }\r\n            }));\r\n        }));\r\n    }\r\n    /**\r\n     * clear the styles for a given element\r\n     * @param {?} element\r\n     * @param {?} key\r\n     * @return {?}\r\n     */\r\n    clearElement(element, key) {\r\n        /** @type {?} */\r\n        const builders = this.clearMap.get(element);\r\n        if (builders) {\r\n            /** @type {?} */\r\n            const clearFn = (/** @type {?} */ (builders.get(key)));\r\n            if (!!clearFn) {\r\n                clearFn();\r\n                this.subject.next({ element, key, value: '' });\r\n            }\r\n        }\r\n    }\r\n    /**\r\n     * update a given element with the activated values for a given key\r\n     * @param {?} element\r\n     * @param {?} key\r\n     * @param {?} value\r\n     * @return {?}\r\n     */\r\n    updateElement(element, key, value) {\r\n        /** @type {?} */\r\n        const builders = this.updateMap.get(element);\r\n        if (builders) {\r\n            /** @type {?} */\r\n            const updateFn = (/** @type {?} */ (builders.get(key)));\r\n            if (!!updateFn) {\r\n                updateFn(value);\r\n                this.subject.next({ element, key, value });\r\n            }\r\n        }\r\n    }\r\n    /**\r\n     * release all references to a given element\r\n     * @param {?} element\r\n     * @return {?}\r\n     */\r\n    releaseElement(element) {\r\n        /** @type {?} */\r\n        const watcherMap = this.watcherMap.get(element);\r\n        if (watcherMap) {\r\n            watcherMap.forEach((/**\r\n             * @param {?} s\r\n             * @return {?}\r\n             */\r\n            s => s.unsubscribe()));\r\n            this.watcherMap.delete(element);\r\n        }\r\n        /** @type {?} */\r\n        const elementMap = this.elementMap.get(element);\r\n        if (elementMap) {\r\n            elementMap.forEach((/**\r\n             * @param {?} _\r\n             * @param {?} s\r\n             * @return {?}\r\n             */\r\n            (_, s) => elementMap.delete(s)));\r\n            this.elementMap.delete(element);\r\n        }\r\n    }\r\n    /**\r\n     * trigger an update for a given element and key (e.g. layout)\r\n     * @param {?} element\r\n     * @param {?=} key\r\n     * @return {?}\r\n     */\r\n    triggerUpdate(element, key) {\r\n        /** @type {?} */\r\n        const bpMap = this.elementMap.get(element);\r\n        if (bpMap) {\r\n            /** @type {?} */\r\n            const valueMap = this.getActivatedValues(bpMap, key);\r\n            if (valueMap) {\r\n                if (key) {\r\n                    this.updateElement(element, key, valueMap.get(key));\r\n                }\r\n                else {\r\n                    valueMap.forEach((/**\r\n                     * @param {?} v\r\n                     * @param {?} k\r\n                     * @return {?}\r\n                     */\r\n                    (v, k) => this.updateElement(element, k, v)));\r\n                }\r\n            }\r\n        }\r\n    }\r\n    /**\r\n     * Cross-reference for HTMLElement with directive key\r\n     * @private\r\n     * @param {?} element\r\n     * @param {?} key\r\n     * @return {?}\r\n     */\r\n    buildElementKeyMap(element, key) {\r\n        /** @type {?} */\r\n        let keyMap = this.elementKeyMap.get(element);\r\n        if (!keyMap) {\r\n            keyMap = new Set();\r\n            this.elementKeyMap.set(element, keyMap);\r\n        }\r\n        keyMap.add(key);\r\n    }\r\n    /**\r\n     * Other triggers that should force style updates:\r\n     * - directionality\r\n     * - layout changes\r\n     * - mutationobserver updates\r\n     * @private\r\n     * @param {?} element\r\n     * @param {?} key\r\n     * @param {?} triggers\r\n     * @return {?}\r\n     */\r\n    watchExtraTriggers(element, key, triggers) {\r\n        if (triggers && triggers.length) {\r\n            /** @type {?} */\r\n            let watchers = this.watcherMap.get(element);\r\n            if (!watchers) {\r\n                watchers = new Map();\r\n                this.watcherMap.set(element, watchers);\r\n            }\r\n            /** @type {?} */\r\n            const subscription = watchers.get(key);\r\n            if (!subscription) {\r\n                /** @type {?} */\r\n                const newSubscription = merge(...triggers).subscribe((/**\r\n                 * @return {?}\r\n                 */\r\n                () => {\r\n                    /** @type {?} */\r\n                    const currentValue = this.getValue(element, key);\r\n                    this.updateElement(element, key, currentValue);\r\n                }));\r\n                watchers.set(key, newSubscription);\r\n            }\r\n        }\r\n    }\r\n    /**\r\n     * Breakpoint locator by mediaQuery\r\n     * @private\r\n     * @param {?} query\r\n     * @return {?}\r\n     */\r\n    findByQuery(query) {\r\n        return this.breakpoints.findByQuery(query);\r\n    }\r\n    /**\r\n     * get the fallback breakpoint for a given element, starting with the current breakpoint\r\n     * @private\r\n     * @param {?} bpMap\r\n     * @param {?=} key\r\n     * @return {?}\r\n     */\r\n    getActivatedValues(bpMap, key) {\r\n        for (let i = 0; i < this.activatedBreakpoints.length; i++) {\r\n            /** @type {?} */\r\n            const activatedBp = this.activatedBreakpoints[i];\r\n            /** @type {?} */\r\n            const valueMap = bpMap.get(activatedBp.alias);\r\n            if (valueMap) {\r\n                if (key === undefined || (valueMap.has(key) && valueMap.get(key) != null)) {\r\n                    return valueMap;\r\n                }\r\n            }\r\n        }\r\n        /** @type {?} */\r\n        const lastHope = bpMap.get('');\r\n        return (key === undefined || lastHope && lastHope.has(key)) ? lastHope : undefined;\r\n    }\r\n    /**\r\n     * Watch for mediaQuery breakpoint activations\r\n     * @private\r\n     * @return {?}\r\n     */\r\n    observeActivations() {\r\n        /** @type {?} */\r\n        const target = (/** @type {?} */ ((/** @type {?} */ (this))));\r\n        /** @type {?} */\r\n        const queries = this.breakpoints.items.map((/**\r\n         * @param {?} bp\r\n         * @return {?}\r\n         */\r\n        bp => bp.mediaQuery));\r\n        this.matchMedia\r\n            .observe(this.hook.withPrintQuery(queries))\r\n            .pipe(tap(this.hook.interceptEvents(target)), filter(this.hook.blockPropagation()))\r\n            .subscribe(this.onMediaChange.bind(this));\r\n    }\r\n}\r\nMediaMarshaller.ɵfac = function MediaMarshaller_Factory(t) { return new (t || MediaMarshaller)(ɵngcc0.ɵɵinject(MatchMedia), ɵngcc0.ɵɵinject(BreakPointRegistry), ɵngcc0.ɵɵinject(PrintHook)); };\r\n/** @nocollapse */ MediaMarshaller.ɵprov = ɵɵdefineInjectable({ factory: function MediaMarshaller_Factory() { return new MediaMarshaller(ɵɵinject(MatchMedia), ɵɵinject(BreakPointRegistry), ɵɵinject(PrintHook)); }, token: MediaMarshaller, providedIn: \"root\" });\r\n/** @nocollapse */\r\nMediaMarshaller.ctorParameters = () => [\r\n    { type: MatchMedia },\r\n    { type: BreakPointRegistry },\r\n    { type: PrintHook }\r\n];\r\n/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(MediaMarshaller, [{\r\n        type: Injectable,\r\n        args: [{ providedIn: 'root' }]\r\n    }], function () { return [{ type: MatchMedia }, { type: BreakPointRegistry }, { type: PrintHook }]; }, null); })();\r\n/**\r\n * @param {?} map\r\n * @param {?} element\r\n * @param {?} key\r\n * @param {?=} input\r\n * @return {?}\r\n */\r\nfunction initBuilderMap(map$$1, element, key, input) {\r\n    if (input !== undefined) {\r\n        /** @type {?} */\r\n        let oldMap = map$$1.get(element);\r\n        if (!oldMap) {\r\n            oldMap = new Map();\r\n            map$$1.set(element, oldMap);\r\n        }\r\n        oldMap.set(key, input);\r\n    }\r\n}\r\n\r\n/**\r\n * @fileoverview added by tsickle\r\n * Generated from: core/public-api.ts\r\n * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingRequire,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\n\r\n/**\r\n * @fileoverview added by tsickle\r\n * Generated from: core/index.ts\r\n * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingRequire,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\n\r\nexport { MatchMedia as ɵMatchMedia, MockMatchMedia as ɵMockMatchMedia, MockMatchMediaProvider as ɵMockMatchMediaProvider, CoreModule, removeStyles, BROWSER_PROVIDER, CLASS_NAME, MediaChange, StylesheetMap, DEFAULT_CONFIG, LAYOUT_CONFIG, SERVER_TOKEN, BREAKPOINT, mergeAlias, BaseDirective2, DEFAULT_BREAKPOINTS, ScreenTypes, ORIENTATION_BREAKPOINTS, BreakPointRegistry, BREAKPOINTS, MediaObserver, MediaTrigger, sortDescendingPriority, sortAscendingPriority, coerceArray, StyleUtils, StyleBuilder, validateBasis, MediaMarshaller, BREAKPOINT_PRINT, PrintHook };\r\n\r\n//# sourceMappingURL=core.js.map"]},"metadata":{},"sourceType":"module"}