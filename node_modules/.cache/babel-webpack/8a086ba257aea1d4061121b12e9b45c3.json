{"ast":null,"code":"\"use strict\";\n\nvar __extends = this && this.__extends || function () {\n  var _extendStatics = function extendStatics(d, b) {\n    _extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) {\n        if (b.hasOwnProperty(p)) d[p] = b[p];\n      }\n    };\n\n    return _extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    _extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar isFunction_1 = require(\"./util/isFunction\");\n\nvar Observer_1 = require(\"./Observer\");\n\nvar Subscription_1 = require(\"./Subscription\");\n\nvar rxSubscriber_1 = require(\"../internal/symbol/rxSubscriber\");\n\nvar config_1 = require(\"./config\");\n\nvar hostReportError_1 = require(\"./util/hostReportError\");\n\nvar Subscriber = function (_super) {\n  __extends(Subscriber, _super);\n\n  function Subscriber(destinationOrNext, error, complete) {\n    var _this = _super.call(this) || this;\n\n    _this.syncErrorValue = null;\n    _this.syncErrorThrown = false;\n    _this.syncErrorThrowable = false;\n    _this.isStopped = false;\n\n    switch (arguments.length) {\n      case 0:\n        _this.destination = Observer_1.empty;\n        break;\n\n      case 1:\n        if (!destinationOrNext) {\n          _this.destination = Observer_1.empty;\n          break;\n        }\n\n        if (typeof destinationOrNext === 'object') {\n          if (destinationOrNext instanceof Subscriber) {\n            _this.syncErrorThrowable = destinationOrNext.syncErrorThrowable;\n            _this.destination = destinationOrNext;\n            destinationOrNext.add(_this);\n          } else {\n            _this.syncErrorThrowable = true;\n            _this.destination = new SafeSubscriber(_this, destinationOrNext);\n          }\n\n          break;\n        }\n\n      default:\n        _this.syncErrorThrowable = true;\n        _this.destination = new SafeSubscriber(_this, destinationOrNext, error, complete);\n        break;\n    }\n\n    return _this;\n  }\n\n  Subscriber.prototype[rxSubscriber_1.rxSubscriber] = function () {\n    return this;\n  };\n\n  Subscriber.create = function (next, error, complete) {\n    var subscriber = new Subscriber(next, error, complete);\n    subscriber.syncErrorThrowable = false;\n    return subscriber;\n  };\n\n  Subscriber.prototype.next = function (value) {\n    if (!this.isStopped) {\n      this._next(value);\n    }\n  };\n\n  Subscriber.prototype.error = function (err) {\n    if (!this.isStopped) {\n      this.isStopped = true;\n\n      this._error(err);\n    }\n  };\n\n  Subscriber.prototype.complete = function () {\n    if (!this.isStopped) {\n      this.isStopped = true;\n\n      this._complete();\n    }\n  };\n\n  Subscriber.prototype.unsubscribe = function () {\n    if (this.closed) {\n      return;\n    }\n\n    this.isStopped = true;\n\n    _super.prototype.unsubscribe.call(this);\n  };\n\n  Subscriber.prototype._next = function (value) {\n    this.destination.next(value);\n  };\n\n  Subscriber.prototype._error = function (err) {\n    this.destination.error(err);\n    this.unsubscribe();\n  };\n\n  Subscriber.prototype._complete = function () {\n    this.destination.complete();\n    this.unsubscribe();\n  };\n\n  Subscriber.prototype._unsubscribeAndRecycle = function () {\n    var _parentOrParents = this._parentOrParents;\n    this._parentOrParents = null;\n    this.unsubscribe();\n    this.closed = false;\n    this.isStopped = false;\n    this._parentOrParents = _parentOrParents;\n    return this;\n  };\n\n  return Subscriber;\n}(Subscription_1.Subscription);\n\nexports.Subscriber = Subscriber;\n\nvar SafeSubscriber = function (_super) {\n  __extends(SafeSubscriber, _super);\n\n  function SafeSubscriber(_parentSubscriber, observerOrNext, error, complete) {\n    var _this = _super.call(this) || this;\n\n    _this._parentSubscriber = _parentSubscriber;\n    var next;\n    var context = _this;\n\n    if (isFunction_1.isFunction(observerOrNext)) {\n      next = observerOrNext;\n    } else if (observerOrNext) {\n      next = observerOrNext.next;\n      error = observerOrNext.error;\n      complete = observerOrNext.complete;\n\n      if (observerOrNext !== Observer_1.empty) {\n        context = Object.create(observerOrNext);\n\n        if (isFunction_1.isFunction(context.unsubscribe)) {\n          _this.add(context.unsubscribe.bind(context));\n        }\n\n        context.unsubscribe = _this.unsubscribe.bind(_this);\n      }\n    }\n\n    _this._context = context;\n    _this._next = next;\n    _this._error = error;\n    _this._complete = complete;\n    return _this;\n  }\n\n  SafeSubscriber.prototype.next = function (value) {\n    if (!this.isStopped && this._next) {\n      var _parentSubscriber = this._parentSubscriber;\n\n      if (!config_1.config.useDeprecatedSynchronousErrorHandling || !_parentSubscriber.syncErrorThrowable) {\n        this.__tryOrUnsub(this._next, value);\n      } else if (this.__tryOrSetError(_parentSubscriber, this._next, value)) {\n        this.unsubscribe();\n      }\n    }\n  };\n\n  SafeSubscriber.prototype.error = function (err) {\n    if (!this.isStopped) {\n      var _parentSubscriber = this._parentSubscriber;\n      var useDeprecatedSynchronousErrorHandling = config_1.config.useDeprecatedSynchronousErrorHandling;\n\n      if (this._error) {\n        if (!useDeprecatedSynchronousErrorHandling || !_parentSubscriber.syncErrorThrowable) {\n          this.__tryOrUnsub(this._error, err);\n\n          this.unsubscribe();\n        } else {\n          this.__tryOrSetError(_parentSubscriber, this._error, err);\n\n          this.unsubscribe();\n        }\n      } else if (!_parentSubscriber.syncErrorThrowable) {\n        this.unsubscribe();\n\n        if (useDeprecatedSynchronousErrorHandling) {\n          throw err;\n        }\n\n        hostReportError_1.hostReportError(err);\n      } else {\n        if (useDeprecatedSynchronousErrorHandling) {\n          _parentSubscriber.syncErrorValue = err;\n          _parentSubscriber.syncErrorThrown = true;\n        } else {\n          hostReportError_1.hostReportError(err);\n        }\n\n        this.unsubscribe();\n      }\n    }\n  };\n\n  SafeSubscriber.prototype.complete = function () {\n    var _this = this;\n\n    if (!this.isStopped) {\n      var _parentSubscriber = this._parentSubscriber;\n\n      if (this._complete) {\n        var wrappedComplete = function wrappedComplete() {\n          return _this._complete.call(_this._context);\n        };\n\n        if (!config_1.config.useDeprecatedSynchronousErrorHandling || !_parentSubscriber.syncErrorThrowable) {\n          this.__tryOrUnsub(wrappedComplete);\n\n          this.unsubscribe();\n        } else {\n          this.__tryOrSetError(_parentSubscriber, wrappedComplete);\n\n          this.unsubscribe();\n        }\n      } else {\n        this.unsubscribe();\n      }\n    }\n  };\n\n  SafeSubscriber.prototype.__tryOrUnsub = function (fn, value) {\n    try {\n      fn.call(this._context, value);\n    } catch (err) {\n      this.unsubscribe();\n\n      if (config_1.config.useDeprecatedSynchronousErrorHandling) {\n        throw err;\n      } else {\n        hostReportError_1.hostReportError(err);\n      }\n    }\n  };\n\n  SafeSubscriber.prototype.__tryOrSetError = function (parent, fn, value) {\n    if (!config_1.config.useDeprecatedSynchronousErrorHandling) {\n      throw new Error('bad call');\n    }\n\n    try {\n      fn.call(this._context, value);\n    } catch (err) {\n      if (config_1.config.useDeprecatedSynchronousErrorHandling) {\n        parent.syncErrorValue = err;\n        parent.syncErrorThrown = true;\n        return true;\n      } else {\n        hostReportError_1.hostReportError(err);\n        return true;\n      }\n    }\n\n    return false;\n  };\n\n  SafeSubscriber.prototype._unsubscribe = function () {\n    var _parentSubscriber = this._parentSubscriber;\n    this._context = null;\n    this._parentSubscriber = null;\n\n    _parentSubscriber.unsubscribe();\n  };\n\n  return SafeSubscriber;\n}(Subscriber);\n\nexports.SafeSubscriber = SafeSubscriber; //# sourceMappingURL=Subscriber.js.map","map":{"version":3,"sources":["F:/FCIH/Gp/Ebda2ha-Front/node_modules/rxjs/internal/Subscriber.js"],"names":["__extends","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__","constructor","prototype","create","defineProperty","exports","value","isFunction_1","require","Observer_1","Subscription_1","rxSubscriber_1","config_1","hostReportError_1","Subscriber","_super","destinationOrNext","error","complete","_this","call","syncErrorValue","syncErrorThrown","syncErrorThrowable","isStopped","arguments","length","destination","empty","add","SafeSubscriber","rxSubscriber","next","subscriber","_next","err","_error","_complete","unsubscribe","closed","_unsubscribeAndRecycle","_parentOrParents","Subscription","_parentSubscriber","observerOrNext","context","isFunction","bind","_context","config","useDeprecatedSynchronousErrorHandling","__tryOrUnsub","__tryOrSetError","hostReportError","wrappedComplete","fn","parent","Error","_unsubscribe"],"mappings":"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","sourcesContent":["\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    }\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar isFunction_1 = require(\"./util/isFunction\");\nvar Observer_1 = require(\"./Observer\");\nvar Subscription_1 = require(\"./Subscription\");\nvar rxSubscriber_1 = require(\"../internal/symbol/rxSubscriber\");\nvar config_1 = require(\"./config\");\nvar hostReportError_1 = require(\"./util/hostReportError\");\nvar Subscriber = (function (_super) {\n    __extends(Subscriber, _super);\n    function Subscriber(destinationOrNext, error, complete) {\n        var _this = _super.call(this) || this;\n        _this.syncErrorValue = null;\n        _this.syncErrorThrown = false;\n        _this.syncErrorThrowable = false;\n        _this.isStopped = false;\n        switch (arguments.length) {\n            case 0:\n                _this.destination = Observer_1.empty;\n                break;\n            case 1:\n                if (!destinationOrNext) {\n                    _this.destination = Observer_1.empty;\n                    break;\n                }\n                if (typeof destinationOrNext === 'object') {\n                    if (destinationOrNext instanceof Subscriber) {\n                        _this.syncErrorThrowable = destinationOrNext.syncErrorThrowable;\n                        _this.destination = destinationOrNext;\n                        destinationOrNext.add(_this);\n                    }\n                    else {\n                        _this.syncErrorThrowable = true;\n                        _this.destination = new SafeSubscriber(_this, destinationOrNext);\n                    }\n                    break;\n                }\n            default:\n                _this.syncErrorThrowable = true;\n                _this.destination = new SafeSubscriber(_this, destinationOrNext, error, complete);\n                break;\n        }\n        return _this;\n    }\n    Subscriber.prototype[rxSubscriber_1.rxSubscriber] = function () { return this; };\n    Subscriber.create = function (next, error, complete) {\n        var subscriber = new Subscriber(next, error, complete);\n        subscriber.syncErrorThrowable = false;\n        return subscriber;\n    };\n    Subscriber.prototype.next = function (value) {\n        if (!this.isStopped) {\n            this._next(value);\n        }\n    };\n    Subscriber.prototype.error = function (err) {\n        if (!this.isStopped) {\n            this.isStopped = true;\n            this._error(err);\n        }\n    };\n    Subscriber.prototype.complete = function () {\n        if (!this.isStopped) {\n            this.isStopped = true;\n            this._complete();\n        }\n    };\n    Subscriber.prototype.unsubscribe = function () {\n        if (this.closed) {\n            return;\n        }\n        this.isStopped = true;\n        _super.prototype.unsubscribe.call(this);\n    };\n    Subscriber.prototype._next = function (value) {\n        this.destination.next(value);\n    };\n    Subscriber.prototype._error = function (err) {\n        this.destination.error(err);\n        this.unsubscribe();\n    };\n    Subscriber.prototype._complete = function () {\n        this.destination.complete();\n        this.unsubscribe();\n    };\n    Subscriber.prototype._unsubscribeAndRecycle = function () {\n        var _parentOrParents = this._parentOrParents;\n        this._parentOrParents = null;\n        this.unsubscribe();\n        this.closed = false;\n        this.isStopped = false;\n        this._parentOrParents = _parentOrParents;\n        return this;\n    };\n    return Subscriber;\n}(Subscription_1.Subscription));\nexports.Subscriber = Subscriber;\nvar SafeSubscriber = (function (_super) {\n    __extends(SafeSubscriber, _super);\n    function SafeSubscriber(_parentSubscriber, observerOrNext, error, complete) {\n        var _this = _super.call(this) || this;\n        _this._parentSubscriber = _parentSubscriber;\n        var next;\n        var context = _this;\n        if (isFunction_1.isFunction(observerOrNext)) {\n            next = observerOrNext;\n        }\n        else if (observerOrNext) {\n            next = observerOrNext.next;\n            error = observerOrNext.error;\n            complete = observerOrNext.complete;\n            if (observerOrNext !== Observer_1.empty) {\n                context = Object.create(observerOrNext);\n                if (isFunction_1.isFunction(context.unsubscribe)) {\n                    _this.add(context.unsubscribe.bind(context));\n                }\n                context.unsubscribe = _this.unsubscribe.bind(_this);\n            }\n        }\n        _this._context = context;\n        _this._next = next;\n        _this._error = error;\n        _this._complete = complete;\n        return _this;\n    }\n    SafeSubscriber.prototype.next = function (value) {\n        if (!this.isStopped && this._next) {\n            var _parentSubscriber = this._parentSubscriber;\n            if (!config_1.config.useDeprecatedSynchronousErrorHandling || !_parentSubscriber.syncErrorThrowable) {\n                this.__tryOrUnsub(this._next, value);\n            }\n            else if (this.__tryOrSetError(_parentSubscriber, this._next, value)) {\n                this.unsubscribe();\n            }\n        }\n    };\n    SafeSubscriber.prototype.error = function (err) {\n        if (!this.isStopped) {\n            var _parentSubscriber = this._parentSubscriber;\n            var useDeprecatedSynchronousErrorHandling = config_1.config.useDeprecatedSynchronousErrorHandling;\n            if (this._error) {\n                if (!useDeprecatedSynchronousErrorHandling || !_parentSubscriber.syncErrorThrowable) {\n                    this.__tryOrUnsub(this._error, err);\n                    this.unsubscribe();\n                }\n                else {\n                    this.__tryOrSetError(_parentSubscriber, this._error, err);\n                    this.unsubscribe();\n                }\n            }\n            else if (!_parentSubscriber.syncErrorThrowable) {\n                this.unsubscribe();\n                if (useDeprecatedSynchronousErrorHandling) {\n                    throw err;\n                }\n                hostReportError_1.hostReportError(err);\n            }\n            else {\n                if (useDeprecatedSynchronousErrorHandling) {\n                    _parentSubscriber.syncErrorValue = err;\n                    _parentSubscriber.syncErrorThrown = true;\n                }\n                else {\n                    hostReportError_1.hostReportError(err);\n                }\n                this.unsubscribe();\n            }\n        }\n    };\n    SafeSubscriber.prototype.complete = function () {\n        var _this = this;\n        if (!this.isStopped) {\n            var _parentSubscriber = this._parentSubscriber;\n            if (this._complete) {\n                var wrappedComplete = function () { return _this._complete.call(_this._context); };\n                if (!config_1.config.useDeprecatedSynchronousErrorHandling || !_parentSubscriber.syncErrorThrowable) {\n                    this.__tryOrUnsub(wrappedComplete);\n                    this.unsubscribe();\n                }\n                else {\n                    this.__tryOrSetError(_parentSubscriber, wrappedComplete);\n                    this.unsubscribe();\n                }\n            }\n            else {\n                this.unsubscribe();\n            }\n        }\n    };\n    SafeSubscriber.prototype.__tryOrUnsub = function (fn, value) {\n        try {\n            fn.call(this._context, value);\n        }\n        catch (err) {\n            this.unsubscribe();\n            if (config_1.config.useDeprecatedSynchronousErrorHandling) {\n                throw err;\n            }\n            else {\n                hostReportError_1.hostReportError(err);\n            }\n        }\n    };\n    SafeSubscriber.prototype.__tryOrSetError = function (parent, fn, value) {\n        if (!config_1.config.useDeprecatedSynchronousErrorHandling) {\n            throw new Error('bad call');\n        }\n        try {\n            fn.call(this._context, value);\n        }\n        catch (err) {\n            if (config_1.config.useDeprecatedSynchronousErrorHandling) {\n                parent.syncErrorValue = err;\n                parent.syncErrorThrown = true;\n                return true;\n            }\n            else {\n                hostReportError_1.hostReportError(err);\n                return true;\n            }\n        }\n        return false;\n    };\n    SafeSubscriber.prototype._unsubscribe = function () {\n        var _parentSubscriber = this._parentSubscriber;\n        this._context = null;\n        this._parentSubscriber = null;\n        _parentSubscriber.unsubscribe();\n    };\n    return SafeSubscriber;\n}(Subscriber));\nexports.SafeSubscriber = SafeSubscriber;\n//# sourceMappingURL=Subscriber.js.map"]},"metadata":{},"sourceType":"script"}