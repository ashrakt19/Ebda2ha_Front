<!-- JavaScript Bundle with Popper -->


<app-navbar></app-navbar>

<div class="header bg-default pb-8 pt-5 ">
  <div class="container-fluid">
    <div class="header-body">
      <!-- Card stats -->
      <div class="row">
        <div class="col-xl-3 col-lg-6">
          <div class="card card-stats mb-4 mb-xl-0">
            <div class="card-body">
              <div class="row">
                <div class="col">
                  <h5 class="card-title text-uppercase text-muted mb-0">Posts</h5>
                  <span class="h2 font-weight-bold mb-0">{{postsapprovedcount}}</span>
                </div>
                <div class="col-auto">
                  <div class="icon icon-shape bg-danger text-white rounded-circle shadow">
                    <i class="fas fa-paste"></i>
                  </div>
                </div>
              </div>
              <p class="mt-3 mb-0 text-muted text-sm">
              </p>
            </div>
          </div>
        </div>
        <div class="col-xl-3 col-lg-6">
          <div class="card card-stats mb-4 mb-xl-0">
            <div class="card-body">
              <div class="row">
                <div class="col">
                  <h5 class="card-title text-uppercase text-muted mb-0">Users</h5>
                  <span class="h2 font-weight-bold mb-0">{{userscount}}</span>
                </div>
                <div class="col-auto">
                  <div class="icon icon-shape bg-warning text-white rounded-circle shadow">
                    <i class="fas fa-users"></i>
                  </div>
                </div>
              </div>
              <p class="mt-3 mb-0 text-muted text-sm">
              </p>
            </div>
          </div>
        </div>
        <div class="col-xl-3 col-lg-6">
          <div class="card card-stats mb-4 mb-xl-0">
            <div class="card-body">
              <div class="row">
                <div class="col">
                  <h5 class="card-title text-uppercase text-muted mb-0">Admin</h5>
                  <span class="h2 font-weight-bold mb-0">{{adminconut}}</span>
                </div>
                <div class="col-auto">
                  <div class="icon icon-shape bg-yellow text-white rounded-circle shadow">
                    <i routerLink="/admin-profile" class="fas fa-users-cog"></i>
                  </div>
                </div>
              </div>
              <p class="mt-3 mb-0 text-muted text-sm">
              </p>
            </div>
          </div>
        </div>
        <div class="col-xl-3 col-lg-6">
          <div class="card card-stats mb-4 mb-xl-0">
            <div class="card-body">
              <div class="row">
                <div class="col">
                  <h5 class="card-title text-uppercase text-muted mb-0">Unapproved Posts</h5>
                  <span class="h2 font-weight-bold mb-0">{{postsunapprovedcount}}</span>
                </div>
                <div class="col-auto">
                  <div class="icon icon-shape bg-info text-white rounded-circle shadow">
                    <i routerLink="/unapproved-posts" class="fas fa-bell-slash"></i>
                  </div>
                </div>
              </div>
              <p class="mt-3 mb-0 text-muted text-sm">
              </p>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
<div class="container-fluid mt--7">
  <div class="row mt-5">
    <div class="col-xl-8 mb-5 mb-xl-0">
      <div class="card shadow">
        <div class="card-header border-0">
          <div class="row align-items-center">
            <div class="col">
              <h3 class="mb-0">Users List</h3>
            </div>
          </div>
        </div>
        <div class="table-responsive" >
          <!-- Projects table -->
          <table class="table align-items-center table-flush">
            <thead class="thead-light">
              <tr>
                <th scope="col">User name</th>
                <th scope="col">User Photo</th>
                <th scope="col">User Profile</th>
                <th scope="col">User Posts</th>
                <th scope="col">make admin</th>
                <th scope="col">block user</th>
              </tr>
            </thead>
            <tbody *ngFor="let user of userList; let i= index">
              
              <tr>
                <th scope="row">
                  {{user.firstName}} {{user.lastName}}
                </th>
                <td>
                  <img class="userPhoto" src="{{user.pic}}"/>
                </td>
                <td>
                  <button class="btn btn-sm btn-default" routerLink="/view-profile/{{ user._id }}">{{user.firstName}} {{user.lastName}}</button>
                </td>
                <td>
                   {{countUserpost[i]}}
                </td>
                <td>
                  <button
                    type="submit"
                    value="{{user._id}}"
                    class="btn btn-sm btn-default"
                    (click)="makeadmin($event.target.value)"
                
                  >
                    make admin
                  </button>
                </td>
                <td>
                  <button
                    type="submit"
                    value="{{user._id}}"
                    class="btn btn-sm btn-default"
                    (click)="blockuser($event.target.value)"
                
                  >
                    block user
                  </button>
                </td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
    </div>
    <div class="col-xl-4">
      <div class="card shadow">
        <div class="card-header border-0">
          <div class="row align-items-center">
            <div class="col">
              <h3 class="mb-0">Categories List</h3>
            </div>
          </div>
        </div>
        <div class="table-responsive">
          <!-- Projects table -->
          <table class="table align-items-center table-flush">
            <thead class="thead-light">
              <tr>
                <th scope="col">Category Name</th>
                <th scope="col">Category Id</th>
                <th scope="col">delete category</th>
              </tr>
            </thead>
            <tbody *ngFor="let summary of summaries">
              <tr>
                <th scope="row">
                  {{ summary.name }}
                </th>
                <td>
                 {{summary._id}}
                </td>
                <td>
                  <button
                    type="submit"
                    value="{{summary._id}}"
                    class="btn btn-sm btn-default"
                    (click)="deletecategory($event.target.value)"
                
                  >
                    Delete
                  </button>
                </td>
              </tr>
            </tbody>
            <div class="row align-items-center">
              <div class="col">
                <input type="text" class="form-control" placeholder="Category Name" [(ngModel)]="name" >
 
              </div>
              <div class="col text-right">
                <!-- <button type="button" (click)="addCategory()" class="btn btn-sm btn-primary">Add Category</button> -->
                <button
                    type="submit"
                    class="btn btn-sm btn-default"
                    (click)="addCategory()"
                
                  >
                    Add
                  </button>
              </div>
            </div>
          </table>
        </div>
      </div>
    </div>
  </div>
</div>

<app-footer></app-footer>
